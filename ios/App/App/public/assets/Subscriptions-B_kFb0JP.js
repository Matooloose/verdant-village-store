import{j as e,r as N,Q as se,u as Fe,a as Ie,h as Me,s as M,U as $e,B as p,w as $,C as h,c as k,d as j,q as _,e as C,M as P,K as Z,N as G}from"./index-cM6hlhfj.js";import{r as n}from"./vendor-Gsz-jK4b.js";import{T as Le,a as qe,b as K,c as J}from"./tabs-BISYs8ua.js";import{K as re,j as u,r as Be,n as Ye,u as te,W as ze,c as He,o as We,e as Ze,l as Ge,T as Ke,q as Je,p as ie,O as Qe,s as Xe}from"./ui-CAx9UBAP.js";import{C as es}from"./ContactSupportDialog-DWNhfqW5.js";import{A as Q}from"./arrow-left-DjF5G2qn.js";import{C as R}from"./crown-BG_BCAQs.js";import{C as X}from"./check-DidQSGY2.js";import{C as ss}from"./credit-card-bXMUO7OT.js";import{S as rs}from"./settings-DxJDx9M2.js";import{C as ts}from"./calendar-D-pImfms.js";import{Z as is}from"./zap-Vu6Io9Ax.js";import{f as ee}from"./format-CF2rwVyB.js";import"./input-lvqziEey.js";import"./label-D9QexlfX.js";import"./textarea-D68RpVGj.js";import"./constructFrom-rJN6zrQ_.js";var le="AlertDialog",[ls]=He(le,[re]),v=re(),ae=i=>{const{__scopeAlertDialog:s,...r}=i,l=v(s);return u.jsx(Be,{...l,...r,modal:!0})};ae.displayName=le;var as="AlertDialogTrigger",os=n.forwardRef((i,s)=>{const{__scopeAlertDialog:r,...l}=i,c=v(r);return u.jsx(Xe,{...c,...l,ref:s})});os.displayName=as;var ns="AlertDialogPortal",oe=i=>{const{__scopeAlertDialog:s,...r}=i,l=v(s);return u.jsx(Ye,{...l,...r})};oe.displayName=ns;var cs="AlertDialogOverlay",ne=n.forwardRef((i,s)=>{const{__scopeAlertDialog:r,...l}=i,c=v(r);return u.jsx(Qe,{...c,...l,ref:s})});ne.displayName=cs;var S="AlertDialogContent",[ds,us]=ls(S),ms=Ge("AlertDialogContent"),ce=n.forwardRef((i,s)=>{const{__scopeAlertDialog:r,children:l,...c}=i,E=v(r),a=n.useRef(null),U=te(s,a),V=n.useRef(null);return u.jsx(ze,{contentName:S,titleName:de,docsSlug:"alert-dialog",children:u.jsx(ds,{scope:r,cancelRef:V,children:u.jsxs(We,{role:"alertdialog",...E,...c,ref:U,onOpenAutoFocus:Ze(c.onOpenAutoFocus,b=>{var y;b.preventDefault(),(y=V.current)==null||y.focus({preventScroll:!0})}),onPointerDownOutside:b=>b.preventDefault(),onInteractOutside:b=>b.preventDefault(),children:[u.jsx(ms,{children:l}),u.jsx(vs,{contentRef:a})]})})})});ce.displayName=S;var de="AlertDialogTitle",ue=n.forwardRef((i,s)=>{const{__scopeAlertDialog:r,...l}=i,c=v(r);return u.jsx(Ke,{...c,...l,ref:s})});ue.displayName=de;var me="AlertDialogDescription",pe=n.forwardRef((i,s)=>{const{__scopeAlertDialog:r,...l}=i,c=v(r);return u.jsx(Je,{...c,...l,ref:s})});pe.displayName=me;var ps="AlertDialogAction",ve=n.forwardRef((i,s)=>{const{__scopeAlertDialog:r,...l}=i,c=v(r);return u.jsx(ie,{...c,...l,ref:s})});ve.displayName=ps;var Ne="AlertDialogCancel",be=n.forwardRef((i,s)=>{const{__scopeAlertDialog:r,...l}=i,{cancelRef:c}=us(Ne,r),E=v(r),a=te(s,c);return u.jsx(ie,{...E,...l,ref:a})});be.displayName=Ne;var vs=({contentRef:i})=>{const s=`\`${S}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${S}\` by passing a \`${me}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${S}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return n.useEffect(()=>{var l;document.getElementById((l=i.current)==null?void 0:l.getAttribute("aria-describedby"))||console.warn(s)},[s,i]),null},Ns=ae,bs=oe,ge=ne,fe=ce,xe=ve,De=be,he=ue,Ce=pe;const gs=Ns,fs=bs,Se=n.forwardRef(({className:i,...s},r)=>e.jsxDEV(ge,{className:N("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",i),...s,ref:r},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/alert-dialog.tsx",lineNumber:17,columnNumber:3},void 0));Se.displayName=ge.displayName;const Ee=n.forwardRef(({className:i,...s},r)=>e.jsxDEV(fs,{children:[e.jsxDEV(Se,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/alert-dialog.tsx",lineNumber:33,columnNumber:5},void 0),e.jsxDEV(fe,{ref:r,className:N("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",i),...s},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/alert-dialog.tsx",lineNumber:34,columnNumber:5},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/alert-dialog.tsx",lineNumber:32,columnNumber:3},void 0));Ee.displayName=fe.displayName;const ke=({className:i,...s})=>e.jsxDEV("div",{className:N("flex flex-col space-y-2 text-center sm:text-left",i),...s},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/alert-dialog.tsx",lineNumber:47,columnNumber:3},void 0);ke.displayName="AlertDialogHeader";const je=({className:i,...s})=>e.jsxDEV("div",{className:N("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",i),...s},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/alert-dialog.tsx",lineNumber:52,columnNumber:3},void 0);je.displayName="AlertDialogFooter";const Ue=n.forwardRef(({className:i,...s},r)=>e.jsxDEV(he,{ref:r,className:N("text-lg font-semibold",i),...s},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/alert-dialog.tsx",lineNumber:60,columnNumber:3},void 0));Ue.displayName=he.displayName;const Ve=n.forwardRef(({className:i,...s},r)=>e.jsxDEV(Ce,{ref:r,className:N("text-sm text-muted-foreground",i),...s},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/alert-dialog.tsx",lineNumber:68,columnNumber:3},void 0));Ve.displayName=Ce.displayName;const ye=n.forwardRef(({className:i,...s},r)=>e.jsxDEV(xe,{ref:r,className:N(se(),i),...s},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/alert-dialog.tsx",lineNumber:76,columnNumber:3},void 0));ye.displayName=xe.displayName;const we=n.forwardRef(({className:i,...s},r)=>e.jsxDEV(De,{ref:r,className:N(se({variant:"outline"}),"mt-2 sm:mt-0",i),...s},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/alert-dialog.tsx",lineNumber:84,columnNumber:3},void 0));we.displayName=De.displayName;const $s=()=>{var H,W;const s=Fe(),{user:r}=Ie(),{toast:l}=Me(),[c,E]=n.useState([]),[a,U]=n.useState(null),[V,b]=n.useState(!0),[y,T]=n.useState("plans"),[xs,Ds]=n.useState("monthly"),[Ae,O]=n.useState(!1),[hs,Cs]=n.useState(!1),[_e,L]=n.useState(!1),q=n.useCallback(async()=>{try{const{data:t,error:o}=await M.from("subscription_plans").select("*").eq("is_active",!0).order("price");if(o)throw o;E((t||[]).map(m=>({...m,features:Array.isArray(m.features)?m.features.map(String):[]})))}catch(t){console.error("Error fetching plans:",t),l({title:"Error",description:"Failed to load subscription plans",variant:"destructive"})}finally{b(!1)}},[l]),B=n.useCallback(async()=>{if(r)try{const{data:t,error:o}=await M.from("user_subscriptions").select(`
          *,
          subscription_plan:subscription_plans(*)
        `).eq("user_id",r.id).eq("status","active").order("created_at",{ascending:!1}).limit(1).maybeSingle();if(o)throw o;U(t)}catch(t){console.error("Error fetching user subscription:",t)}},[r]);n.useEffect(()=>{q(),r&&B()},[r,q,B]);const Y=$e();n.useEffect(()=>{try{const o=new URLSearchParams(Y.search).get("next");o&&localStorage.setItem("subscription_next",o)}catch{}},[Y.search]),n.useEffect(()=>{if(!a)return;if(!a||a.status!=="active"?!1:a.end_date?new Date(a.end_date)>new Date:!0)try{const o=localStorage.getItem("subscription_next");o&&(localStorage.removeItem("subscription_next"),s(o))}catch{}},[a,s]);const Pe=async(t,o)=>{if(!r){s("/login");return}let m=null;try{const g=o.duration_months>0?new Date(Date.now()+o.duration_months*30*24*60*60*1e3).toISOString():null,D=r,F=D!=null&&D.email?String(D.email):"",I={plan:{price:o.price,name:o.name},userEmail:F},f=await fetch("undefined/subscriptions/create-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});if(!f.ok){const A=await f.text();throw new Error(A||`Failed to create intent: ${f.status}`)}const d=await f.json(),x=(d==null?void 0:d.redirectUrl)||(d==null?void 0:d.redirect_url)||(d==null?void 0:d.url);if(x){Z.isNativePlatform()?await G.open({url:x}):window.location.href=x,l({title:"Processing Payment",description:"Opening PayFast sandbox payment page."});return}if(m=d==null?void 0:d.id,!m)throw new Error("No intent id returned")}catch(g){console.error("Failed to create pending subscription intent:",g),l({title:"Error",description:"Could not start subscription. Please try again.",variant:"destructive"});return}try{const g=Z.isNativePlatform(),D=g?"https://matooloose.github.io/page_for_redirection/index.html":window.location.origin+"/subscriptions",F=window.location.origin+"/subscriptions",I=o.duration_months===0?"one_time":o.duration_months===1?"monthly":o.duration_months===12?"annual":"one_time",f={amount:o.price.toFixed(2),item_name:o.name,item_description:o.description||o.name,return_url:D,cancel_url:F,notify_url:"https://paying-project.onrender.com/payfast-webhook",custom_str1:m,custom_str2:r.id,subscription_type:"chat",subscription_option:I};console.log("Requesting PayFast URL for subscription:",f);const d=await fetch("https://paying-project.onrender.com/payfast-url",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},mode:"cors",body:JSON.stringify(f)});if(!d.ok){const A=await d.text();throw console.error("PayFast server error response:",A),new Error(A||`PayFast server error: ${d.status}`)}const x=await d.json();if(!x.url)throw new Error("PayFast URL generation failed - no URL returned");g?await G.open({url:x.url}):window.location.href=x.url,l({title:"Processing Payment",description:"Please complete the payment in the new window."})}catch(g){console.error("Error initiating PayFast subscription:",g),l({title:"Payment Error",description:"Failed to start payment. Please try again.",variant:"destructive"})}},Re=async()=>{if(!a){l({title:"No subscription",description:"No active subscription to cancel",variant:"destructive"});return}if(!r){l({title:"Not authenticated",description:"Please sign in to manage your subscription",variant:"destructive"});return}try{const{data:t,error:o}=await M.rpc("cancel_subscription",{_user_id:r.id,_subscription_id:a.id,_reason:"user_request",_source:"user"});if(o){console.error("RPC cancel_subscription error:",o),l({title:"Cancel failed",description:o.message||"Unable to cancel subscription",variant:"destructive"});return}if(!t){l({title:"Cancel failed",description:"Unexpected server response",variant:"destructive"});return}l({title:"Subscription cancelled",description:"Your subscription has been cancelled"}),U(null);try{const m=new CustomEvent("subscription:changed",{detail:{id:a.id,status:"cancelled"}});window.dispatchEvent(m),localStorage.setItem("subscription_changed_at",Date.now().toString())}catch{}O(!1),T("plans")}catch(t){console.error("Error cancelling subscription (RPC):",t),l({title:"Error",description:"Failed to cancel subscription",variant:"destructive"})}},Te=t=>t.toLowerCase().includes("monthly")?e.jsxDEV(ts,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:315,columnNumber:56},void 0):t.toLowerCase().includes("annual")?e.jsxDEV(R,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:316,columnNumber:55},void 0):e.jsxDEV(is,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:317,columnNumber:12},void 0),Oe=t=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR"}).format(t),z=()=>c.find(t=>t.id===(a==null?void 0:a.subscription_plan_id)),w=()=>!a||a.status!=="active"?!1:a.end_date?new Date(a.end_date)>new Date:!0;return V?e.jsxDEV("div",{className:"min-h-screen bg-background",children:[e.jsxDEV("header",{className:"page-topbar sticky top-0 z-50 bg-card border-b",children:e.jsxDEV("div",{className:"container mx-auto px-4 py-3",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(p,{variant:"ghost",size:"sm",onClick:()=>s(-1),children:e.jsxDEV(Q,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:345,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:344,columnNumber:15},void 0),e.jsxDEV("h1",{className:"ml-2 text-lg font-semibold",children:"Subscriptions"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:347,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:343,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:342,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:341,columnNumber:3},void 0),e.jsxDEV("main",{className:"container mx-auto px-4 py-6",children:e.jsxDEV("div",{className:"space-y-6 animate-pulse",children:[e.jsxDEV("div",{className:"h-32 bg-muted rounded-lg"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:353,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(t=>e.jsxDEV("div",{className:"h-96 bg-muted rounded-lg"},t,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:356,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:354,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:352,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:351,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:340,columnNumber:7},void 0):e.jsxDEV("div",{className:"min-h-screen bg-background",children:[e.jsxDEV("header",{className:"page-topbar sticky top-0 z-50 bg-card border-b shadow-sm",children:e.jsxDEV("div",{className:"container mx-auto px-4 py-3",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(p,{variant:"ghost",size:"sm",onClick:()=>s(-1),children:e.jsxDEV(Q,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:373,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:372,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-lg font-semibold",children:"Subscriptions"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:376,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Manage your FarmFresh membership"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:377,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:375,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:371,columnNumber:13},void 0),a&&w()&&e.jsxDEV($,{variant:"outline",className:"gap-2",children:[e.jsxDEV(R,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:383,columnNumber:17},void 0),((H=z())==null?void 0:H.name)||"Active"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:382,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:370,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:369,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:368,columnNumber:3},void 0),e.jsxDEV("main",{className:"container mx-auto px-4 py-6 max-w-6xl",children:e.jsxDEV(Le,{value:y,onValueChange:T,children:[e.jsxDEV(qe,{className:"grid w-full grid-cols-2",children:[e.jsxDEV(K,{value:"plans",children:"Plans"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:394,columnNumber:13},void 0),e.jsxDEV(K,{value:"manage",children:"Manage"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:395,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:393,columnNumber:11},void 0),e.jsxDEV(J,{value:"plans",className:"space-y-6",children:[a&&w()&&e.jsxDEV(h,{className:"border-primary/20 bg-primary/5",children:[e.jsxDEV(k,{children:[e.jsxDEV(j,{className:"flex items-center text-primary",children:[e.jsxDEV(X,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:405,columnNumber:21},void 0),"Active Subscription"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:404,columnNumber:19},void 0),e.jsxDEV(_,{children:"You have access to chat features. Your subscription is active."},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:408,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:403,columnNumber:17},void 0),e.jsxDEV(C,{children:e.jsxDEV(p,{onClick:()=>s("/messages"),className:"w-full",children:[e.jsxDEV(P,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:414,columnNumber:21},void 0),"Start Chatting"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:413,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:412,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:402,columnNumber:15},void 0),(!a||!w())&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"text-center mb-8",children:[e.jsxDEV("h2",{className:"text-xl font-semibold mb-2",children:"Choose Your Plan"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:425,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-muted-foreground",children:"Subscribe to chat with farmers and get priority support"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:426,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:424,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid md:grid-cols-3 gap-6",children:c.map(t=>e.jsxDEV(h,{className:`relative ${t.duration_months===12?"border-primary shadow-lg":""}`,children:[t.duration_months===12&&e.jsxDEV($,{className:"absolute -top-2 left-1/2 transform -translate-x-1/2",children:"Most Popular"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:438,columnNumber:25},void 0),e.jsxDEV(k,{className:"text-center",children:[e.jsxDEV("div",{className:"mx-auto mb-4 p-3 bg-primary/10 rounded-full w-fit",children:Te(t.name)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:444,columnNumber:25},void 0),e.jsxDEV(j,{children:t.name},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:447,columnNumber:25},void 0),e.jsxDEV(_,{children:t.description},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:448,columnNumber:25},void 0),e.jsxDEV("div",{className:"mt-4",children:[e.jsxDEV("span",{className:"text-3xl font-bold",children:Oe(t.price)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:450,columnNumber:27},void 0),t.duration_months>0&&e.jsxDEV("span",{className:"text-muted-foreground",children:["/",t.duration_months===1?"month":t.duration_months===12?"year":`${t.duration_months} months`]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:452,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:449,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:443,columnNumber:23},void 0),e.jsxDEV(C,{children:[e.jsxDEV("ul",{className:"space-y-3 mb-6",children:(Array.isArray(t.features)?t.features:[]).map((o,m)=>e.jsxDEV("li",{className:"flex items-center",children:[e.jsxDEV(X,{className:"h-4 w-4 text-primary mr-3"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:463,columnNumber:31},void 0),e.jsxDEV("span",{className:"text-sm",children:o},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:464,columnNumber:31},void 0)]},m,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:462,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:460,columnNumber:25},void 0),e.jsxDEV(p,{className:"w-full",variant:t.duration_months===12?"default":"outline",onClick:()=>Pe(t.id,t),children:"Subscribe Now"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:469,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:459,columnNumber:23},void 0)]},t.id,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:433,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:431,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:423,columnNumber:15},void 0),e.jsxDEV(h,{className:"mt-8",children:[e.jsxDEV(k,{children:[e.jsxDEV(j,{children:"What's Included"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:486,columnNumber:17},void 0),e.jsxDEV(_,{children:"All subscription plans include these features"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:487,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:485,columnNumber:15},void 0),e.jsxDEV(C,{children:e.jsxDEV("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"flex items-start space-x-3",children:[e.jsxDEV(P,{className:"h-5 w-5 text-primary mt-0.5"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:492,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-medium",children:"Direct Chat with Farmers"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:494,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Ask questions about products, availability, and farming practices"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:495,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:493,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:491,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-start space-x-3",children:[e.jsxDEV(R,{className:"h-5 w-5 text-primary mt-0.5"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:501,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-medium",children:"Direct Chat with Admin"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:503,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Reach our admin team directly for billing and account help"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:504,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:502,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:500,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:490,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:489,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:484,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:399,columnNumber:11},void 0),e.jsxDEV(J,{value:"manage",className:"space-y-6",children:a&&w()?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(h,{children:[e.jsxDEV(k,{children:[e.jsxDEV(j,{className:"flex items-center gap-2",children:[e.jsxDEV(ss,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:522,columnNumber:23},void 0),"Current Subscription"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:521,columnNumber:21},void 0),e.jsxDEV(_,{children:"Manage your active subscription"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:525,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:520,columnNumber:19},void 0),e.jsxDEV(C,{className:"space-y-4",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-medium",children:"Plan"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:532,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:(W=z())==null?void 0:W.name},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:533,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:531,columnNumber:23},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-medium",children:"Status"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:536,columnNumber:25},void 0),e.jsxDEV($,{variant:"outline",className:"text-green-600",children:a.status},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:537,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:535,columnNumber:23},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-medium",children:"Started"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:542,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:a.start_date?ee(new Date(a.start_date),"MMM d, yyyy"):"N/A"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:543,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:541,columnNumber:23},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-medium",children:a.end_date?"Expires":"Duration"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:548,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:a.end_date?ee(new Date(a.end_date),"MMM d, yyyy"):"Lifetime"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:551,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:547,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:530,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-3 pt-4",children:[e.jsxDEV(p,{onClick:()=>s("/messages"),className:"flex-1",children:[e.jsxDEV(P,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:562,columnNumber:25},void 0),"Start Chatting"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:561,columnNumber:23},void 0),e.jsxDEV(p,{variant:"outline",onClick:()=>O(!0),className:"text-red-600 hover:text-red-700",children:"Cancel Subscription"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:565,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:560,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:529,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:519,columnNumber:17},void 0),e.jsxDEV(h,{children:[e.jsxDEV(k,{children:e.jsxDEV(j,{className:"flex items-center gap-2",children:[e.jsxDEV(rs,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:580,columnNumber:23},void 0),"Quick Actions"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:579,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:578,columnNumber:19},void 0),e.jsxDEV(C,{children:e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV(p,{variant:"outline",onClick:()=>s("/messages"),children:[e.jsxDEV(P,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:587,columnNumber:25},void 0),"Chat with Farmers"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:586,columnNumber:23},void 0),e.jsxDEV(p,{variant:"outline",onClick:()=>L(!0),children:[e.jsxDEV(R,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:591,columnNumber:25},void 0),"Contact Support"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:590,columnNumber:23},void 0),e.jsxDEV(es,{open:_e,onOpenChange:L},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:594,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:585,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:584,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:577,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:517,columnNumber:15},void 0):e.jsxDEV(h,{children:e.jsxDEV(C,{className:"pt-6 text-center",children:[e.jsxDEV("h3",{className:"text-lg font-medium mb-2",children:"No Active Subscription"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:602,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"Subscribe to access chat features and priority support"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:603,columnNumber:19},void 0),e.jsxDEV(p,{onClick:()=>T("plans"),children:"View Plans"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:606,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:601,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:600,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:515,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:392,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:391,columnNumber:7},void 0),e.jsxDEV(gs,{open:Ae,onOpenChange:O,children:e.jsxDEV(Ee,{children:[e.jsxDEV(ke,{children:[e.jsxDEV(Ue,{children:"Cancel Subscription?"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:620,columnNumber:13},void 0),e.jsxDEV(Ve,{children:"Are you sure you want to cancel your subscription? You'll lose access to chat features immediately."},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:621,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:619,columnNumber:11},void 0),e.jsxDEV(je,{children:[e.jsxDEV(we,{children:"Keep Subscription"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:626,columnNumber:13},void 0),e.jsxDEV(ye,{className:"bg-red-600 hover:bg-red-700",onClick:Re,children:"Cancel Subscription"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:627,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:625,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:618,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:617,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Subscriptions.tsx",lineNumber:366,columnNumber:5},void 0)};export{$s as default};
