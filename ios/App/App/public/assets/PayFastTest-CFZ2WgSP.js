import{j as e,r as p,t as y,C as D,c as h,d as C,q as T,e as P,B as N,X as k,p as j,w as d}from"./index-cM6hlhfj.js";import{r as o}from"./vendor-Gsz-jK4b.js";import{a as c}from"./payfast-Bsiuem9E.js";import{C as F}from"./credit-card-bXMUO7OT.js";import{C as E}from"./check-DidQSGY2.js";import"./ui-CAx9UBAP.js";const U=y("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),f=o.forwardRef(({className:r,variant:l,...n},m)=>e.jsxDEV("div",{ref:m,role:"alert",className:p(U({variant:l}),r),...n},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/alert.tsx",lineNumber:25,columnNumber:3},void 0));f.displayName="Alert";const V=o.forwardRef(({className:r,...l},n)=>e.jsxDEV("h5",{ref:n,className:p("mb-1 font-medium leading-none tracking-tight",r),...l},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/alert.tsx",lineNumber:31,columnNumber:5},void 0));V.displayName="AlertTitle";const v=o.forwardRef(({className:r,...l},n)=>e.jsxDEV("div",{ref:n,className:p("text-sm [&_p]:leading-relaxed",r),...l},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/alert.tsx",lineNumber:38,columnNumber:5},void 0));v.displayName="AlertDescription";const z=()=>{const[r,l]=o.useState([]),[n,m]=o.useState(!1),g=async()=>{m(!0),l([]);const t=[{name:"PayFast Service Initialization",test:async()=>new c?"Service initialized successfully":"Failed to initialize"},{name:"Generate Payment Data",test:async()=>await new c().createPayment({amount:100,itemName:"Test Order",itemDescription:"Test payment for integration",orderId:"test-order-123"})?"Payment data generated successfully":"Failed to generate payment data"},{name:"Signature Generation",test:async()=>{try{return(await(await fetch("http://localhost:3001/api/payfast-signature",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({merchant_id:"10004002",merchant_key:"q1cd2rdny4a53",amount:"100.00",item_name:"Test Order"})})).json()).signature?"Signature generated successfully":"Failed to generate signature"}catch(s){return`Signature server error: ${s}`}}},{name:"PayFast Sandbox Connection",test:async()=>{try{const a=await fetch("https://sandbox.payfast.co.za/eng/process",{method:"HEAD",mode:"no-cors"});return"PayFast sandbox accessible"}catch{return"PayFast sandbox connection test (CORS expected)"}}}],i=[];for(const s of t)try{const a=await s.test();i.push({name:s.name,status:"success",message:a})}catch(a){i.push({name:s.name,status:"error",message:a instanceof Error?a.message:"Unknown error"})}l(i),m(!1)},b=async()=>{try{const i=await new c().createPayment({amount:10,itemName:"Test Product",itemDescription:"Test payment integration",orderId:`test-${Date.now()}`,customerEmail:"test@example.com",customerName:"Test User"}),s=document.createElement("form");s.method="POST",s.action="https://sandbox.payfast.co.za/eng/process",s.target="_blank",Object.entries(i).forEach(([a,x])=>{const u=document.createElement("input");u.type="hidden",u.name=a,u.value=String(x),s.appendChild(u)}),document.body.appendChild(s),s.submit(),document.body.removeChild(s)}catch(t){alert(`Test payment failed: ${t}`)}};return e.jsxDEV("div",{className:"container mx-auto px-4 py-8",children:e.jsxDEV(D,{className:"max-w-4xl mx-auto",children:[e.jsxDEV(h,{children:[e.jsxDEV(C,{className:"flex items-center gap-2",children:[e.jsxDEV(F,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:138,columnNumber:13},void 0),"PayFast Integration Test"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:137,columnNumber:11},void 0),e.jsxDEV(T,{children:"Test the PayFast payment integration and verify all components are working correctly."},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:141,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:136,columnNumber:9},void 0),e.jsxDEV(P,{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex gap-4",children:[e.jsxDEV(N,{onClick:g,disabled:n,children:n?"Running Tests...":"Run Integration Tests"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:148,columnNumber:13},void 0),e.jsxDEV(N,{variant:"outline",onClick:b,children:"Test Payment (R10)"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:151,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:147,columnNumber:11},void 0),r.length>0&&e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold",children:"Test Results"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:158,columnNumber:15},void 0),r.map((t,i)=>e.jsxDEV(f,{className:t.status==="error"?"border-red-500":"border-green-500",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[t.status==="success"?e.jsxDEV(E,{className:"h-4 w-4 text-green-500"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:163,columnNumber:23},void 0):t.status==="error"?e.jsxDEV(k,{className:"h-4 w-4 text-red-500"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:165,columnNumber:23},void 0):e.jsxDEV(j,{className:"h-4 w-4 text-yellow-500"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:167,columnNumber:23},void 0),e.jsxDEV(d,{variant:t.status==="success"?"default":"destructive",children:t.name},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:169,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:161,columnNumber:19},void 0),e.jsxDEV(v,{className:"mt-2",children:t.message},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:173,columnNumber:19},void 0)]},i,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:160,columnNumber:17},void 0))]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:157,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxDEV("h4",{className:"font-semibold mb-2",children:"Configuration Status"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:182,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-2 text-sm",children:[e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:"PayFast Sandbox Mode:"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:185,columnNumber:17},void 0),e.jsxDEV(d,{variant:"outline",children:"Enabled"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:186,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:184,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:"Signature Server:"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:189,columnNumber:17},void 0),e.jsxDEV(d,{variant:"outline",children:"localhost:3001"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:190,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:188,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:"Webhook Handler:"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:193,columnNumber:17},void 0),e.jsxDEV(d,{variant:"outline",children:"localhost:3002"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:194,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:192,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:"Return URL:"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:197,columnNumber:17},void 0),e.jsxDEV(d,{variant:"outline",children:"/payment-success"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:198,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:196,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:"Cancel URL:"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:201,columnNumber:17},void 0),e.jsxDEV(d,{variant:"outline",children:"/payment-cancelled"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:202,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:200,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:183,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:181,columnNumber:11},void 0),e.jsxDEV(f,{children:e.jsxDEV(v,{children:[e.jsxDEV("strong",{children:"Testing Instructions:"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:209,columnNumber:15},void 0),e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:210,columnNumber:15},void 0),"1. Run integration tests to verify all components",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:211,columnNumber:15},void 0),"2. Test payment with R10 amount (opens PayFast sandbox)",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:212,columnNumber:15},void 0),"3. Use test card: 4000000000000002 (for successful payments)",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:213,columnNumber:15},void 0),"4. Check console logs for webhook notifications",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:214,columnNumber:15},void 0),"5. Verify order status updates in database"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:208,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:207,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:146,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:135,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/PayFastTest.tsx",lineNumber:134,columnNumber:5},void 0)};export{z as default};
