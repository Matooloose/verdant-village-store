import{g as Z,j as e,r as Pe,E as ds,x as us,a as cs,h as ms,u as fs,J as vs,B as I,C as q,e as G,F as Ee,c as J,d as K,T as W,w as ne,i as ps,s as ye,K as Ns,N as gs,H as xs}from"./index-cM6hlhfj.js";import{r as t}from"./vendor-Gsz-jK4b.js";import{I as T}from"./input-lvqziEey.js";import{L as F}from"./label-D9QexlfX.js";import{T as hs}from"./textarea-D68RpVGj.js";import{H as Re,E as bs,b as Cs,j as U,c as _e,I as ks,P as ee,u as me,J as Ds,e as ue,d as Es,G as ys}from"./ui-CAx9UBAP.js";import{u as js}from"./index-CDAgKskh.js";import{S as de}from"./separator-mZ8pIJB6.js";import{g as je}from"./errorUtils-CJZl7d-w.js";import{A as Us}from"./arrow-left-DjF5G2qn.js";import{C as L}from"./circle-alert-C1-S23ot.js";import{M as X}from"./map-pin-DADrLx4s.js";import{U as Vs}from"./user-BaGUUbkP.js";import{C as Ue}from"./credit-card-bXMUO7OT.js";import{S as Ve}from"./save-CNSqlmlG.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=Z("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=Z("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=Z("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=Z("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);var fe="Radio",[_s,Fe]=_e(fe),[Fs,Ss]=_s(fe),Se=t.forwardRef((m,f)=>{const{__scopeRadio:o,name:g,checked:c=!1,required:i,disabled:l,value:p="on",onCheck:x,form:k,...V}=m,[n,h]=t.useState(null),d=me(f,S=>h(S)),u=t.useRef(!1),D=n?k||!!n.closest("form"):!0;return U.jsxs(Fs,{scope:o,checked:c,disabled:l,children:[U.jsx(ee.button,{type:"button",role:"radio","aria-checked":c,"data-state":Oe(c),"data-disabled":l?"":void 0,disabled:l,value:p,...V,ref:d,onClick:ue(m.onClick,S=>{c||x==null||x(),D&&(u.current=S.isPropagationStopped(),u.current||S.stopPropagation())})}),D&&U.jsx(Ae,{control:n,bubbles:!u.current,name:g,value:p,checked:c,required:i,disabled:l,form:k,style:{transform:"translateX(-100%)"}})]})});Se.displayName=fe;var Ie="RadioIndicator",Me=t.forwardRef((m,f)=>{const{__scopeRadio:o,forceMount:g,...c}=m,i=Ss(Ie,o);return U.jsx(Es,{present:g||i.checked,children:U.jsx(ee.span,{"data-state":Oe(i.checked),"data-disabled":i.disabled?"":void 0,...c,ref:f})})});Me.displayName=Ie;var Is="RadioBubbleInput",Ae=t.forwardRef(({__scopeRadio:m,control:f,checked:o,bubbles:g=!0,...c},i)=>{const l=t.useRef(null),p=me(l,i),x=js(o),k=ys(f);return t.useEffect(()=>{const V=l.current;if(!V)return;const n=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(n,"checked").set;if(x!==o&&d){const u=new Event("click",{bubbles:g});d.call(V,o),V.dispatchEvent(u)}},[x,o,g]),U.jsx(ee.input,{type:"radio","aria-hidden":!0,defaultChecked:o,...c,tabIndex:-1,ref:p,style:{...c.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Ae.displayName=Is;function Oe(m){return m?"checked":"unchecked"}var Ms=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],se="RadioGroup",[As]=_e(se,[Re,Fe]),Te=Re(),$e=Fe(),[Os,Ts]=As(se),qe=t.forwardRef((m,f)=>{const{__scopeRadioGroup:o,name:g,defaultValue:c,value:i,required:l=!1,disabled:p=!1,orientation:x,dir:k,loop:V=!0,onValueChange:n,...h}=m,d=Te(o),u=bs(k),[D,S]=Cs({prop:i,defaultProp:c??null,onChange:n,caller:se});return U.jsx(Os,{scope:o,name:g,required:l,disabled:p,value:D,onValueChange:S,children:U.jsx(ks,{asChild:!0,...d,orientation:x,dir:u,loop:V,children:U.jsx(ee.div,{role:"radiogroup","aria-required":l,"aria-orientation":x,"data-disabled":p?"":void 0,dir:u,...h,ref:f})})})});qe.displayName=se;var Ge="RadioGroupItem",Be=t.forwardRef((m,f)=>{const{__scopeRadioGroup:o,disabled:g,...c}=m,i=Ts(Ge,o),l=i.disabled||g,p=Te(o),x=$e(o),k=t.useRef(null),V=me(f,k),n=i.value===c.value,h=t.useRef(!1);return t.useEffect(()=>{const d=D=>{Ms.includes(D.key)&&(h.current=!0)},u=()=>h.current=!1;return document.addEventListener("keydown",d),document.addEventListener("keyup",u),()=>{document.removeEventListener("keydown",d),document.removeEventListener("keyup",u)}},[]),U.jsx(Ds,{asChild:!0,...p,focusable:!l,active:n,children:U.jsx(Se,{disabled:l,required:i.required,checked:n,...x,...c,name:i.name,ref:V,onCheck:()=>i.onValueChange(c.value),onKeyDown:ue(d=>{d.key==="Enter"&&d.preventDefault()}),onFocus:ue(c.onFocus,()=>{var d;h.current&&((d=k.current)==null||d.click())})})})});Be.displayName=Ge;var $s="RadioGroupIndicator",Le=t.forwardRef((m,f)=>{const{__scopeRadioGroup:o,...g}=m,c=$e(o);return U.jsx(Me,{...c,...g,ref:f})});Le.displayName=$s;var ze=qe,Ye=Be,qs=Le;const ce=t.forwardRef(({className:m,...f},o)=>e.jsxDEV(ze,{className:Pe("grid gap-2",m),...f,ref:o},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/radio-group.tsx",lineNumber:11,columnNumber:10},void 0));ce.displayName=ze.displayName;const Q=t.forwardRef(({className:m,...f},o)=>e.jsxDEV(Ye,{ref:o,className:Pe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",m),...f,children:e.jsxDEV(qs,{className:"flex items-center justify-center",children:e.jsxDEV(Ps,{className:"h-2.5 w-2.5 fill-current text-current"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/radio-group.tsx",lineNumber:29,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/radio-group.tsx",lineNumber:28,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/radio-group.tsx",lineNumber:20,columnNumber:5},void 0));Q.displayName=Ye.displayName;const Gs=()=>{const{cartItems:m,getTotalPrice:f,clearCart:o,getFarmGroups:g,clearFarmCart:c}=us(),{user:i}=cs(),{toast:l}=ms(),p=fs(),[x]=vs(),k=x.get("farm"),V=g(),n=k?V.find(s=>s.farmName===k):null,h=n?n.items:m,d=n?n.totalPrice:f(),[u,D]=t.useState({fullName:"",phoneNumber:"",address:"",email:""}),[S,b]=t.useState(!1),[E,He]=t.useState({}),[y,Je]=t.useState("delivery"),[re,ve]=t.useState(""),[N,le]=t.useState(null),[pe,w]=t.useState(""),[te,Ne]=t.useState(!1),[ae,Ke]=t.useState(!1),oe=0,ge=(s,r,v,R)=>{if(r>=500)return 0;let C=0;C=30;let A=0;return v>7&&(A=Math.ceil(v-7)*7),C+A+R},We=s=>s.reduce((r,v)=>r+v.quantity,0),Xe=s=>0,Qe=async s=>{if(!s.trim())return w("Please enter a promo code"),!1;Ne(!0),w("");try{return w("Promo code system is temporarily disabled"),!1;const{data:r,error:v}=await xs.from("promo_codes").select("*").eq("code",s.toUpperCase()).eq("is_active",!0).single();if(v||!r)return w("Invalid promo code"),!1;const R=new Date,C=new Date(r.start_date),A=new Date(r.end_date);return R<C?(w("This promo code is not yet active"),!1):R>A?(w("This promo code has expired"),!1):r.usage_limit&&r.used_count>=r.usage_limit?(w("This promo code has reached its usage limit"),!1):r.min_order_value&&d<r.min_order_value?(w(`Minimum order value of R${r.min_order_value} required`),!1):(le(r),l({title:"Promo Code Applied!",description:`${r.description} applied to your order`,variant:"default"}),!0)}catch(r){const v=je(r);return console.error("Promo validation error:",v),w(v||"Error validating promo code"),!1}finally{Ne(!1)}},Ze=()=>{if(!N)return 0;let s=0;return N.discount_type==="percentage"?s=d*N.discount_value/100:N.discount_type==="fixed"&&(s=N.discount_value),N.max_discount_cap&&s>N.max_discount_cap&&(s=N.max_discount_cap),Math.min(s,d)},es=async()=>{await Qe(re)||le(null)},ss=()=>{le(null),ve(""),w(""),l({title:"Promo Code Removed",description:"Discount has been removed from your order"})},xe=We(h),he=Xe(),M=y==="collection"?0:ge(oe,d,xe,he),be=ge(oe,d,xe,he),B=Ze(),Ce=d-B,ke=M===-1?Ce:Ce+M;f&&f();const ie=ke,z=[{value:"payfast",label:"PayFast"},{value:"payshap",label:"Payshap"},{value:"card",label:"Card"},{value:"cash",label:"Cash on Delivery (Coming soon)",disabled:!0}],[P,rs]=t.useState(z[0].value),[ls,De]=t.useState(!1);t.useEffect(()=>{De(P==="card")},[P]);const ts=s=>{const r=z.find(v=>v.value===s);if(r!=null&&r.disabled){l({title:"Coming Soon",description:`${r.label} is not available yet. Please choose another payment method.`,variant:"default"});return}rs(s)},[Ls,zs]=t.useState(!1),[Ys,Hs]=t.useState("one_time");t.useEffect(()=>{i&&D(s=>{var r;return{...s,fullName:((r=i.email)==null?void 0:r.split("@")[0])||"",email:i.email||"",phoneNumber:""}})},[i]);const as=()=>{const s={};return u.fullName||(s.fullName="Full name is required."),u.phoneNumber||(s.phoneNumber="Phone number is required."),y==="delivery"&&!u.address&&(s.address="Delivery address is required."),u.email||(s.email="Email is required."),s},os=async()=>{var r;b(!0);const s=as();if(He(s),Object.keys(s).length>0){l({title:"Validation Error",description:"Please fix errors before submitting.",variant:"destructive"}),b(!1);return}try{const v=z.find(a=>a.value===P);if(v!=null&&v.disabled){l({title:"Coming Soon",description:`${v.label} is not available yet. Please choose another payment method.`,variant:"default"}),b(!1);return}for(const a of m){if(!a.id||typeof a.id!="string"||!/^([0-9a-fA-F-]{36})$/.test(a.id)){l({title:"Cart Error",description:`Product ID missing or invalid for item: ${JSON.stringify(a)}`,variant:"destructive"}),b(!1);return}if(!a.quantity||typeof a.quantity!="number"||a.quantity<=0){l({title:"Cart Error",description:`Invalid quantity for item: ${JSON.stringify(a)}`,variant:"destructive"}),b(!1);return}if(typeof a.price!="number"||a.price<0){l({title:"Cart Error",description:`Invalid price for item: ${JSON.stringify(a)}`,variant:"destructive"}),b(!1);return}}if(!(i!=null&&i.id)){l({title:"Error",description:"User not authenticated",variant:"destructive"}),b(!1);return}const R=await ye.from("orders").insert({user_id:i.id,total:ie,payment_method:P==="payfast"?"PayFast":P,status:"pending",shipping_address:u.address}).select().single();if(R.error){l({title:"Order Error",description:R.error.message,variant:"destructive"}),b(!1);return}const C=R.data,A=h.map(a=>({order_id:C.id,product_id:a.id,quantity:a.quantity,unit_price:a.price}));console.log("Order items to insert:",A);const is=A.map(a=>({order_id:a.order_id,product_id:a.product_id,quantity:a.quantity,unit_price:a.unit_price})),Y=await ye.from("order_items").insert(is);if(Y.error){console.error("Order items insert error:",Y.error),(r=Y.error.message)!=null&&r.includes("stock_quantity")?l({title:"Database Configuration Error",description:"There's a database configuration issue. Please contact support or try again later.",variant:"destructive"}):l({title:"Order Items Error",description:Y.error.message,variant:"destructive"}),b(!1);return}if(P==="payfast")try{const a=Ns.isNativePlatform(),O=`${a?"https://matooloose.github.io/page_for_redirection/index.html":window.location.origin+"/payment-success"}?order_id=${C.id}&custom_str1=${C.id}`,$=`${window.location.origin}/payment-cancelled?order_id=${C.id}`;console.log("Initiating PayFast payment with data:",{amount:ie.toFixed(2),item_name:`Order for ${u.fullName}`,return_url:O,custom_str1:C.id}),console.log("Making request to:","https://paying-project.onrender.com/payfast-url");const j=await fetch("https://paying-project.onrender.com/payfast-url",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},mode:"cors",body:JSON.stringify({amount:ie.toFixed(2),item_name:`Order for ${u.fullName}`,return_url:O,cancel_url:$,notify_url:"https://paying-project.onrender.com/payfast-webhook",custom_str1:C.id})});if(!j.ok){const H=await j.text();throw console.error("PayFast server error response:",H),new Error(`PayFast server error: ${j.status} ${j.statusText}. Response: ${H}`)}const _=await j.json();if(console.log("PayFast response data:",_),!_.url)throw new Error("PayFast URL generation failed - no URL returned");console.log("PayFast URL generated:",_.url);try{localStorage.setItem("pending_order_id",C.id)}catch(H){console.warn("Could not persist pending_order_id",H)}a?await gs.open({url:_.url}):window.location.href=_.url,b(!1),l({title:"Processing Payment",description:"Your order has been created. Please complete payment in the new window.",variant:"default"})}catch(a){console.error("PayFast integration error:",a);const O=(j=>{if(!j)return"";if(typeof j=="string")return j;if(j instanceof Error)return j.message;const _=j;return typeof _.message=="string"?_.message:typeof _.name=="string"?String(_.name):""})(a);let $="Failed to initiate PayFast payment";O.includes("Failed to fetch")?$="Network error: Unable to connect to payment server. Please check your internet connection and try again.":O.includes("CORS")?$="Payment server configuration error. Please contact support.":O&&($=`Payment error: ${O}`),l({title:"Payment Error",description:$,variant:"destructive"}),b(!1);return}else if(P==="card"){l({title:"Coming Soon",description:"Card payment integration coming soon.",variant:"destructive"}),b(!1);return}else l({title:"Order Created!",description:"Your order is confirmed. You'll pay upon delivery."}),n?c(n.farmName):o(),p(`/order-confirmation?order_id=${C.id}`)}catch(v){const R=je(v);console.error("Checkout error:",R),l({title:"Error",description:R||"An error occurred during checkout.",variant:"destructive"})}finally{b(!1)}};return e.jsxDEV("div",{className:"min-h-screen bg-background",children:e.jsxDEV("div",{className:"container mx-auto max-w-6xl p-4",children:[e.jsxDEV("header",{className:"page-topbar sticky top-0 z-50 bg-card border-b shadow-sm",children:e.jsxDEV("div",{className:"flex items-center gap-4 px-4 py-3",children:[e.jsxDEV(I,{variant:"ghost",onClick:()=>p(-1),className:"flex items-center gap-2",children:[e.jsxDEV(Us,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:651,columnNumber:15},void 0),e.jsxDEV("span",{className:"hidden sm:inline",children:"Back"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:652,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:646,columnNumber:13},void 0),e.jsxDEV("h1",{className:"text-3xl font-bold text-foreground",children:n?`Checkout - ${n.farmName}`:"Checkout"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:654,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:645,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:644,columnNumber:9},void 0),h.length===0?e.jsxDEV(q,{children:e.jsxDEV(G,{className:"p-8 text-center",children:[e.jsxDEV(Ee,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:667,columnNumber:15},void 0),e.jsxDEV("h3",{className:"text-xl font-semibold mb-2",children:"Your cart is empty"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:668,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"Add some products to continue with checkout"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:669,columnNumber:15},void 0),e.jsxDEV(I,{onClick:()=>p("/browse-products"),children:"Continue Shopping"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:670,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:666,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:665,columnNumber:11},void 0):M===-1?e.jsxDEV(q,{children:e.jsxDEV(G,{className:"p-8 text-center",children:[e.jsxDEV(L,{className:"h-16 w-16 text-orange-500 mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:678,columnNumber:15},void 0),e.jsxDEV("h3",{className:"text-xl font-semibold mb-2",children:"Delivery Not Available"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:679,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"Sorry, we don't deliver to your area yet. This farm is outside our 70km delivery zone. Try exploring farms closer to you!"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:680,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsxDEV(I,{onClick:()=>p("/browse-products"),children:"Find Nearby Farms"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:685,columnNumber:17},void 0),e.jsxDEV(I,{variant:"outline",onClick:()=>p(-1),children:"Go Back"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:688,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:684,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:677,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:676,columnNumber:11},void 0):e.jsxDEV("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxDEV("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxDEV(q,{children:[e.jsxDEV(J,{children:[e.jsxDEV(K,{className:"flex items-center gap-2",children:[e.jsxDEV(W,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:702,columnNumber:21},void 0),"Fulfillment Method"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:701,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Choose how you'd like to receive your order"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:705,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:700,columnNumber:17},void 0),e.jsxDEV(G,{children:[e.jsxDEV(ce,{value:y,onValueChange:s=>Je(s),className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-accent",children:[e.jsxDEV(Q,{value:"delivery",id:"delivery"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:714,columnNumber:23},void 0),e.jsxDEV(F,{htmlFor:"delivery",className:"flex items-center gap-3 cursor-pointer flex-1",children:[e.jsxDEV(W,{className:"h-5 w-5 text-blue-600"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:716,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("span",{className:"font-medium",children:"Delivery"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:718,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Get your order delivered to your address"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:719,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:717,columnNumber:25},void 0),e.jsxDEV(ne,{variant:"secondary",className:"ml-auto",children:be===-1?"Unavailable":be===0?"Free":"Pay"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:721,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:715,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:713,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-accent",children:[e.jsxDEV(Q,{value:"collection",id:"collection"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:727,columnNumber:23},void 0),e.jsxDEV(F,{htmlFor:"collection",className:"flex items-center gap-3 cursor-pointer flex-1",children:[e.jsxDEV(X,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:729,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("span",{className:"font-medium",children:"Collection"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:731,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Collect your order from the farm"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:732,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:730,columnNumber:25},void 0),e.jsxDEV(ne,{variant:"secondary",className:"ml-auto text-green-600",children:"Free"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:734,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:728,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:726,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:708,columnNumber:19},void 0),y==="collection"&&e.jsxDEV("div",{className:"mt-4 p-4 bg-card border border-border rounded-lg",children:e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV(X,{className:"h-5 w-5 text-green-600 mt-0.5"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:744,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-medium text-green-800 dark:text-green-200",children:"Collection Information"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:746,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:n?`Collect your order from ${n.farmName}. Collection hours: 8AM - 5PM daily.`:"Collect your order from the farm. Collection hours: 8AM - 5PM daily."},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:747,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-xs text-green-600 dark:text-green-400 mt-2",children:"💡 Save on delivery costs by collecting your fresh produce directly!"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:753,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:745,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:743,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:742,columnNumber:21},void 0),y==="delivery"&&M===-1&&e.jsxDEV("div",{className:"mt-4 p-4 bg-orange-50 dark:bg-orange-950/20 border border-orange-200 dark:border-orange-800 rounded-lg",children:e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV(L,{className:"h-5 w-5 text-orange-600 mt-0.5"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:764,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-medium text-orange-800 dark:text-orange-200",children:"Delivery Unavailable"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:766,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-sm text-orange-700 dark:text-orange-300 mt-1",children:"This farm is outside our 70km delivery zone. Please choose collection instead."},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:767,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:765,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:763,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:762,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:707,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:699,columnNumber:15},void 0),e.jsxDEV(q,{children:[e.jsxDEV(J,{className:"flex flex-row items-center gap-4",children:[e.jsxDEV("div",{className:"w-8 h-8 bg-primary text-primary-foreground rounded-full flex items-center justify-center font-semibold",children:"1"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:780,columnNumber:19},void 0),e.jsxDEV("div",{children:e.jsxDEV(K,{className:"flex items-center gap-2",children:[e.jsxDEV(Vs,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:785,columnNumber:23},void 0),y==="delivery"?"Delivery Details":"Contact Details"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:784,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:783,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:779,columnNumber:17},void 0),e.jsxDEV(G,{className:"space-y-4",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV(F,{htmlFor:"fullName",children:"Full Name *"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:793,columnNumber:23},void 0),e.jsxDEV(T,{id:"fullName",value:u.fullName,onChange:s=>D(r=>({...r,fullName:s.target.value})),placeholder:"Enter your full name",className:E.fullName?"border-destructive":""},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:794,columnNumber:23},void 0),E.fullName&&e.jsxDEV("p",{className:"text-sm text-destructive mt-1",children:E.fullName},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:802,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:792,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV(F,{htmlFor:"phoneNumber",children:"Phone Number *"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:806,columnNumber:23},void 0),e.jsxDEV(T,{id:"phoneNumber",value:u.phoneNumber,onChange:s=>D(r=>({...r,phoneNumber:s.target.value})),placeholder:"Enter your phone number",className:E.phoneNumber?"border-destructive":""},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:807,columnNumber:23},void 0),E.phoneNumber&&e.jsxDEV("p",{className:"text-sm text-destructive mt-1",children:E.phoneNumber},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:815,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:805,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:791,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV(F,{htmlFor:"email",children:"Email Address *"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:820,columnNumber:21},void 0),e.jsxDEV(T,{id:"email",type:"email",value:u.email,onChange:s=>D(r=>({...r,email:s.target.value})),placeholder:"Enter your email",className:E.email?"border-destructive":""},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:821,columnNumber:21},void 0),E.email&&e.jsxDEV("p",{className:"text-sm text-destructive mt-1",children:E.email},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:830,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:819,columnNumber:19},void 0),y==="delivery"&&e.jsxDEV("div",{children:[e.jsxDEV(F,{htmlFor:"address",children:"Delivery Address *"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:839,columnNumber:24},void 0),e.jsxDEV(hs,{id:"address",value:u.address,onChange:s=>D(r=>({...r,address:s.target.value})),placeholder:"Enter your full delivery address",className:E.address?"border-destructive":"",rows:3},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:840,columnNumber:23},void 0),E.address&&e.jsxDEV("p",{className:"text-sm text-destructive mt-1",children:E.address},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:849,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:838,columnNumber:21},void 0),oe>0]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:790,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:778,columnNumber:15},void 0),e.jsxDEV(q,{children:[e.jsxDEV(J,{className:"flex flex-row items-center gap-4",children:[e.jsxDEV("div",{className:"w-8 h-8 bg-primary text-primary-foreground rounded-full flex items-center justify-center font-semibold",children:"2"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:868,columnNumber:19},void 0),e.jsxDEV("div",{children:e.jsxDEV(K,{className:"flex items-center gap-2",children:[e.jsxDEV(Ue,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:873,columnNumber:23},void 0),"Payment Method"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:872,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:871,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:867,columnNumber:17},void 0),e.jsxDEV(G,{children:[e.jsxDEV(ce,{value:P,onValueChange:s=>ts(s),className:"space-y-3",children:z.map(s=>e.jsxDEV("div",{className:`flex items-center space-x-3 p-3 border rounded-lg ${s.disabled?"opacity-60 cursor-not-allowed":"hover:bg-accent"}`,children:[e.jsxDEV(Q,{value:s.value,id:s.value,disabled:s.disabled},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:886,columnNumber:25},void 0),e.jsxDEV(F,{htmlFor:s.value,className:`flex items-center gap-3 ${s.disabled?"cursor-not-allowed":"cursor-pointer"} flex-1`,children:[s.value==="payfast"&&e.jsxDEV(Rs,{className:"h-5 w-5 text-blue-600"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:888,columnNumber:58},void 0),s.value==="card"&&e.jsxDEV(Ue,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:889,columnNumber:55},void 0),s.value==="cash"&&e.jsxDEV(ws,{className:"h-5 w-5 text-orange-600"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:890,columnNumber:55},void 0),e.jsxDEV("span",{className:"font-medium",children:s.label},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:891,columnNumber:27},void 0),s.value==="cash"&&e.jsxDEV(ne,{variant:"secondary",className:"ml-auto",children:"Pay on delivery"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:893,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:887,columnNumber:25},void 0)]},s.value,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:885,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:879,columnNumber:19},void 0),ls&&e.jsxDEV("div",{className:"mt-4 p-4 border rounded-lg bg-muted/50",children:[e.jsxDEV("h4",{className:"font-medium mb-3",children:"Card Details"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:902,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxDEV("div",{className:"md:col-span-2",children:[e.jsxDEV(F,{htmlFor:"cardNumber",children:"Card Number"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:905,columnNumber:27},void 0),e.jsxDEV(T,{id:"cardNumber",placeholder:"1234 5678 9012 3456",disabled:!0},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:906,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:904,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV(F,{htmlFor:"cardExpiry",children:"Expiry Date"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:909,columnNumber:27},void 0),e.jsxDEV(T,{id:"cardExpiry",placeholder:"MM/YY",disabled:!0},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:910,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:908,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV(F,{htmlFor:"cardCVC",children:"CVC"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:913,columnNumber:27},void 0),e.jsxDEV(T,{id:"cardCVC",placeholder:"123",disabled:!0},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:914,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:912,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:903,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-2 flex items-center gap-1",children:[e.jsxDEV(L,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:918,columnNumber:25},void 0),"Card payment integration coming soon"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:917,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:901,columnNumber:21},void 0),P==="cash"&&e.jsxDEV("div",{className:"mt-4 p-4 border rounded-lg bg-muted/50",children:e.jsxDEV("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsxDEV(L,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:927,columnNumber:25},void 0),"Cash payment unavailable. Coming soon."]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:926,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:925,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:878,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:866,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:697,columnNumber:13},void 0),e.jsxDEV("div",{className:"lg:col-span-1",children:e.jsxDEV(q,{className:"sticky top-4",children:[e.jsxDEV(J,{children:[e.jsxDEV(K,{className:"flex items-center gap-2",children:[e.jsxDEV(Ee,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:941,columnNumber:21},void 0),"Order Summary"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:940,columnNumber:19},void 0),n&&e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:[n.totalItems," items from ",n.farmName]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:945,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:939,columnNumber:17},void 0),e.jsxDEV(G,{className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:h.map(s=>e.jsxDEV("div",{className:"flex items-center gap-3 p-2 border rounded",children:[e.jsxDEV("img",{src:s.image||"/placeholder.svg",alt:s.name,className:"w-12 h-12 object-cover rounded"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:955,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("h4",{className:"font-medium text-sm truncate",children:s.name},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:961,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:s.farmName},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:962,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[s.quantity," × R",s.price.toFixed(2)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:963,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:960,columnNumber:25},void 0),e.jsxDEV("span",{className:"font-medium text-sm",children:["R",(s.quantity*s.price).toFixed(2)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:967,columnNumber:25},void 0)]},s.id,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:954,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:952,columnNumber:19},void 0),e.jsxDEV(de,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:974,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV(I,{variant:"ghost",onClick:()=>Ke(!ae),className:"w-full justify-between p-0 h-auto font-normal text-sm",children:[e.jsxDEV("span",{className:"flex items-center gap-2",children:[e.jsxDEV(Ve,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:984,columnNumber:25},void 0),"Have a promo code?"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:983,columnNumber:23},void 0),e.jsxDEV("span",{className:`transform transition-transform ${ae?"rotate-180":""}`,children:"▼"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:987,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:978,columnNumber:21},void 0),ae&&e.jsxDEV("div",{className:"space-y-3 p-3 border rounded-lg bg-muted/30",children:N?e.jsxDEV("div",{className:"flex items-center justify-between p-2 bg-green-50 dark:bg-green-950/30 border border-green-200 dark:border-green-800 rounded",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(ps,{className:"h-4 w-4 text-green-600"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1029,columnNumber:31},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:N.code},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1031,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-xs text-green-600 dark:text-green-400",children:N.description},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1034,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1030,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1028,columnNumber:29},void 0),e.jsxDEV(I,{variant:"ghost",size:"sm",onClick:ss,className:"h-8 w-8 p-0 text-green-600 hover:text-green-700",children:"×"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1039,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1027,columnNumber:27},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(T,{placeholder:"Enter promo code",value:re,onChange:s=>{ve(s.target.value.toUpperCase()),w("")},className:"flex-1",disabled:te},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:997,columnNumber:31},void 0),e.jsxDEV(I,{onClick:es,disabled:te||!re.trim(),size:"sm",children:te?e.jsxDEV("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1013,columnNumber:35},void 0):"Apply"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1007,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:996,columnNumber:29},void 0),pe&&e.jsxDEV("p",{className:"text-xs text-destructive flex items-center gap-1",children:[e.jsxDEV(L,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1021,columnNumber:33},void 0),pe]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1020,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:995,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:993,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:977,columnNumber:19},void 0),e.jsxDEV(de,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1053,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{children:"Subtotal"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1058,columnNumber:23},void 0),e.jsxDEV("span",{children:["R",d.toFixed(2)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1059,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1057,columnNumber:21},void 0),N&&B>0&&e.jsxDEV("div",{className:"flex justify-between text-sm text-green-600",children:[e.jsxDEV("span",{className:"flex items-center gap-1",children:[e.jsxDEV(Ve,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1066,columnNumber:27},void 0),"Discount (",N.code,")"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1065,columnNumber:25},void 0),e.jsxDEV("span",{children:["-R",B.toFixed(2)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1069,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1064,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{className:"flex items-center gap-1",children:y==="delivery"?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(W,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1076,columnNumber:29},void 0),"Delivery Fee"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1076,columnNumber:27},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(X,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1078,columnNumber:29},void 0),"Collection"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1078,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1074,columnNumber:23},void 0),e.jsxDEV("span",{className:y==="collection"?"text-green-600 font-medium":"",children:y==="collection"?"Free":M===-1?"Unavailable":M===0?"Free":`R${M.toFixed(2)}`},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1081,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1073,columnNumber:21},void 0),e.jsxDEV(de,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1088,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-between font-bold text-lg",children:[e.jsxDEV("span",{children:"Total"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1090,columnNumber:23},void 0),e.jsxDEV("span",{children:["R",ke.toFixed(2)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1091,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1089,columnNumber:21},void 0),N&&B>0&&e.jsxDEV("div",{className:"text-xs text-green-600 text-center pt-1",children:["🎉 You saved R",B.toFixed(2)," with ",N.code,"!"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1096,columnNumber:23},void 0),e.jsxDEV("div",{className:"text-xs text-muted-foreground text-center pt-2",children:y==="delivery"?e.jsxDEV("span",{className:"flex items-center justify-center gap-1",children:[e.jsxDEV(W,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1105,columnNumber:27},void 0),"Items will be delivered to your address"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1104,columnNumber:25},void 0):e.jsxDEV("span",{className:"flex items-center justify-center gap-1",children:[e.jsxDEV(X,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1110,columnNumber:27},void 0),"Items ready for collection from farm"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1109,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1102,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1056,columnNumber:19},void 0),e.jsxDEV(I,{onClick:os,className:"w-full h-12 text-base",disabled:S,size:"lg",children:S?e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1126,columnNumber:25},void 0),"Processing..."]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1125,columnNumber:23},void 0):e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(we,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1131,columnNumber:25},void 0),P==="payfast"?"Pay with PayFast":P==="card"?"Pay with Card":y==="collection"?"Place Order for Collection":"Place Order for Delivery"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1130,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1118,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-xs text-muted-foreground text-center flex items-center justify-center gap-1",children:[e.jsxDEV(we,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1141,columnNumber:21},void 0),"Secure checkout powered by industry-standard encryption"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1140,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:950,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:938,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:937,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:695,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:642,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:641,columnNumber:5},void 0)},dr=()=>e.jsxDEV(ds,{children:e.jsxDEV(Gs,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1159,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/Checkout.tsx",lineNumber:1158,columnNumber:3},void 0);export{dr as default};
