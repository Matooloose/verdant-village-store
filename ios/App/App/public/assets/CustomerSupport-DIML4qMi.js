import{g as G,a as J,h as K,j as e,B as p,C as f,c as P,d as L,w as d,e as g,D as X,k as Z,l as ee,m as se,n as re,p as te,H as x}from"./index-cM6hlhfj.js";import{r as n}from"./vendor-Gsz-jK4b.js";import{I as le}from"./input-lvqziEey.js";import{T as I}from"./textarea-D68RpVGj.js";import{S as F,a as R,b as A,c as B,d as o}from"./select-CCjLwBEW.js";import{L as b}from"./label-D9QexlfX.js";import{A as ae}from"./arrow-left-DjF5G2qn.js";import{M as E}from"./message-square-Dt1NNBxY.js";import{U as oe}from"./user-BaGUUbkP.js";import{S as ie}from"./send-BzxOigAI.js";import{P as H}from"./plus-ClHW2wdp.js";import"./ui-CAx9UBAP.js";import"./index-BdQq_4o_.js";import"./index-CDAgKskh.js";import"./chevron-up-C_XHaqzR.js";import"./check-DidQSGY2.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=G("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),ke=()=>{const{user:u}=J(),{toast:m}=K(),[j,C]=n.useState([]),[t,D]=n.useState(null),[O,h]=n.useState(!1),[Q,U]=n.useState(!0),[V,y]=n.useState(!1),[i,c]=n.useState({title:"",description:"",category:"other",priority:"medium"}),[N,w]=n.useState(""),[_,T]=n.useState(!1),S=async()=>{if(u){U(!0);try{const{data:s,error:r}=await x.from("support_tickets").select(`
          *,
          support_messages(*)
        `).eq("user_id",u.id).order("created_at",{ascending:!1});if(r){console.error("Error loading support tickets:",r),C([]);return}const v=(s||[]).map(l=>({id:l.id,title:l.title,description:l.description,status:l.status,priority:l.priority,category:l.category,user_id:l.user_id,created_at:l.created_at,updated_at:l.updated_at,messages:(l.support_messages||[]).map(a=>({id:a.id,ticket_id:a.ticket_id,content:a.content,author_type:a.author_type,author:a.author,created_at:a.created_at}))}));C(v)}catch(s){console.error("Error loading support tickets:",s),C([])}finally{U(!1)}}},W=async()=>{if(u){if(!i.title.trim()||!i.description.trim()){m({title:"Missing Information",description:"Please provide both a title and description for your ticket.",variant:"destructive"});return}y(!0);try{const{data:s,error:r}=await x.from("support_tickets").insert({title:i.title,description:i.description,category:i.category,priority:i.priority,status:"open",user_id:u.id}).select().single();if(r){console.error("Error creating support ticket:",r),m({title:"Error",description:"Failed to submit your support request. Please try again.",variant:"destructive"});return}m({title:"Support Request Submitted",description:"Your support request has been submitted successfully. We'll get back to you soon!"}),h(!1),c({title:"",description:"",category:"other",priority:"medium"}),await S()}catch(s){console.error("Error submitting support request:",s),m({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{y(!1)}}},$=async()=>{var s;if(!(!t||!N.trim()||!u)){T(!0);try{const{error:r}=await x.from("support_messages").insert({ticket_id:t.id,content:N.trim(),author_type:"customer",author:((s=u.user_metadata)==null?void 0:s.name)||u.email||"Customer"});if(r){console.error("Error sending message:",r),m({title:"Error",description:"Failed to send your message. Please try again.",variant:"destructive"});return}w(""),await z(t.id)}catch(r){console.error("Error sending message:",r),m({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{T(!1)}}},z=async s=>{try{const{data:r,error:v}=await x.from("support_messages").select("*").eq("ticket_id",s).order("created_at",{ascending:!0});if(v){console.error("Error loading ticket messages:",v);return}D(l=>!l||l.id!==s?l:{...l,messages:(r||[]).map(a=>({id:a.id,ticket_id:a.ticket_id,content:a.content,author_type:a.author_type,author:a.author,created_at:a.created_at}))})}catch(r){console.error("Error loading ticket messages:",r)}};n.useEffect(()=>{S()},[u]);const M=s=>{switch(s){case"open":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"resolved":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},q=s=>{switch(s){case"urgent":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-blue-100 text-blue-800";case"low":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},k=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return u?t?e.jsxDEV("div",{className:"min-h-screen bg-gray-50 p-4",children:e.jsxDEV("div",{className:"max-w-4xl mx-auto",children:[e.jsxDEV("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxDEV(p,{variant:"ghost",onClick:()=>D(null),className:"gap-2",children:[e.jsxDEV(ae,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:318,columnNumber:15},void 0),"Back to Tickets"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:313,columnNumber:13},void 0),e.jsxDEV("h1",{className:"text-2xl font-bold",children:"Support Ticket"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:321,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:312,columnNumber:11},void 0),e.jsxDEV(f,{className:"mb-6",children:[e.jsxDEV(P,{children:e.jsxDEV("div",{className:"flex justify-between items-start gap-4",children:e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV(L,{className:"text-xl mb-2",children:t.title},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:328,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex gap-2 mb-3",children:[e.jsxDEV(d,{className:M(t.status),children:t.status.replace("_"," ")},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:330,columnNumber:21},void 0),e.jsxDEV(d,{className:q(t.priority),children:t.priority},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:333,columnNumber:21},void 0),e.jsxDEV(d,{variant:"outline",children:t.category},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:336,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:329,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600 mb-2",children:["Created: ",k(t.created_at)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:340,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:327,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:326,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:325,columnNumber:13},void 0),e.jsxDEV(g,{children:e.jsxDEV("p",{className:"text-gray-700",children:t.description},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:347,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:346,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:324,columnNumber:11},void 0),e.jsxDEV(f,{className:"mb-6",children:[e.jsxDEV(P,{children:e.jsxDEV(L,{className:"flex items-center gap-2",children:[e.jsxDEV(E,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:355,columnNumber:17},void 0),"Messages"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:354,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:353,columnNumber:13},void 0),e.jsxDEV(g,{children:[e.jsxDEV("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:t.messages&&t.messages.length>0?t.messages.map(s=>e.jsxDEV("div",{className:`p-4 rounded-lg ${s.author_type==="customer"?"bg-blue-50 ml-8":"bg-gray-50 mr-8"}`,children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxDEV(oe,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:369,columnNumber:25},void 0),e.jsxDEV("span",{className:"font-medium",children:s.author},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:370,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-sm text-gray-500",children:k(s.created_at)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:371,columnNumber:25},void 0),e.jsxDEV(d,{variant:s.author_type==="customer"?"default":"secondary",children:s.author_type},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:374,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:368,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-gray-700",children:s.content},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:378,columnNumber:23},void 0)]},s.id,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:363,columnNumber:21},void 0)):e.jsxDEV("p",{className:"text-gray-500 text-center py-8",children:"No messages yet"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:382,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:360,columnNumber:15},void 0),e.jsxDEV("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(I,{value:N,onChange:s=>w(s.target.value),placeholder:"Type your message...",className:"flex-1",rows:3},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:389,columnNumber:19},void 0),e.jsxDEV(p,{onClick:$,disabled:!N.trim()||_,className:"self-end gap-2",children:[e.jsxDEV(ie,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:401,columnNumber:21},void 0),_?"Sending...":"Send"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:396,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:388,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:387,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:359,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:352,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:311,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:310,columnNumber:7},void 0):e.jsxDEV("div",{className:"min-h-screen bg-gray-50 p-4",children:e.jsxDEV("div",{className:"max-w-6xl mx-auto",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[e.jsxDEV("h1",{className:"text-3xl font-bold",children:"Customer Support"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:418,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(p,{onClick:S,variant:"outline",className:"gap-2",children:[e.jsxDEV(Y,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:421,columnNumber:15},void 0),"Refresh"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:420,columnNumber:13},void 0),e.jsxDEV(X,{open:O,onOpenChange:h,children:[e.jsxDEV(Z,{asChild:!0,children:e.jsxDEV(p,{className:"gap-2",children:[e.jsxDEV(H,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:427,columnNumber:19},void 0),"New Support Request"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:426,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:425,columnNumber:15},void 0),e.jsxDEV(ee,{className:"max-w-md",children:[e.jsxDEV(se,{children:e.jsxDEV(re,{children:"Create Support Request"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:433,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:432,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV(b,{htmlFor:"title",children:"Title"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:437,columnNumber:21},void 0),e.jsxDEV(le,{id:"title",value:i.title,onChange:s=>c(r=>({...r,title:s.target.value})),placeholder:"Brief description of your issue"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:438,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:436,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV(b,{htmlFor:"description",children:"Description"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:446,columnNumber:21},void 0),e.jsxDEV(I,{id:"description",value:i.description,onChange:s=>c(r=>({...r,description:s.target.value})),placeholder:"Detailed description of your issue",rows:4},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:447,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:445,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV(b,{htmlFor:"category",children:"Category"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:456,columnNumber:21},void 0),e.jsxDEV(F,{value:i.category,onValueChange:s=>c(r=>({...r,category:s})),children:[e.jsxDEV(R,{children:e.jsxDEV(A,{placeholder:"Select category"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:459,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:458,columnNumber:23},void 0),e.jsxDEV(B,{children:[e.jsxDEV(o,{value:"order",children:"Order Issues"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:462,columnNumber:25},void 0),e.jsxDEV(o,{value:"delivery",children:"Delivery"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:463,columnNumber:25},void 0),e.jsxDEV(o,{value:"product",children:"Product Quality"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:464,columnNumber:25},void 0),e.jsxDEV(o,{value:"payment",children:"Payment"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:465,columnNumber:25},void 0),e.jsxDEV(o,{value:"account",children:"Account"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:466,columnNumber:25},void 0),e.jsxDEV(o,{value:"technical",children:"Technical Issues"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:467,columnNumber:25},void 0),e.jsxDEV(o,{value:"other",children:"Other"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:468,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:461,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:457,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:455,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV(b,{htmlFor:"priority",children:"Priority"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:473,columnNumber:21},void 0),e.jsxDEV(F,{value:i.priority,onValueChange:s=>c(r=>({...r,priority:s})),children:[e.jsxDEV(R,{children:e.jsxDEV(A,{placeholder:"Select priority"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:476,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:475,columnNumber:23},void 0),e.jsxDEV(B,{children:[e.jsxDEV(o,{value:"low",children:"Low"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:479,columnNumber:25},void 0),e.jsxDEV(o,{value:"medium",children:"Medium"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:480,columnNumber:25},void 0),e.jsxDEV(o,{value:"high",children:"High"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:481,columnNumber:25},void 0),e.jsxDEV(o,{value:"urgent",children:"Urgent"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:482,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:478,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:474,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:472,columnNumber:19},void 0),e.jsxDEV(p,{onClick:W,className:"w-full",disabled:V,children:V?"Submitting...":"Submit Request"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:486,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:435,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:431,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:424,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:419,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:417,columnNumber:9},void 0),Q?e.jsxDEV("div",{className:"text-center py-12",children:[e.jsxDEV(Y,{className:"h-8 w-8 animate-spin mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:501,columnNumber:13},void 0),e.jsxDEV("p",{children:"Loading your support tickets..."},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:502,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:500,columnNumber:11},void 0):j.length===0?e.jsxDEV(f,{children:e.jsxDEV(g,{className:"text-center py-12",children:[e.jsxDEV(E,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:507,columnNumber:15},void 0),e.jsxDEV("h3",{className:"text-lg font-medium mb-2",children:"No Support Tickets"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:508,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-gray-600 mb-4",children:"You haven't submitted any support requests yet."},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:509,columnNumber:15},void 0),e.jsxDEV(p,{onClick:()=>h(!0),className:"gap-2",children:[e.jsxDEV(H,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:513,columnNumber:17},void 0),"Create Your First Request"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:512,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:506,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:505,columnNumber:11},void 0):e.jsxDEV("div",{className:"grid gap-4",children:j.map(s=>{var r;return e.jsxDEV(f,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>D(s),children:e.jsxDEV(g,{className:"p-4",children:e.jsxDEV("div",{className:"flex justify-between items-start gap-4",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-medium truncate",children:s.title},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:525,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600 truncate mt-1",children:s.description},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:526,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 mt-3",children:[e.jsxDEV(d,{className:M(s.status),children:s.status.replace("_"," ")},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:528,columnNumber:25},void 0),e.jsxDEV(d,{className:q(s.priority),children:s.priority},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:531,columnNumber:25},void 0),e.jsxDEV(d,{variant:"outline",children:s.category},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:534,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:527,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:524,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-right text-sm text-gray-500",children:[e.jsxDEV("div",{className:"flex items-center gap-1 mb-1",children:[e.jsxDEV(te,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:541,columnNumber:25},void 0),k(s.created_at)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:540,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(E,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:545,columnNumber:25},void 0),((r=s.messages)==null?void 0:r.length)||0," messages"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:544,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:539,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:523,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:522,columnNumber:17},void 0)},s.id,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:521,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:519,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:416,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:415,columnNumber:5},void 0):e.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h2",{className:"text-2xl font-bold mb-4",children:"Please Sign In"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:300,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-gray-600",children:"You need to be signed in to access customer support."},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:301,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:299,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/CustomerSupport.tsx",lineNumber:298,columnNumber:7},void 0)};export{ke as default};
