const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web-CFRJJkXu.js","assets/vendor-Gsz-jK4b.js","assets/ui-CAx9UBAP.js","assets/web-7fOVRHG5.js","assets/Index-NsYCKWzw.js","assets/AllFarms-BvREb3eX.js","assets/arrow-left-DjF5G2qn.js","assets/map-pin-DADrLx4s.js","assets/star-DqtE3D7l.js","assets/arrow-right-CK4Oy1Cp.js","assets/Welcome-Dq-clIEc.js","assets/checkbox-ZoeZ6z8C.js","assets/index-CDAgKskh.js","assets/check-DidQSGY2.js","assets/navigation-DvBnz4fT.js","assets/bell-BH1fUbig.js","assets/camera-CYNumhY8.js","assets/leaf-Lr4USLAX.js","assets/users-BTDWqynY.js","assets/shield-CB9ZHXI_.js","assets/settings-DxJDx9M2.js","assets/sun-BmMiElSO.js","assets/eye-ByvufGnD.js","assets/zap-Vu6Io9Ax.js","assets/heart-DuimZQCb.js","assets/play-Djd59OS6.js","assets/chevron-left-CSD2z7EL.js","assets/chevron-right-C4VOZgFC.js","assets/Login-CQ5hvq5o.js","assets/input-lvqziEey.js","assets/label-D9QexlfX.js","assets/smartphone-B2A-wjKv.js","assets/circle-alert-C1-S23ot.js","assets/eye-off-BHMLpHkS.js","assets/Register-BFfvyOHb.js","assets/Dashboard-DpJ8RcEt.js","assets/switch-CbcOtmy2.js","assets/textarea-D68RpVGj.js","assets/separator-mZ8pIJB6.js","assets/scroll-area-D8UjMpJ0.js","assets/index-BdQq_4o_.js","assets/useCapacitorLocation-n4dwY4Fz.js","assets/ProductQuickView-BDvCocAf.js","assets/rotate-ccw-CisrTovW.js","assets/chevron-up-C_XHaqzR.js","assets/ProductRating-DXO01b8a.js","assets/message-square-Dt1NNBxY.js","assets/thumbs-up-CMfZgKve.js","assets/move-DdMPzinQ.js","assets/user-BaGUUbkP.js","assets/sparkles-B6fsFDLk.js","assets/plus-ClHW2wdp.js","assets/trending-up-Mu4453bt.js","assets/credit-card-bXMUO7OT.js","assets/headphones-DGowmrjZ.js","assets/calendar-D-pImfms.js","assets/Dashboard-wEEbhPIt.css","assets/Cart-DBBjbHXs.js","assets/minus-BLsn1t9H.js","assets/trash-2-aUnW5rwe.js","assets/TrackOrder-fVOvPd-f.js","assets/ContactSupportDialog-DWNhfqW5.js","assets/format-CF2rwVyB.js","assets/constructFrom-rJN6zrQ_.js","assets/phone-CQIu9Kpr.js","assets/BrowseProducts-Cr0l-8aR.js","assets/select-CCjLwBEW.js","assets/award-DP1zsFEK.js","assets/ProductDetail-B6NkSjFQ.js","assets/tabs-BISYs8ua.js","assets/share-2-Ct2M4uTe.js","assets/FarmDetail-BvQPhRAj.js","assets/mail-DPZzi_yN.js","assets/Checkout-CPcjXoQ4.js","assets/errorUtils-CJZl7d-w.js","assets/save-CNSqlmlG.js","assets/UpdateProfile-DSyDjKKo.js","assets/avatar-CNoUiUVj.js","assets/lock-D5uPprrW.js","assets/download-CiFqjrg9.js","assets/globe-Bw7ZNnx4.js","assets/Subscriptions-B_kFb0JP.js","assets/crown-BG_BCAQs.js","assets/Messages-Csqb0DXE.js","assets/video-8F428Msy.js","assets/send-BzxOigAI.js","assets/subDays-Ch0RWqvG.js","assets/addDays-DUX3p28w.js","assets/RequireSubscription-Boj-lGq2.js","assets/NotFound-DJogrlmA.js","assets/circle-help-DUKYn7zL.js","assets/HowItWorks-zD9fe23A.js","assets/CustomerSupport-DIML4qMi.js","assets/Wishlist-2b9Xb0zM.js","assets/OrderHistory-DfHFcYEM.js","assets/chart-column-DKWwrv52.js","assets/circle-x-CncUPBm0.js","assets/PaymentSuccess-BZ4XaaTW.js","assets/payfast-Bsiuem9E.js","assets/PaymentCancelled-DVY3xKbc.js","assets/PayFastTest-CFZ2WgSP.js","assets/ProductReviews-nnca5O9W.js","assets/FarmerProfile-Cwn4k83G.js","assets/PasswordReset-5LLuzmIr.js","assets/AuthCallback-Dx8Zyc3_.js","assets/ResetPassword-DzuhIYj6.js","assets/MobilePayReturn-Bk2GAn7w.js"])))=>i.map(i=>d[i]);
var zl=Object.defineProperty;var xi=r=>{throw TypeError(r)};var Hl=(r,e,t)=>e in r?zl(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var ys=(r,e,t)=>Hl(r,typeof e!="symbol"?e+"":e,t),un=(r,e,t)=>e.has(r)||xi("Cannot "+t);var k=(r,e,t)=>(un(r,e,"read from private field"),t?t.call(r):e.get(r)),G=(r,e,t)=>e.has(r)?xi("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),$=(r,e,t,s)=>(un(r,e,"write to private field"),s?s.call(r,t):e.set(r,t),t),ke=(r,e,t)=>(un(r,e,"access private method"),t);var ws=(r,e,t,s)=>({set _(n){$(r,e,n,t)},get _(){return k(r,e,s)}});import{r as g,a as Uo,b as Kl,R as C,v as Gl,g as Jl,c as Be}from"./vendor-Gsz-jK4b.js";import{S as Yl,j as F,P as ot,c as ti,a as Ql,u as Bs,B as Xl,b as Zl,d as $o,e as Ce,f as Os,R as ec,g as tc,h as rc,i as sc,k as Lo,D as nc,C as ic,l as oc,A as ac,m as lc,O as Mo,n as cc,o as Fo,p as uc,T as Vo,q as Bo,r as dc,s as hc}from"./ui-CAx9UBAP.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();var Wo={exports:{}},Tn={};/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var r=g,e=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),_=Symbol.iterator,v="@@iterator";function p(b){if(b===null||typeof b!="object")return null;var S=_&&b[_]||b[v];return typeof S=="function"?S:null}var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function m(b){{for(var S=arguments.length,P=new Array(S>1?S-1:0),M=1;M<S;M++)P[M-1]=arguments[M];y("error",b,P)}}function y(b,S,P){{var M=w.ReactDebugCurrentFrame,te=M.getStackAddendum();te!==""&&(S+="%s",P=P.concat([te]));var se=P.map(function(Y){return String(Y)});se.unshift("Warning: "+S),Function.prototype.apply.call(console[b],console,se)}}var E=!1,T=!1,N=!1,A=!1,I=!1,O;O=Symbol.for("react.module.reference");function D(b){return!!(typeof b=="string"||typeof b=="function"||b===s||b===i||I||b===n||b===c||b===u||A||b===h||E||T||N||typeof b=="object"&&b!==null&&(b.$$typeof===f||b.$$typeof===d||b.$$typeof===o||b.$$typeof===a||b.$$typeof===l||b.$$typeof===O||b.getModuleId!==void 0))}function q(b,S,P){var M=b.displayName;if(M)return M;var te=S.displayName||S.name||"";return te!==""?P+"("+te+")":P}function j(b){return b.displayName||"Context"}function K(b){if(b==null)return null;if(typeof b.tag=="number"&&m("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case s:return"Fragment";case t:return"Portal";case i:return"Profiler";case n:return"StrictMode";case c:return"Suspense";case u:return"SuspenseList"}if(typeof b=="object")switch(b.$$typeof){case a:var S=b;return j(S)+".Consumer";case o:var P=b;return j(P._context)+".Provider";case l:return q(b,b.render,"ForwardRef");case d:var M=b.displayName||null;return M!==null?M:K(b.type)||"Memo";case f:{var te=b,se=te._payload,Y=te._init;try{return K(Y(se))}catch{return null}}}return null}var R=Object.assign,Z=0,le,he,xe,L,fe,ye,J;function X(){}X.__reactDisabledLog=!0;function re(){{if(Z===0){le=console.log,he=console.info,xe=console.warn,L=console.error,fe=console.group,ye=console.groupCollapsed,J=console.groupEnd;var b={configurable:!0,enumerable:!0,value:X,writable:!0};Object.defineProperties(console,{info:b,log:b,warn:b,error:b,group:b,groupCollapsed:b,groupEnd:b})}Z++}}function Ee(){{if(Z--,Z===0){var b={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:R({},b,{value:le}),info:R({},b,{value:he}),warn:R({},b,{value:xe}),error:R({},b,{value:L}),group:R({},b,{value:fe}),groupCollapsed:R({},b,{value:ye}),groupEnd:R({},b,{value:J})})}Z<0&&m("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Xe=w.ReactCurrentDispatcher,ne;function bt(b,S,P){{if(ne===void 0)try{throw Error()}catch(te){var M=te.stack.trim().match(/\n( *(at )?)/);ne=M&&M[1]||""}return`
`+ne+b}}var lt=!1,ct;{var $t=typeof WeakMap=="function"?WeakMap:Map;ct=new $t}function sr(b,S){if(!b||lt)return"";{var P=ct.get(b);if(P!==void 0)return P}var M;lt=!0;var te=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var se;se=Xe.current,Xe.current=null,re();try{if(S){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(De){M=De}Reflect.construct(b,[],Y)}else{try{Y.call()}catch(De){M=De}b.call(Y.prototype)}}else{try{throw Error()}catch(De){M=De}b()}}catch(De){if(De&&M&&typeof De.stack=="string"){for(var H=De.stack.split(`
`),Ne=M.stack.split(`
`),pe=H.length-1,me=Ne.length-1;pe>=1&&me>=0&&H[pe]!==Ne[me];)me--;for(;pe>=1&&me>=0;pe--,me--)if(H[pe]!==Ne[me]){if(pe!==1||me!==1)do if(pe--,me--,me<0||H[pe]!==Ne[me]){var Fe=`
`+H[pe].replace(" at new "," at ");return b.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",b.displayName)),typeof b=="function"&&ct.set(b,Fe),Fe}while(pe>=1&&me>=0);break}}}finally{lt=!1,Xe.current=se,Ee(),Error.prepareStackTrace=te}var cr=b?b.displayName||b.name:"",Vt=cr?bt(cr):"";return typeof b=="function"&&ct.set(b,Vt),Vt}function ds(b,S,P){return sr(b,!1)}function sn(b){var S=b.prototype;return!!(S&&S.isReactComponent)}function nr(b,S,P){if(b==null)return"";if(typeof b=="function")return sr(b,sn(b));if(typeof b=="string")return bt(b);switch(b){case c:return bt("Suspense");case u:return bt("SuspenseList")}if(typeof b=="object")switch(b.$$typeof){case l:return ds(b.render);case d:return nr(b.type,S,P);case f:{var M=b,te=M._payload,se=M._init;try{return nr(se(te),S,P)}catch{}}}return""}var yt=Object.prototype.hasOwnProperty,hs={},ir=w.ReactDebugCurrentFrame;function or(b){if(b){var S=b._owner,P=nr(b.type,b._source,S?S.type:null);ir.setExtraStackFrame(P)}else ir.setExtraStackFrame(null)}function fs(b,S,P,M,te){{var se=Function.call.bind(yt);for(var Y in b)if(se(b,Y)){var H=void 0;try{if(typeof b[Y]!="function"){var Ne=Error((M||"React class")+": "+P+" type `"+Y+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof b[Y]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Ne.name="Invariant Violation",Ne}H=b[Y](S,Y,M,P,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(pe){H=pe}H&&!(H instanceof Error)&&(or(te),m("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",M||"React class",P,Y,typeof H),or(null)),H instanceof Error&&!(H.message in hs)&&(hs[H.message]=!0,or(te),m("Failed %s type: %s",P,H.message),or(null))}}}var Lt=Array.isArray;function ar(b){return Lt(b)}function ut(b){{var S=typeof Symbol=="function"&&Symbol.toStringTag,P=S&&b[Symbol.toStringTag]||b.constructor.name||"Object";return P}}function nn(b){try{return ps(b),!1}catch{return!0}}function ps(b){return""+b}function Se(b){if(nn(b))return m("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ut(b)),ps(b)}var Le=w.ReactCurrentOwner,on={key:!0,ref:!0,__self:!0,__source:!0},ms,Mt,Ur;Ur={};function vs(b){if(yt.call(b,"ref")){var S=Object.getOwnPropertyDescriptor(b,"ref").get;if(S&&S.isReactWarning)return!1}return b.ref!==void 0}function $r(b){if(yt.call(b,"key")){var S=Object.getOwnPropertyDescriptor(b,"key").get;if(S&&S.isReactWarning)return!1}return b.key!==void 0}function wt(b,S){if(typeof b.ref=="string"&&Le.current&&S&&Le.current.stateNode!==S){var P=K(Le.current.type);Ur[P]||(m('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',K(Le.current.type),b.ref),Ur[P]=!0)}}function gs(b,S){{var P=function(){ms||(ms=!0,m("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",S))};P.isReactWarning=!0,Object.defineProperty(b,"key",{get:P,configurable:!0})}}function _t(b,S){{var P=function(){Mt||(Mt=!0,m("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",S))};P.isReactWarning=!0,Object.defineProperty(b,"ref",{get:P,configurable:!0})}}var an=function(b,S,P,M,te,se,Y){var H={$$typeof:e,type:b,key:S,ref:P,props:Y,_owner:se};return H._store={},Object.defineProperty(H._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(H,"_self",{configurable:!1,enumerable:!1,writable:!1,value:M}),Object.defineProperty(H,"_source",{configurable:!1,enumerable:!1,writable:!1,value:te}),Object.freeze&&(Object.freeze(H.props),Object.freeze(H)),H};function ln(b,S,P,M,te){{var se,Y={},H=null,Ne=null;P!==void 0&&(Se(P),H=""+P),$r(S)&&(Se(S.key),H=""+S.key),vs(S)&&(Ne=S.ref,wt(S,te));for(se in S)yt.call(S,se)&&!on.hasOwnProperty(se)&&(Y[se]=S[se]);if(b&&b.defaultProps){var pe=b.defaultProps;for(se in pe)Y[se]===void 0&&(Y[se]=pe[se])}if(H||Ne){var me=typeof b=="function"?b.displayName||b.name||"Unknown":b;H&&gs(Y,me),Ne&&_t(Y,me)}return an(b,H,Ne,te,M,Le.current,Y)}}var lr=w.ReactCurrentOwner,Lr=w.ReactDebugCurrentFrame;function xt(b){if(b){var S=b._owner,P=nr(b.type,b._source,S?S.type:null);Lr.setExtraStackFrame(P)}else Lr.setExtraStackFrame(null)}var Ft;Ft=!1;function Me(b){return typeof b=="object"&&b!==null&&b.$$typeof===e}function bs(){{if(lr.current){var b=K(lr.current.type);if(b)return`

Check the render method of \``+b+"`."}return""}}function V(b){{if(b!==void 0){var S=b.fileName.replace(/^.*[\\\/]/,""),P=b.lineNumber;return`

Check your code at `+S+":"+P+"."}return""}}var ee={};function ie(b){{var S=bs();if(!S){var P=typeof b=="string"?b:b.displayName||b.name;P&&(S=`

Check the top-level render call using <`+P+">.")}return S}}function Re(b,S){{if(!b._store||b._store.validated||b.key!=null)return;b._store.validated=!0;var P=ie(S);if(ee[P])return;ee[P]=!0;var M="";b&&b._owner&&b._owner!==lr.current&&(M=" It was passed a child from "+K(b._owner.type)+"."),xt(b),m('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',P,M),xt(null)}}function Ae(b,S){{if(typeof b!="object")return;if(ar(b))for(var P=0;P<b.length;P++){var M=b[P];Me(M)&&Re(M,S)}else if(Me(b))b._store&&(b._store.validated=!0);else if(b){var te=p(b);if(typeof te=="function"&&te!==b.entries)for(var se=te.call(b),Y;!(Y=se.next()).done;)Me(Y.value)&&Re(Y.value,S)}}}function Ze(b){{var S=b.type;if(S==null||typeof S=="string")return;var P;if(typeof S=="function")P=S.propTypes;else if(typeof S=="object"&&(S.$$typeof===l||S.$$typeof===d))P=S.propTypes;else return;if(P){var M=K(S);fs(P,b.props,"prop",M,b)}else if(S.PropTypes!==void 0&&!Ft){Ft=!0;var te=K(S);m("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",te||"Unknown")}typeof S.getDefaultProps=="function"&&!S.getDefaultProps.isReactClassApproved&&m("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function dt(b){{for(var S=Object.keys(b.props),P=0;P<S.length;P++){var M=S[P];if(M!=="children"&&M!=="key"){xt(b),m("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",M),xt(null);break}}b.ref!==null&&(xt(b),m("Invalid attribute `ref` supplied to `React.Fragment`."),xt(null))}}var Oe={};function et(b,S,P,M,te,se){{var Y=D(b);if(!Y){var H="";(b===void 0||typeof b=="object"&&b!==null&&Object.keys(b).length===0)&&(H+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Ne=V(te);Ne?H+=Ne:H+=bs();var pe;b===null?pe="null":ar(b)?pe="array":b!==void 0&&b.$$typeof===e?(pe="<"+(K(b.type)||"Unknown")+" />",H=" Did you accidentally export a JSX literal instead of a component?"):pe=typeof b,m("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",pe,H)}var me=ln(b,S,P,te,se);if(me==null)return me;if(Y){var Fe=S.children;if(Fe!==void 0)if(M)if(ar(Fe)){for(var cr=0;cr<Fe.length;cr++)Ae(Fe[cr],b);Object.freeze&&Object.freeze(Fe)}else m("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Ae(Fe,b)}if(yt.call(S,"key")){var Vt=K(b),De=Object.keys(S).filter(function(ql){return ql!=="key"}),cn=De.length>0?"{key: someKey, "+De.join(": ..., ")+": ...}":"{key: someKey}";if(!Oe[Vt+cn]){var Wl=De.length>0?"{"+De.join(": ..., ")+": ...}":"{}";m(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,cn,Vt,Wl,Vt),Oe[Vt+cn]=!0}}return b===s?dt(me):Ze(me),me}}var Bl=et;Tn.Fragment=s,Tn.jsxDEV=Bl})();Wo.exports=Tn;var x=Wo.exports,qo,Ei=Uo;{var ki=Ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;qo=function(r,e){ki.usingClientEntryPoint=!0;try{return Ei.createRoot(r,e)}finally{ki.usingClientEntryPoint=!1}}}const fc="modulepreload",pc=function(r){return"/"+r},Ci={},z=function(e,t,s){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(t.map(l=>{if(l=pc(l),l in Ci)return;Ci[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":fc,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kr(){return Kr=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Kr.apply(this,arguments)}var jt;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(jt||(jt={}));const Si="popstate";function mc(r){r===void 0&&(r={});function e(s,n){let{pathname:i,search:o,hash:a}=s.location;return Pn("",{pathname:i,search:o,hash:a},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function t(s,n){return typeof n=="string"?n:Gr(n)}return gc(e,t,null,r)}function ce(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ye(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vc(){return Math.random().toString(36).substr(2,8)}function Ni(r,e){return{usr:r.state,key:r.key,idx:e}}function Pn(r,e,t,s){return t===void 0&&(t=null),Kr({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Or(e):e,{state:t,key:e&&e.key||s||vc()})}function Gr(r){let{pathname:e="/",search:t="",hash:s=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Or(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substr(s),r=r.substr(0,s)),r&&(e.pathname=r)}return e}function gc(r,e,t,s){s===void 0&&(s={});let{window:n=document.defaultView,v5Compat:i=!1}=s,o=n.history,a=jt.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Kr({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=jt.Pop;let p=u(),w=p==null?null:p-c;c=p,l&&l({action:a,location:v.location,delta:w})}function f(p,w){a=jt.Push;let m=Pn(v.location,p,w);c=u()+1;let y=Ni(m,c),E=v.createHref(m);try{o.pushState(y,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;n.location.assign(E)}i&&l&&l({action:a,location:v.location,delta:1})}function h(p,w){a=jt.Replace;let m=Pn(v.location,p,w);c=u();let y=Ni(m,c),E=v.createHref(m);o.replaceState(y,"",E),i&&l&&l({action:a,location:v.location,delta:0})}function _(p){let w=n.location.origin!=="null"?n.location.origin:n.location.href,m=typeof p=="string"?p:Gr(p);return m=m.replace(/ $/,"%20"),ce(w,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,w)}let v={get action(){return a},get location(){return r(n,o)},listen(p){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(Si,d),l=p,()=>{n.removeEventListener(Si,d),l=null}},createHref(p){return e(n,p)},createURL:_,encodeLocation(p){let w=_(p);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:h,go(p){return o.go(p)}};return v}var Ti;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Ti||(Ti={}));function bc(r,e,t){return t===void 0&&(t="/"),yc(r,e,t)}function yc(r,e,t,s){let n=typeof e=="string"?Or(e):e,i=It(n.pathname||"/",t);if(i==null)return null;let o=zo(r);wc(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Ac(i);a=Pc(o[l],c)}return a}function zo(r,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let n=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ce(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let c=vt([s,l.relativePath]),u=t.concat(l);i.children&&i.children.length>0&&(ce(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),zo(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Nc(c,i.index),routesMeta:u})};return r.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))n(i,o);else for(let l of Ho(i.path))n(i,o,l)}),e}function Ho(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,n=t.endsWith("?"),i=t.replace(/\?$/,"");if(s.length===0)return n?[i,""]:[i];let o=Ho(s.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),n&&a.push(...o),a.map(l=>r.startsWith("/")&&l===""?"/":l)}function wc(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Tc(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const _c=/^:[\w-]+$/,xc=3,Ec=2,kc=1,Cc=10,Sc=-2,Pi=r=>r==="*";function Nc(r,e){let t=r.split("/"),s=t.length;return t.some(Pi)&&(s+=Sc),e&&(s+=Ec),t.filter(n=>!Pi(n)).reduce((n,i)=>n+(_c.test(i)?xc:i===""?kc:Cc),s)}function Tc(r,e){return r.length===e.length&&r.slice(0,-1).every((s,n)=>s===e[n])?r[r.length-1]-e[e.length-1]:0}function Pc(r,e,t){let{routesMeta:s}=r,n={},i="/",o=[];for(let a=0;a<s.length;++a){let l=s[a],c=a===s.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=Rn({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d)return null;Object.assign(n,d.params),o.push({params:n,pathname:vt([i,d.pathname]),pathnameBase:Ic(vt([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=vt([i,d.pathnameBase]))}return o}function Rn(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=Rc(r.path,r.caseSensitive,r.end),n=e.match(t);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),a=n.slice(1);return{params:s.reduce((c,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let v=a[d]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const _=a[d];return h&&!_?c[f]=void 0:c[f]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:r}}function Rc(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Ye(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let s=[],n="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(s.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),n+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?n+="\\/*$":r!==""&&r!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,e?void 0:"i"),s]}function Ac(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ye(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function It(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function Oc(r,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:n=""}=typeof r=="string"?Or(r):r;return{pathname:t?t.startsWith("/")?t:Dc(t,e):e,search:Uc(s),hash:$c(n)}}function Dc(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(n=>{n===".."?t.length>1&&t.pop():n!=="."&&t.push(n)}),t.length>1?t.join("/"):"/"}function dn(r,e,t,s){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jc(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ko(r,e){let t=jc(r);return e?t.map((s,n)=>n===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function Go(r,e,t,s){s===void 0&&(s=!1);let n;typeof r=="string"?n=Or(r):(n=Kr({},r),ce(!n.pathname||!n.pathname.includes("?"),dn("?","pathname","search",n)),ce(!n.pathname||!n.pathname.includes("#"),dn("#","pathname","hash",n)),ce(!n.search||!n.search.includes("#"),dn("#","search","hash",n)));let i=r===""||n.pathname==="",o=i?"/":n.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;n.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=Oc(n,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const vt=r=>r.join("/").replace(/\/\/+/g,"/"),Ic=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Uc=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,$c=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Lc(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Jo=["post","put","patch","delete"];new Set(Jo);const Mc=["get",...Jo];new Set(Mc);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jr(){return Jr=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Jr.apply(this,arguments)}const ns=g.createContext(null);ns.displayName="DataRouter";const ri=g.createContext(null);ri.displayName="DataRouterState";const Fc=g.createContext(null);Fc.displayName="Await";const Qe=g.createContext(null);Qe.displayName="Navigation";const is=g.createContext(null);is.displayName="Location";const at=g.createContext({outlet:null,matches:[],isDataRoute:!1});at.displayName="Route";const si=g.createContext(null);si.displayName="RouteError";function Vc(r,e){let{relative:t}=e===void 0?{}:e;os()||ce(!1,"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:n}=g.useContext(Qe),{hash:i,pathname:o,search:a}=as(r,{relative:t}),l=o;return s!=="/"&&(l=o==="/"?s:vt([s,o])),n.createHref({pathname:l,search:a,hash:i})}function os(){return g.useContext(is)!=null}function gt(){return os()||ce(!1,"useLocation() may be used only in the context of a <Router> component."),g.useContext(is).location}const Yo="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qo(r){g.useContext(Qe).static||g.useLayoutEffect(r)}function Ws(){let{isDataRoute:r}=g.useContext(at);return r?tu():Bc()}function Bc(){os()||ce(!1,"useNavigate() may be used only in the context of a <Router> component.");let r=g.useContext(ns),{basename:e,future:t,navigator:s}=g.useContext(Qe),{matches:n}=g.useContext(at),{pathname:i}=gt(),o=JSON.stringify(Ko(n,t.v7_relativeSplatPath)),a=g.useRef(!1);return Qo(()=>{a.current=!0}),g.useCallback(function(c,u){if(u===void 0&&(u={}),Ye(a.current,Yo),!a.current)return;if(typeof c=="number"){s.go(c);return}let d=Go(c,JSON.parse(o),i,u.relative==="path");r==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:vt([e,d.pathname])),(u.replace?s.replace:s.push)(d,u.state,u)},[e,s,o,i,r])}function _g(){let{matches:r}=g.useContext(at),e=r[r.length-1];return e?e.params:{}}function as(r,e){let{relative:t}=e===void 0?{}:e,{future:s}=g.useContext(Qe),{matches:n}=g.useContext(at),{pathname:i}=gt(),o=JSON.stringify(Ko(n,s.v7_relativeSplatPath));return g.useMemo(()=>Go(r,JSON.parse(o),i,t==="path"),[r,o,i,t])}function Wc(r,e){return qc(r,e)}function qc(r,e,t,s){os()||ce(!1,"useRoutes() may be used only in the context of a <Router> component.");let{navigator:n}=g.useContext(Qe),{matches:i}=g.useContext(at),o=i[i.length-1],a=o?o.params:{},l=o?o.pathname:"/",c=o?o.pathnameBase:"/",u=o&&o.route;{let m=u&&u.path||"";Zo(l,!u||m.endsWith("*"),"You rendered descendant <Routes> (or called `useRoutes()`) at "+('"'+l+'" (under <Route path="'+m+'">) but the ')+`parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

`+('Please change the parent <Route path="'+m+'"> to <Route ')+('path="'+(m==="/"?"*":m+"/*")+'">.'))}let d=gt(),f;if(e){var h;let m=typeof e=="string"?Or(e):e;c==="/"||(h=m.pathname)!=null&&h.startsWith(c)||ce(!1,"When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was "+('matched by all parent routes. The current pathname base is "'+c+'" ')+('but pathname "'+m.pathname+'" was given in the `location` prop.')),f=m}else f=d;let _=f.pathname||"/",v=_;if(c!=="/"){let m=c.replace(/^\//,"").split("/");v="/"+_.replace(/^\//,"").split("/").slice(m.length).join("/")}let p=bc(r,{pathname:v});Ye(u||p!=null,'No routes matched location "'+f.pathname+f.search+f.hash+'" '),Ye(p==null||p[p.length-1].route.element!==void 0||p[p.length-1].route.Component!==void 0||p[p.length-1].route.lazy!==void 0,'Matched leaf route at location "'+f.pathname+f.search+f.hash+'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.');let w=Jc(p&&p.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:vt([c,n.encodeLocation?n.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:vt([c,n.encodeLocation?n.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,t,s);return e&&w?g.createElement(is.Provider,{value:{location:Jr({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:jt.Pop}},w):w}function zc(){let r=eu(),e=Lc(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",r),o=g.createElement(g.Fragment,null,g.createElement("p",null,"💿 Hey developer 👋"),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:i},"ErrorBoundary")," or"," ",g.createElement("code",{style:i},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),t?g.createElement("pre",{style:n},t):null,o)}const Hc=g.createElement(zc,null);class Kc extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?g.createElement(at.Provider,{value:this.props.routeContext},g.createElement(si.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gc(r){let{routeContext:e,match:t,children:s}=r,n=g.useContext(ns);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(at.Provider,{value:e},s)}function Jc(r,e,t,s){var n;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),r==null){var i;if(!t)return null;if(t.errors)r=t.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,a=(n=t)==null?void 0:n.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||ce(!1,"Could not find a matching route for errors on route IDs: "+Object.keys(a).join(",")),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(t&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=t,_=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||_){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let h,_=!1,v=null,p=null;t&&(h=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||Hc,l&&(c<0&&f===0?(Zo("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,p=null):c===f&&(_=!0,p=d.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),m=()=>{let y;return h?y=v:_?y=p:d.route.Component?y=g.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=u,g.createElement(Gc,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:t!=null},children:y})};return t&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?g.createElement(Kc,{location:t.location,revalidation:t.revalidation,component:v,error:h,children:m(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):m()},null)}var Xo=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(Xo||{}),Yr=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(Yr||{});function ni(r){return r+" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router."}function Yc(r){let e=g.useContext(ns);return e||ce(!1,ni(r)),e}function Qc(r){let e=g.useContext(ri);return e||ce(!1,ni(r)),e}function Xc(r){let e=g.useContext(at);return e||ce(!1,ni(r)),e}function ii(r){let e=Xc(r),t=e.matches[e.matches.length-1];return t.route.id||ce(!1,r+' can only be used on routes that contain a unique "id"'),t.route.id}function Zc(){return ii(Yr.UseRouteId)}function eu(){var r;let e=g.useContext(si),t=Qc(Yr.UseRouteError),s=ii(Yr.UseRouteError);return e!==void 0?e:(r=t.errors)==null?void 0:r[s]}function tu(){let{router:r}=Yc(Xo.UseNavigateStable),e=ii(Yr.UseNavigateStable),t=g.useRef(!1);return Qo(()=>{t.current=!0}),g.useCallback(function(n,i){i===void 0&&(i={}),Ye(t.current,Yo),t.current&&(typeof n=="number"?r.navigate(n):r.navigate(n,Jr({fromRouteId:e},i)))},[r,e])}const Ri={};function Zo(r,e,t){!e&&!Ri[r]&&(Ri[r]=!0,Ye(!1,t))}const Ai={};function ru(r,e){Ai[e]||(Ai[e]=!0,console.warn(e))}const Oi=(r,e,t)=>ru(r,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+r+"` future flag to opt-in early. ")+("For more information, see "+t+"."));function su(r,e){(r==null?void 0:r.v7_startTransition)===void 0&&Oi("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(r==null?void 0:r.v7_relativeSplatPath)===void 0&&Oi("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Q(r){ce(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nu(r){let{basename:e="/",children:t=null,location:s,navigationType:n=jt.Pop,navigator:i,static:o=!1,future:a}=r;os()&&ce(!1,"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:l,navigator:i,static:o,future:Jr({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof s=="string"&&(s=Or(s));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:_="default"}=s,v=g.useMemo(()=>{let p=It(u,l);return p==null?null:{location:{pathname:p,search:d,hash:f,state:h,key:_},navigationType:n}},[l,u,d,f,h,_,n]);return Ye(v!=null,'<Router basename="'+l+'"> is not able to match the URL '+('"'+u+d+f+'" because it does not start with the ')+"basename, so the <Router> won't render anything."),v==null?null:g.createElement(Qe.Provider,{value:c},g.createElement(is.Provider,{children:t,value:v}))}function iu(r){let{children:e,location:t}=r;return Wc(An(e),t)}new Promise(()=>{});function An(r,e){e===void 0&&(e=[]);let t=[];return g.Children.forEach(r,(s,n)=>{if(!g.isValidElement(s))return;let i=[...e,n];if(s.type===g.Fragment){t.push.apply(t,An(s.props.children,i));return}s.type!==Q&&ce(!1,"["+(typeof s.type=="string"?s.type:s.type.name)+"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>"),!s.props.index||!s.props.children||ce(!1,"An index route cannot have child routes.");let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=An(s.props.children,i)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tr(){return Tr=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Tr.apply(this,arguments)}function oi(r,e){if(r==null)return{};var t={},s=Object.keys(r),n,i;for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&(t[n]=r[n]);return t}const Ts="get",Ps="application/x-www-form-urlencoded";function qs(r){return r!=null&&typeof r.tagName=="string"}function ou(r){return qs(r)&&r.tagName.toLowerCase()==="button"}function au(r){return qs(r)&&r.tagName.toLowerCase()==="form"}function lu(r){return qs(r)&&r.tagName.toLowerCase()==="input"}function cu(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function uu(r,e){return r.button===0&&(!e||e==="_self")&&!cu(r)}function On(r){return r===void 0&&(r=""),new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,t)=>{let s=r[t];return e.concat(Array.isArray(s)?s.map(n=>[t,n]):[[t,s]])},[]))}function du(r,e){let t=On(r);return e&&e.forEach((s,n)=>{t.has(n)||e.getAll(n).forEach(i=>{t.append(n,i)})}),t}let _s=null;function hu(){if(_s===null)try{new FormData(document.createElement("form"),0),_s=!1}catch{_s=!0}return _s}const fu=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hn(r){return r!=null&&!fu.has(r)?(Ye(!1,'"'+r+'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` '+('and will default to "'+Ps+'"')),null):r}function pu(r,e){let t,s,n,i,o;if(au(r)){let a=r.getAttribute("action");s=a?It(a,e):null,t=r.getAttribute("method")||Ts,n=hn(r.getAttribute("enctype"))||Ps,i=new FormData(r)}else if(ou(r)||lu(r)&&(r.type==="submit"||r.type==="image")){let a=r.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=r.getAttribute("formaction")||a.getAttribute("action");if(s=l?It(l,e):null,t=r.getAttribute("formmethod")||a.getAttribute("method")||Ts,n=hn(r.getAttribute("formenctype"))||hn(a.getAttribute("enctype"))||Ps,i=new FormData(a,r),!hu()){let{name:c,type:u,value:d}=r;if(u==="image"){let f=c?c+".":"";i.append(f+"x","0"),i.append(f+"y","0")}else c&&i.append(c,d)}}else{if(qs(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ts,s=null,n=Ps,o=r}return i&&n==="text/plain"&&(o=i,i=void 0),{action:s,method:t.toLowerCase(),encType:n,formData:i,body:o}}const mu=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vu=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],gu=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"],bu="6";try{window.__reactRouterVersion=bu}catch{}const ea=g.createContext({isTransitioning:!1});ea.displayName="ViewTransition";const yu=g.createContext(new Map);yu.displayName="Fetchers";const wu="startTransition",Di=Kl[wu];function _u(r){let{basename:e,children:t,future:s,window:n}=r,i=g.useRef();i.current==null&&(i.current=mc({window:n,v5Compat:!0}));let o=i.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:c}=s||{},u=g.useCallback(d=>{c&&Di?Di(()=>l(d)):l(d)},[l,c]);return g.useLayoutEffect(()=>o.listen(u),[o,u]),g.useEffect(()=>su(s),[s]),g.createElement(nu,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:s})}const xu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Eu=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ta=g.forwardRef(function(e,t){let{onClick:s,relative:n,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=oi(e,mu),{basename:h}=g.useContext(Qe),_,v=!1;if(typeof c=="string"&&Eu.test(c)&&(_=c,xu))try{let y=new URL(window.location.href),E=c.startsWith("//")?new URL(y.protocol+c):new URL(c),T=It(E.pathname,h);E.origin===y.origin&&T!=null?c=T+E.search+E.hash:v=!0}catch{Ye(!1,'<Link to="'+c+'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.')}let p=Vc(c,{relative:n}),w=Nu(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:n,viewTransition:d});function m(y){s&&s(y),y.defaultPrevented||w(y)}return g.createElement("a",Tr({},f,{href:_||p,onClick:v||i?s:m,ref:t,target:l}))});ta.displayName="Link";const ku=g.forwardRef(function(e,t){let{"aria-current":s="page",caseSensitive:n=!1,className:i="",end:o=!1,style:a,to:l,viewTransition:c,children:u}=e,d=oi(e,vu),f=as(l,{relative:d.relative}),h=gt(),_=g.useContext(ri),{navigator:v,basename:p}=g.useContext(Qe),w=_!=null&&Du(f)&&c===!0,m=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,y=h.pathname,E=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(y=y.toLowerCase(),E=E?E.toLowerCase():null,m=m.toLowerCase()),E&&p&&(E=It(E,p)||E);const T=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let N=y===m||!o&&y.startsWith(m)&&y.charAt(T)==="/",A=E!=null&&(E===m||!o&&E.startsWith(m)&&E.charAt(m.length)==="/"),I={isActive:N,isPending:A,isTransitioning:w},O=N?s:void 0,D;typeof i=="function"?D=i(I):D=[i,N?"active":null,A?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let q=typeof a=="function"?a(I):a;return g.createElement(ta,Tr({},d,{"aria-current":O,className:D,ref:t,style:q,to:l,viewTransition:c}),typeof u=="function"?u(I):u)});ku.displayName="NavLink";const Cu=g.forwardRef((r,e)=>{let{fetcherKey:t,navigate:s,reloadDocument:n,replace:i,state:o,method:a=Ts,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f}=r,h=oi(r,gu),_=Au(),v=Ou(l,{relative:u}),p=a.toLowerCase()==="get"?"get":"post",w=m=>{if(c&&c(m),m.defaultPrevented)return;m.preventDefault();let y=m.nativeEvent.submitter,E=(y==null?void 0:y.getAttribute("formmethod"))||a;_(y||m.currentTarget,{fetcherKey:t,method:E,navigate:s,replace:i,state:o,relative:u,preventScrollReset:d,viewTransition:f})};return g.createElement("form",Tr({ref:e,method:p,action:v,onSubmit:n?c:w},h))});Cu.displayName="Form";var Ds;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Ds||(Ds={}));var ji;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(ji||(ji={}));function Su(r){return r+" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router."}function ra(r){let e=g.useContext(ns);return e||ce(!1,Su(r)),e}function Nu(r,e){let{target:t,replace:s,state:n,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Ws(),c=gt(),u=as(r,{relative:o});return g.useCallback(d=>{if(uu(d,t)){d.preventDefault();let f=s!==void 0?s:Gr(c)===Gr(u);l(r,{replace:f,state:n,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,u,s,n,t,r,i,o,a])}function xg(r){Ye(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=g.useRef(On(r)),t=g.useRef(!1),s=gt(),n=g.useMemo(()=>du(s.search,t.current?null:e.current),[s.search]),i=Ws(),o=g.useCallback((a,l)=>{const c=On(typeof a=="function"?a(n):a);t.current=!0,i("?"+c,l)},[i,n]);return[n,o]}function Tu(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let Pu=0,Ru=()=>"__"+String(++Pu)+"__";function Au(){let{router:r}=ra(Ds.UseSubmit),{basename:e}=g.useContext(Qe),t=Zc();return g.useCallback(function(s,n){n===void 0&&(n={}),Tu();let{action:i,method:o,encType:a,formData:l,body:c}=pu(s,e);if(n.navigate===!1){let u=n.fetcherKey||Ru();r.fetch(u,t,n.action||i,{preventScrollReset:n.preventScrollReset,formData:l,body:c,formMethod:n.method||o,formEncType:n.encType||a,flushSync:n.flushSync})}else r.navigate(n.action||i,{preventScrollReset:n.preventScrollReset,formData:l,body:c,formMethod:n.method||o,formEncType:n.encType||a,replace:n.replace,state:n.state,fromRouteId:t,flushSync:n.flushSync,viewTransition:n.viewTransition})},[r,e,t])}function Ou(r,e){let{relative:t}=e===void 0?{}:e,{basename:s}=g.useContext(Qe),n=g.useContext(at);n||ce(!1,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o=Tr({},as(r||".",{relative:t})),a=gt();if(r==null){o.search=a.search;let l=new URLSearchParams(o.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();o.search=d?"?"+d:""}}return(!r||r===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(o.pathname=o.pathname==="/"?s:vt([s,o.pathname])),Gr(o)}function Du(r,e){e===void 0&&(e={});let t=g.useContext(ea);t==null&&ce(!1,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ra(Ds.useViewTransitionState),n=as(r,{relative:e.relative});if(!t.isTransitioning)return!1;let i=It(t.currentLocation.pathname,s)||t.currentLocation.pathname,o=It(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Rn(n.pathname,o)!=null||Rn(n.pathname,i)!=null}/*! Capacitor: https://capacitorjs.com/ - MIT License */var Pr;(function(r){r.Unimplemented="UNIMPLEMENTED",r.Unavailable="UNAVAILABLE"})(Pr||(Pr={}));class fn extends Error{constructor(e,t,s){super(e),this.message=e,this.code=t,this.data=s}}const ju=r=>{var e,t;return r!=null&&r.androidBridge?"android":!((t=(e=r==null?void 0:r.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},Iu=r=>{const e=r.CapacitorCustomPlatform||null,t=r.Capacitor||{},s=t.Plugins=t.Plugins||{},n=()=>e!==null?e.name:ju(r),i=()=>n()!=="web",o=d=>{const f=c.get(d);return!!(f!=null&&f.platforms.has(n())||a(d))},a=d=>{var f;return(f=t.PluginHeaders)===null||f===void 0?void 0:f.find(h=>h.name===d)},l=d=>r.console.error(d),c=new Map,u=(d,f={})=>{const h=c.get(d);if(h)return console.warn(`Capacitor plugin "${d}" already registered. Cannot register plugins twice.`),h.proxy;const _=n(),v=a(d);let p;const w=async()=>(!p&&_ in f?p=typeof f[_]=="function"?p=await f[_]():p=f[_]:e!==null&&!p&&"web"in f&&(p=typeof f.web=="function"?p=await f.web():p=f.web),p),m=(I,O)=>{var D,q;if(v){const j=v==null?void 0:v.methods.find(K=>O===K.name);if(j)return j.rtype==="promise"?K=>t.nativePromise(d,O.toString(),K):(K,R)=>t.nativeCallback(d,O.toString(),K,R);if(I)return(D=I[O])===null||D===void 0?void 0:D.bind(I)}else{if(I)return(q=I[O])===null||q===void 0?void 0:q.bind(I);throw new fn(`"${d}" plugin is not implemented on ${_}`,Pr.Unimplemented)}},y=I=>{let O;const D=(...q)=>{const j=w().then(K=>{const R=m(K,I);if(R){const Z=R(...q);return O=Z==null?void 0:Z.remove,Z}else throw new fn(`"${d}.${I}()" is not implemented on ${_}`,Pr.Unimplemented)});return I==="addListener"&&(j.remove=async()=>O()),j};return D.toString=()=>`${I.toString()}() { [capacitor code] }`,Object.defineProperty(D,"name",{value:I,writable:!1,configurable:!1}),D},E=y("addListener"),T=y("removeListener"),N=(I,O)=>{const D=E({eventName:I},O),q=async()=>{const K=await D;T({eventName:I,callbackId:K},O)},j=new Promise(K=>D.then(()=>K({remove:q})));return j.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await q()},j},A=new Proxy({},{get(I,O){switch(O){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return v?N:E;case"removeListener":return T;default:return y(O)}}});return s[d]=A,c.set(d,{name:d,proxy:A,platforms:new Set([...Object.keys(f),...v?[_]:[]])}),A};return t.convertFileSrc||(t.convertFileSrc=d=>d),t.getPlatform=n,t.handleError=l,t.isNativePlatform=i,t.isPluginAvailable=o,t.registerPlugin=u,t.Exception=fn,t.DEBUG=!!t.DEBUG,t.isLoggingEnabled=!!t.isLoggingEnabled,t},Uu=r=>r.Capacitor=Iu(r),js=Uu(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),zs=js.registerPlugin;class sa{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let s=!1;this.listeners[e]||(this.listeners[e]=[],s=!0),this.listeners[e].push(t);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),s&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,t);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,s){const n=this.listeners[e];if(!n){if(s){let i=this.retainedEventArguments[e];i||(i=[]),i.push(t),this.retainedEventArguments[e]=i}return}n.forEach(i=>i(t))}hasListeners(e){var t;return!!(!((t=this.listeners[e])===null||t===void 0)&&t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:s=>{this.notifyListeners(t,s)}}}unimplemented(e="not implemented"){return new js.Exception(e,Pr.Unimplemented)}unavailable(e="not available"){return new js.Exception(e,Pr.Unavailable)}async removeListener(e,t){const s=this.listeners[e];if(!s)return;const n=s.indexOf(t);this.listeners[e].splice(n,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(s=>{this.notifyListeners(e,s)}))}}const Ii=r=>encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Ui=r=>r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class $u extends sa{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[n,i]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=Ui(n).trim(),i=Ui(i).trim(),t[n]=i}),t}async setCookie(e){try{const t=Ii(e.key),s=Ii(e.value),n=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${s||""}${n}; path=${i}; ${o};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}zs("CapacitorCookies",{web:()=>new $u});const Lu=async r=>new Promise((e,t)=>{const s=new FileReader;s.onload=()=>{const n=s.result;e(n.indexOf(",")>=0?n.split(",")[1]:n)},s.onerror=n=>t(n),s.readAsDataURL(r)}),Mu=(r={})=>{const e=Object.keys(r);return Object.keys(r).map(n=>n.toLocaleLowerCase()).reduce((n,i,o)=>(n[i]=r[e[o]],n),{})},Fu=(r,e=!0)=>r?Object.entries(r).reduce((s,n)=>{const[i,o]=n;let a,l;return Array.isArray(o)?(l="",o.forEach(c=>{a=e?encodeURIComponent(c):c,l+=`${i}=${a}&`}),l.slice(0,-1)):(a=e?encodeURIComponent(o):o,l=`${i}=${a}`),`${s}&${l}`},"").substr(1):null,Vu=(r,e={})=>{const t=Object.assign({method:r.method||"GET",headers:r.headers},e),n=Mu(r.headers)["content-type"]||"";if(typeof r.data=="string")t.body=r.data;else if(n.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,a]of Object.entries(r.data||{}))i.set(o,a);t.body=i.toString()}else if(n.includes("multipart/form-data")||r.data instanceof FormData){const i=new FormData;if(r.data instanceof FormData)r.data.forEach((a,l)=>{i.append(l,a)});else for(const a of Object.keys(r.data))i.append(a,r.data[a]);t.body=i;const o=new Headers(t.headers);o.delete("content-type"),t.headers=o}else(n.includes("application/json")||typeof r.data=="object")&&(t.body=JSON.stringify(r.data));return t};class Bu extends sa{async request(e){const t=Vu(e,e.webFetchExtra),s=Fu(e.params,e.shouldEncodeUrlParams),n=s?`${e.url}?${s}`:e.url,i=await fetch(n,t),o=i.headers.get("content-type")||"";let{responseType:a="text"}=i.ok?e:{};o.includes("application/json")&&(a="json");let l,c;switch(a){case"arraybuffer":case"blob":c=await i.blob(),l=await Lu(c);break;case"json":l=await i.json();break;case"document":case"text":default:l=await i.text()}const u={};return i.headers.forEach((d,f)=>{u[f]=d}),{data:l,headers:u,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}zs("CapacitorHttp",{web:()=>new Bu});const pn=zs("Browser",{web:()=>z(()=>import("./web-CFRJJkXu.js"),__vite__mapDeps([0,1,2])).then(r=>new r.BrowserWeb)}),Wu=zs("App",{web:()=>z(()=>import("./web-7fOVRHG5.js"),__vite__mapDeps([3,1,2])).then(r=>new r.AppWeb)});function na(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var n=r.length;for(e=0;e<n;e++)r[e]&&(t=na(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function ia(){for(var r,e,t=0,s="",n=arguments.length;t<n;t++)(r=arguments[t])&&(e=na(r))&&(s&&(s+=" "),s+=e);return s}const ai="-",qu=r=>{const e=Hu(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=r;return{getClassGroupId:o=>{const a=o.split(ai);return a[0]===""&&a.length!==1&&a.shift(),oa(a,e)||zu(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&s[o]?[...l,...s[o]]:l}}},oa=(r,e)=>{var o;if(r.length===0)return e.classGroupId;const t=r[0],s=e.nextPart.get(t),n=s?oa(r.slice(1),s):void 0;if(n)return n;if(e.validators.length===0)return;const i=r.join(ai);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},$i=/^\[(.+)\]$/,zu=r=>{if($i.test(r)){const e=$i.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},Hu=r=>{const{theme:e,prefix:t}=r,s={nextPart:new Map,validators:[]};return Gu(Object.entries(r.classGroups),t).forEach(([i,o])=>{Dn(o,s,i,e)}),s},Dn=(r,e,t,s)=>{r.forEach(n=>{if(typeof n=="string"){const i=n===""?e:Li(e,n);i.classGroupId=t;return}if(typeof n=="function"){if(Ku(n)){Dn(n(s),e,t,s);return}e.validators.push({validator:n,classGroupId:t});return}Object.entries(n).forEach(([i,o])=>{Dn(o,Li(e,i),t,s)})})},Li=(r,e)=>{let t=r;return e.split(ai).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},Ku=r=>r.isThemeGetter,Gu=(r,e)=>e?r.map(([t,s])=>{const n=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[t,n]}):r,Ju=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const n=(i,o)=>{t.set(i,o),e++,e>r&&(e=0,s=t,t=new Map)};return{get(i){let o=t.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return n(i,o),o},set(i,o){t.has(i)?t.set(i,o):n(i,o)}}},aa="!",Yu=r=>{const{separator:e,experimentalParseClassName:t}=r,s=e.length===1,n=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let p=0;p<a.length;p++){let w=a[p];if(c===0){if(w===n&&(s||a.slice(p,p+i)===e)){l.push(a.slice(u,p)),u=p+i;continue}if(w==="/"){d=p;continue}}w==="["?c++:w==="]"&&c--}const f=l.length===0?a:a.substring(u),h=f.startsWith(aa),_=h?f.substring(1):f,v=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:_,maybePostfixModifierPosition:v}};return t?a=>t({className:a,parseClassName:o}):o},Qu=r=>{if(r.length<=1)return r;const e=[];let t=[];return r.forEach(s=>{s[0]==="["?(e.push(...t.sort(),s),t=[]):t.push(s)}),e.push(...t.sort()),e},Xu=r=>({cache:Ju(r.cacheSize),parseClassName:Yu(r),...qu(r)}),Zu=/\s+/,ed=(r,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:n}=e,i=[],o=r.trim().split(Zu);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}=t(c);let _=!!h,v=s(_?f.substring(0,h):f);if(!v){if(!_){a=c+(a.length>0?" "+a:a);continue}if(v=s(f),!v){a=c+(a.length>0?" "+a:a);continue}_=!1}const p=Qu(u).join(":"),w=d?p+aa:p,m=w+v;if(i.includes(m))continue;i.push(m);const y=n(v,_);for(let E=0;E<y.length;++E){const T=y[E];i.push(w+T)}a=c+(a.length>0?" "+a:a)}return a};function td(){let r=0,e,t,s="";for(;r<arguments.length;)(e=arguments[r++])&&(t=la(e))&&(s&&(s+=" "),s+=t);return s}const la=r=>{if(typeof r=="string")return r;let e,t="";for(let s=0;s<r.length;s++)r[s]&&(e=la(r[s]))&&(t&&(t+=" "),t+=e);return t};function rd(r,...e){let t,s,n,i=o;function o(l){const c=e.reduce((u,d)=>d(u),r());return t=Xu(c),s=t.cache.get,n=t.cache.set,i=a,a(l)}function a(l){const c=s(l);if(c)return c;const u=ed(l,t);return n(l,u),u}return function(){return i(td.apply(null,arguments))}}const ae=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},ca=/^\[(?:([a-z-]+):)?(.+)\]$/i,sd=/^\d+\/\d+$/,nd=new Set(["px","full","screen"]),id=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,od=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ad=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ld=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cd=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ht=r=>br(r)||nd.has(r)||sd.test(r),Et=r=>Dr(r,"length",gd),br=r=>!!r&&!Number.isNaN(Number(r)),mn=r=>Dr(r,"number",br),Mr=r=>!!r&&Number.isInteger(Number(r)),ud=r=>r.endsWith("%")&&br(r.slice(0,-1)),W=r=>ca.test(r),kt=r=>id.test(r),dd=new Set(["length","size","percentage"]),hd=r=>Dr(r,dd,ua),fd=r=>Dr(r,"position",ua),pd=new Set(["image","url"]),md=r=>Dr(r,pd,yd),vd=r=>Dr(r,"",bd),Fr=()=>!0,Dr=(r,e,t)=>{const s=ca.exec(r);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):t(s[2]):!1},gd=r=>od.test(r)&&!ad.test(r),ua=()=>!1,bd=r=>ld.test(r),yd=r=>cd.test(r),wd=()=>{const r=ae("colors"),e=ae("spacing"),t=ae("blur"),s=ae("brightness"),n=ae("borderColor"),i=ae("borderRadius"),o=ae("borderSpacing"),a=ae("borderWidth"),l=ae("contrast"),c=ae("grayscale"),u=ae("hueRotate"),d=ae("invert"),f=ae("gap"),h=ae("gradientColorStops"),_=ae("gradientColorStopPositions"),v=ae("inset"),p=ae("margin"),w=ae("opacity"),m=ae("padding"),y=ae("saturate"),E=ae("scale"),T=ae("sepia"),N=ae("skew"),A=ae("space"),I=ae("translate"),O=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto",W,e],j=()=>[W,e],K=()=>["",ht,Et],R=()=>["auto",br,W],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],le=()=>["solid","dashed","dotted","double","none"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",W],fe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ye=()=>[br,W];return{cacheSize:500,separator:":",theme:{colors:[Fr],spacing:[ht,Et],blur:["none","",kt,W],brightness:ye(),borderColor:[r],borderRadius:["none","","full",kt,W],borderSpacing:j(),borderWidth:K(),contrast:ye(),grayscale:L(),hueRotate:ye(),invert:L(),gap:j(),gradientColorStops:[r],gradientColorStopPositions:[ud,Et],inset:q(),margin:q(),opacity:ye(),padding:j(),saturate:ye(),scale:ye(),sepia:L(),skew:ye(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",W]}],container:["container"],columns:[{columns:[kt]}],"break-after":[{"break-after":fe()}],"break-before":[{"break-before":fe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),W]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Mr,W]}],basis:[{basis:q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",W]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Mr,W]}],"grid-cols":[{"grid-cols":[Fr]}],"col-start-end":[{col:["auto",{span:["full",Mr,W]},W]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Fr]}],"row-start-end":[{row:["auto",{span:[Mr,W]},W]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",W]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",W]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...xe()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...xe(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...xe(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",W,e]}],"min-w":[{"min-w":[W,e,"min","max","fit"]}],"max-w":[{"max-w":[W,e,"none","full","min","max","fit","prose",{screen:[kt]},kt]}],h:[{h:[W,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[W,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[W,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[W,e,"auto","min","max","fit"]}],"font-size":[{text:["base",kt,Et]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",mn]}],"font-family":[{font:[Fr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",W]}],"line-clamp":[{"line-clamp":["none",br,mn]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ht,W]}],"list-image":[{"list-image":["none",W]}],"list-style-type":[{list:["none","disc","decimal",W]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ht,Et]}],"underline-offset":[{"underline-offset":["auto",ht,W]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",W]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",W]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),fd]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hd]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},md]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...le(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:le()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...le()]}],"outline-offset":[{"outline-offset":[ht,W]}],"outline-w":[{outline:[ht,Et]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[ht,Et]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",kt,vd]}],"shadow-color":[{shadow:[Fr]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...he(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":he()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",kt,W]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[y]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",W]}],duration:[{duration:ye()}],ease:[{ease:["linear","in","out","in-out",W]}],delay:[{delay:ye()}],animate:[{animate:["none","spin","ping","pulse","bounce",W]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Mr,W]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",W]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",W]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",W]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[ht,Et,mn]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_d=rd(wd);function de(...r){return _d(ia(r))}const da=g.forwardRef(({className:r,...e},t)=>x.jsxDEV("div",{ref:t,className:de("rounded-lg border bg-card text-card-foreground shadow-sm",r),...e},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/card.tsx",lineNumber:6,columnNumber:3},void 0));da.displayName="Card";const ha=g.forwardRef(({className:r,...e},t)=>x.jsxDEV("div",{ref:t,className:de("flex flex-col space-y-1.5 p-6",r),...e},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/card.tsx",lineNumber:12,columnNumber:5},void 0));ha.displayName="CardHeader";const fa=g.forwardRef(({className:r,...e},t)=>x.jsxDEV("h3",{ref:t,className:de("text-2xl font-semibold leading-none tracking-tight",r),...e},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/card.tsx",lineNumber:19,columnNumber:5},void 0));fa.displayName="CardTitle";const xd=g.forwardRef(({className:r,...e},t)=>x.jsxDEV("p",{ref:t,className:de("text-sm text-muted-foreground",r),...e},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/card.tsx",lineNumber:26,columnNumber:5},void 0));xd.displayName="CardDescription";const pa=g.forwardRef(({className:r,...e},t)=>x.jsxDEV("div",{ref:t,className:de("p-6 pt-0",r),...e},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/card.tsx",lineNumber:32,columnNumber:37},void 0));pa.displayName="CardContent";const Ed=g.forwardRef(({className:r,...e},t)=>x.jsxDEV("div",{ref:t,className:de("flex items-center p-6 pt-0",r),...e},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/card.tsx",lineNumber:38,columnNumber:5},void 0));Ed.displayName="CardFooter";const Mi=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,Fi=ia,li=(r,e)=>t=>{var s;if((e==null?void 0:e.variants)==null)return Fi(r,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:n,defaultVariants:i}=e,o=Object.keys(n).map(c=>{const u=t==null?void 0:t[c],d=i==null?void 0:i[c];if(u===null)return null;const f=Mi(u)||Mi(d);return n[c][f]}),a=t&&Object.entries(t).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((c,u)=>{let{class:d,className:f,...h}=u;return Object.entries(h).every(_=>{let[v,p]=_;return Array.isArray(p)?p.includes({...i,...a}[v]):{...i,...a}[v]===p})?[...c,d,f]:c},[]);return Fi(r,o,l,t==null?void 0:t.class,t==null?void 0:t.className)},kd=li("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Kt=g.forwardRef(({className:r,variant:e,size:t,asChild:s=!1,...n},i)=>{const o=s?Yl:"button";return x.jsxDEV(o,{className:de(kd({variant:e,size:t,className:r})),ref:i,...n},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/button.tsx",lineNumber:42,columnNumber:12},void 0)});Kt.displayName="Button";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ma=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sd={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=g.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:n="",children:i,iconNode:o,...a},l)=>g.createElement("svg",{ref:l,...Sd,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:ma("lucide",n),...a},[...o.map(([c,u])=>g.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=(r,e)=>{const t=g.forwardRef(({className:s,...n},i)=>g.createElement(Nd,{ref:i,iconNode:e,className:ma(`lucide-${Cd(r)}`,s),...n}));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=We("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=We("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=We("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=We("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=We("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=We("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=We("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=We("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=We("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=We("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=We("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class Ld extends g.Component{constructor(){super(...arguments);ys(this,"state",{hasError:!1});ys(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0})})}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){console.error("Error caught by boundary:",t,s)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:x.jsxDEV("div",{className:"min-h-[400px] flex items-center justify-center p-4",children:x.jsxDEV(da,{className:"w-full max-w-md",children:[x.jsxDEV(ha,{className:"text-center",children:[x.jsxDEV("div",{className:"mx-auto w-12 h-12 bg-destructive/10 rounded-full flex items-center justify-center mb-4",children:x.jsxDEV(Ud,{className:"h-6 w-6 text-destructive"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ErrorBoundary.tsx",lineNumber:44,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ErrorBoundary.tsx",lineNumber:43,columnNumber:15},this),x.jsxDEV(fa,{className:"text-destructive",children:"Something went wrong"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ErrorBoundary.tsx",lineNumber:46,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ErrorBoundary.tsx",lineNumber:42,columnNumber:13},this),x.jsxDEV(pa,{className:"text-center space-y-4",children:[x.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"We encountered an unexpected error. Please try refreshing the page."},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ErrorBoundary.tsx",lineNumber:49,columnNumber:15},this),this.state.error&&x.jsxDEV("div",{className:"text-xs text-left bg-muted p-2 rounded",children:x.jsxDEV("pre",{className:"whitespace-pre-wrap",children:this.state.error.message},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ErrorBoundary.tsx",lineNumber:54,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ErrorBoundary.tsx",lineNumber:53,columnNumber:17},this),x.jsxDEV("div",{className:"flex gap-2 justify-center",children:[x.jsxDEV(Kt,{variant:"outline",onClick:this.handleRetry,children:[x.jsxDEV(Dd,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ErrorBoundary.tsx",lineNumber:59,columnNumber:19},this),"Try Again"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ErrorBoundary.tsx",lineNumber:58,columnNumber:17},this),x.jsxDEV(Kt,{onClick:()=>window.location.reload(),children:"Refresh Page"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ErrorBoundary.tsx",lineNumber:62,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ErrorBoundary.tsx",lineNumber:57,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ErrorBoundary.tsx",lineNumber:48,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ErrorBoundary.tsx",lineNumber:41,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ErrorBoundary.tsx",lineNumber:40,columnNumber:9},this):this.props.children}}const Md=1,Fd=1e6;let vn=0;function Vd(){return vn=(vn+1)%Number.MAX_SAFE_INTEGER,vn.toString()}const gn=new Map,Vi=r=>{if(gn.has(r))return;const e=setTimeout(()=>{gn.delete(r),Wr({type:"REMOVE_TOAST",toastId:r})},Fd);gn.set(r,e)},Bd=(r,e)=>{switch(e.type){case"ADD_TOAST":return{...r,toasts:[e.toast,...r.toasts].slice(0,Md)};case"UPDATE_TOAST":return{...r,toasts:r.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?Vi(t):r.toasts.forEach(s=>{Vi(s.id)}),{...r,toasts:r.toasts.map(s=>s.id===t||t===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(t=>t.id!==e.toastId)}}},Rs=[];let As={toasts:[]};function Wr(r){As=Bd(As,r),Rs.forEach(e=>{e(As)})}function Wd({...r}){const e=Vd(),t=n=>Wr({type:"UPDATE_TOAST",toast:{...n,id:e}}),s=()=>Wr({type:"DISMISS_TOAST",toastId:e});return Wr({type:"ADD_TOAST",toast:{...r,id:e,open:!0,onOpenChange:n=>{n||s()}}}),{id:e,dismiss:s,update:t}}function ga(){const[r,e]=g.useState(As);return g.useEffect(()=>(Rs.push(e),()=>{const t=Rs.indexOf(e);t>-1&&Rs.splice(t,1)}),[r]),{...r,toast:Wd,dismiss:t=>Wr({type:"DISMISS_TOAST",toastId:t})}}var qd=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),zd="VisuallyHidden",Hs=g.forwardRef((r,e)=>F.jsx(ot.span,{...r,ref:e,style:{...qd,...r.style}}));Hs.displayName=zd;var Hd=Hs,ui="ToastProvider",[di,Kd,Gd]=Ql("Toast"),[ba]=ti("Toast",[Gd]),[Jd,Ks]=ba(ui),ya=r=>{const{__scopeToast:e,label:t="Notification",duration:s=5e3,swipeDirection:n="right",swipeThreshold:i=50,children:o}=r,[a,l]=g.useState(null),[c,u]=g.useState(0),d=g.useRef(!1),f=g.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${ui}\`. Expected non-empty \`string\`.`),F.jsx(di.Provider,{scope:e,children:F.jsx(Jd,{scope:e,label:t,duration:s,swipeDirection:n,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:g.useCallback(()=>u(h=>h+1),[]),onToastRemove:g.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:o})})};ya.displayName=ui;var wa="ToastViewport",Yd=["F8"],jn="toast.viewportPause",In="toast.viewportResume",_a=g.forwardRef((r,e)=>{const{__scopeToast:t,hotkey:s=Yd,label:n="Notifications ({hotkey})",...i}=r,o=Ks(wa,t),a=Kd(t),l=g.useRef(null),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),f=Bs(e,d,o.onViewportChange),h=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;g.useEffect(()=>{const p=w=>{var y;s.length!==0&&s.every(E=>w[E]||w.code===E)&&((y=d.current)==null||y.focus())};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[s]),g.useEffect(()=>{const p=l.current,w=d.current;if(_&&p&&w){const m=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(jn);w.dispatchEvent(N),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(In);w.dispatchEvent(N),o.isClosePausedRef.current=!1}},E=N=>{!p.contains(N.relatedTarget)&&y()},T=()=>{p.contains(document.activeElement)||y()};return p.addEventListener("focusin",m),p.addEventListener("focusout",E),p.addEventListener("pointermove",m),p.addEventListener("pointerleave",T),window.addEventListener("blur",m),window.addEventListener("focus",y),()=>{p.removeEventListener("focusin",m),p.removeEventListener("focusout",E),p.removeEventListener("pointermove",m),p.removeEventListener("pointerleave",T),window.removeEventListener("blur",m),window.removeEventListener("focus",y)}}},[_,o.isClosePausedRef]);const v=g.useCallback(({tabbingDirection:p})=>{const m=a().map(y=>{const E=y.ref.current,T=[E,...ch(E)];return p==="forwards"?T:T.reverse()});return(p==="forwards"?m.reverse():m).flat()},[a]);return g.useEffect(()=>{const p=d.current;if(p){const w=m=>{var T,N,A;const y=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!y){const I=document.activeElement,O=m.shiftKey;if(m.target===p&&O){(T=c.current)==null||T.focus();return}const j=v({tabbingDirection:O?"backwards":"forwards"}),K=j.findIndex(R=>R===I);bn(j.slice(K+1))?m.preventDefault():O?(N=c.current)==null||N.focus():(A=u.current)==null||A.focus()}};return p.addEventListener("keydown",w),()=>p.removeEventListener("keydown",w)}},[a,v]),F.jsxs(Xl,{ref:l,role:"region","aria-label":n.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&F.jsx(Un,{ref:c,onFocusFromOutsideViewport:()=>{const p=v({tabbingDirection:"forwards"});bn(p)}}),F.jsx(di.Slot,{scope:t,children:F.jsx(ot.ol,{tabIndex:-1,...i,ref:f})}),_&&F.jsx(Un,{ref:u,onFocusFromOutsideViewport:()=>{const p=v({tabbingDirection:"backwards"});bn(p)}})]})});_a.displayName=wa;var xa="ToastFocusProxy",Un=g.forwardRef((r,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:s,...n}=r,i=Ks(xa,t);return F.jsx(Hs,{tabIndex:0,...n,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&s()}})});Un.displayName=xa;var ls="Toast",Qd="toast.swipeStart",Xd="toast.swipeMove",Zd="toast.swipeCancel",eh="toast.swipeEnd",Ea=g.forwardRef((r,e)=>{const{forceMount:t,open:s,defaultOpen:n,onOpenChange:i,...o}=r,[a,l]=Zl({prop:s,defaultProp:n??!0,onChange:i,caller:ls});return F.jsx($o,{present:t||a,children:F.jsx(sh,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Os(r.onPause),onResume:Os(r.onResume),onSwipeStart:Ce(r.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ce(r.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Ce(r.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ce(r.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});Ea.displayName=ls;var[th,rh]=ba(ls,{onClose(){}}),sh=g.forwardRef((r,e)=>{const{__scopeToast:t,type:s="foreground",duration:n,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:h,..._}=r,v=Ks(ls,t),[p,w]=g.useState(null),m=Bs(e,R=>w(R)),y=g.useRef(null),E=g.useRef(null),T=n||v.duration,N=g.useRef(0),A=g.useRef(T),I=g.useRef(0),{onToastAdd:O,onToastRemove:D}=v,q=Os(()=>{var Z;(p==null?void 0:p.contains(document.activeElement))&&((Z=v.viewport)==null||Z.focus()),o()}),j=g.useCallback(R=>{!R||R===1/0||(window.clearTimeout(I.current),N.current=new Date().getTime(),I.current=window.setTimeout(q,R))},[q]);g.useEffect(()=>{const R=v.viewport;if(R){const Z=()=>{j(A.current),c==null||c()},le=()=>{const he=new Date().getTime()-N.current;A.current=A.current-he,window.clearTimeout(I.current),l==null||l()};return R.addEventListener(jn,le),R.addEventListener(In,Z),()=>{R.removeEventListener(jn,le),R.removeEventListener(In,Z)}}},[v.viewport,T,l,c,j]),g.useEffect(()=>{i&&!v.isClosePausedRef.current&&j(T)},[i,T,v.isClosePausedRef,j]),g.useEffect(()=>(O(),()=>D()),[O,D]);const K=g.useMemo(()=>p?Ra(p):null,[p]);return v.viewport?F.jsxs(F.Fragment,{children:[K&&F.jsx(nh,{__scopeToast:t,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:K}),F.jsx(th,{scope:t,onClose:q,children:Uo.createPortal(F.jsx(di.ItemSlot,{scope:t,children:F.jsx(ec,{asChild:!0,onEscapeKeyDown:Ce(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||q(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:F.jsx(ot.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,..._,ref:m,style:{userSelect:"none",touchAction:"none",...r.style},onKeyDown:Ce(r.onKeyDown,R=>{R.key==="Escape"&&(a==null||a(R.nativeEvent),R.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,q()))}),onPointerDown:Ce(r.onPointerDown,R=>{R.button===0&&(y.current={x:R.clientX,y:R.clientY})}),onPointerMove:Ce(r.onPointerMove,R=>{if(!y.current)return;const Z=R.clientX-y.current.x,le=R.clientY-y.current.y,he=!!E.current,xe=["left","right"].includes(v.swipeDirection),L=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,fe=xe?L(0,Z):0,ye=xe?0:L(0,le),J=R.pointerType==="touch"?10:2,X={x:fe,y:ye},re={originalEvent:R,delta:X};he?(E.current=X,xs(Xd,d,re,{discrete:!1})):Bi(X,v.swipeDirection,J)?(E.current=X,xs(Qd,u,re,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(Z)>J||Math.abs(le)>J)&&(y.current=null)}),onPointerUp:Ce(r.onPointerUp,R=>{const Z=E.current,le=R.target;if(le.hasPointerCapture(R.pointerId)&&le.releasePointerCapture(R.pointerId),E.current=null,y.current=null,Z){const he=R.currentTarget,xe={originalEvent:R,delta:Z};Bi(Z,v.swipeDirection,v.swipeThreshold)?xs(eh,h,xe,{discrete:!0}):xs(Zd,f,xe,{discrete:!0}),he.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),nh=r=>{const{__scopeToast:e,children:t,...s}=r,n=Ks(ls,e),[i,o]=g.useState(!1),[a,l]=g.useState(!1);return ah(()=>o(!0)),g.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:F.jsx(tc,{asChild:!0,children:F.jsx(Hs,{...s,children:i&&F.jsxs(F.Fragment,{children:[n.label," ",t]})})})},ih="ToastTitle",ka=g.forwardRef((r,e)=>{const{__scopeToast:t,...s}=r;return F.jsx(ot.div,{...s,ref:e})});ka.displayName=ih;var oh="ToastDescription",Ca=g.forwardRef((r,e)=>{const{__scopeToast:t,...s}=r;return F.jsx(ot.div,{...s,ref:e})});Ca.displayName=oh;var Sa="ToastAction",Na=g.forwardRef((r,e)=>{const{altText:t,...s}=r;return t.trim()?F.jsx(Pa,{altText:t,asChild:!0,children:F.jsx(hi,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Sa}\`. Expected non-empty \`string\`.`),null)});Na.displayName=Sa;var Ta="ToastClose",hi=g.forwardRef((r,e)=>{const{__scopeToast:t,...s}=r,n=rh(Ta,t);return F.jsx(Pa,{asChild:!0,children:F.jsx(ot.button,{type:"button",...s,ref:e,onClick:Ce(r.onClick,n.onClose)})})});hi.displayName=Ta;var Pa=g.forwardRef((r,e)=>{const{__scopeToast:t,altText:s,...n}=r;return F.jsx(ot.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...n,ref:e})});function Ra(r){const e=[];return Array.from(r.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),lh(s)){const n=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!n)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Ra(s))}}),e}function xs(r,e,t,{discrete:s}){const n=t.originalEvent.currentTarget,i=new CustomEvent(r,{bubbles:!0,cancelable:!0,detail:t});e&&n.addEventListener(r,e,{once:!0}),s?sc(n,i):n.dispatchEvent(i)}var Bi=(r,e,t=0)=>{const s=Math.abs(r.x),n=Math.abs(r.y),i=s>n;return e==="left"||e==="right"?i&&s>t:!i&&n>t};function ah(r=()=>{}){const e=Os(r);rc(()=>{let t=0,s=0;return t=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(s)}},[e])}function lh(r){return r.nodeType===r.ELEMENT_NODE}function ch(r){const e=[],t=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const n=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||n?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function bn(r){const e=document.activeElement;return r.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var uh=ya,Aa=_a,Oa=Ea,Da=ka,ja=Ca,Ia=Na,Ua=hi;const dh=uh,$a=g.forwardRef(({className:r,...e},t)=>x.jsxDEV(Aa,{ref:t,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r),...e},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/toast.tsx",lineNumber:14,columnNumber:3},void 0));$a.displayName=Aa.displayName;const hh=li("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),La=g.forwardRef(({className:r,variant:e,...t},s)=>x.jsxDEV(Oa,{ref:s,className:de(hh({variant:e}),r),...t},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/toast.tsx",lineNumber:44,columnNumber:10},void 0));La.displayName=Oa.displayName;const fh=g.forwardRef(({className:r,...e},t)=>x.jsxDEV(Ia,{ref:t,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",r),...e},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/toast.tsx",lineNumber:52,columnNumber:3},void 0));fh.displayName=Ia.displayName;const Ma=g.forwardRef(({className:r,...e},t)=>x.jsxDEV(Ua,{ref:t,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":"",...e,children:x.jsxDEV(va,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/toast.tsx",lineNumber:76,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/toast.tsx",lineNumber:67,columnNumber:3},void 0));Ma.displayName=Ua.displayName;const Fa=g.forwardRef(({className:r,...e},t)=>x.jsxDEV(Da,{ref:t,className:de("text-sm font-semibold",r),...e},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/toast.tsx",lineNumber:85,columnNumber:3},void 0));Fa.displayName=Da.displayName;const Va=g.forwardRef(({className:r,...e},t)=>x.jsxDEV(ja,{ref:t,className:de("text-sm opacity-90",r),...e},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/toast.tsx",lineNumber:93,columnNumber:3},void 0));Va.displayName=ja.displayName;function ph(){const{toasts:r}=ga();return x.jsxDEV(dh,{children:[r.map(function({id:e,title:t,description:s,action:n,...i}){return x.jsxDEV(La,{...i,children:[x.jsxDEV("div",{className:"grid gap-1",children:[t&&x.jsxDEV(Fa,{children:t},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/toaster.tsx",lineNumber:13,columnNumber:25},this),s&&x.jsxDEV(Va,{children:s},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/toaster.tsx",lineNumber:14,columnNumber:31},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/toaster.tsx",lineNumber:12,columnNumber:13},this),n,x.jsxDEV(Ma,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/toaster.tsx",lineNumber:17,columnNumber:13},this)]},e,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/toaster.tsx",lineNumber:11,columnNumber:11},this)}),x.jsxDEV($a,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/toaster.tsx",lineNumber:21,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/toaster.tsx",lineNumber:8,columnNumber:5},this)}var Wi=["light","dark"],mh="(prefers-color-scheme: dark)",vh=g.createContext(void 0),gh={setTheme:r=>{},themes:[]},bh=()=>{var r;return(r=g.useContext(vh))!=null?r:gh};g.memo(({forcedTheme:r,storageKey:e,attribute:t,enableSystem:s,enableColorScheme:n,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",u=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(_=>`'${_}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,d=n?Wi.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(_,v=!1,p=!0)=>{let w=o?o[_]:_,m=v?_+"|| ''":`'${w}'`,y="";return n&&p&&!v&&Wi.includes(_)&&(y+=`d.style.colorScheme = '${_}';`),t==="class"?v||w?y+=`c.add(${m})`:y+="null":w&&(y+=`d[s](n,${m})`),y},h=r?`!function(){${u}${f(r)}}()`:s?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${mh}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(i,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${d}}catch(t){}}();`;return g.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var yh=r=>{switch(r){case"success":return xh;case"info":return kh;case"warning":return Eh;case"error":return Ch;default:return null}},wh=Array(12).fill(0),_h=({visible:r,className:e})=>C.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":r},C.createElement("div",{className:"sonner-spinner"},wh.map((t,s)=>C.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),xh=C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},C.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Eh=C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},C.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),kh=C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},C.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ch=C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},C.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Sh=C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},C.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),C.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Nh=()=>{let[r,e]=C.useState(document.hidden);return C.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),r},$n=1,Th=class{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{let e=this.subscribers.indexOf(r);this.subscribers.splice(e,1)}),this.publish=r=>{this.subscribers.forEach(e=>e(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var e;let{message:t,...s}=r,n=typeof(r==null?void 0:r.id)=="number"||((e=r.id)==null?void 0:e.length)>0?r.id:$n++,i=this.toasts.find(a=>a.id===n),o=r.dismissible===void 0?!0:r.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),i?this.toasts=this.toasts.map(a=>a.id===n?(this.publish({...a,...r,id:n,title:t}),{...a,...r,id:n,dismissible:o,title:t}):a):this.addToast({title:t,...s,dismissible:o,id:n}),n},this.dismiss=r=>(this.dismissedToasts.add(r),r||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:r,dismiss:!0})),r),this.message=(r,e)=>this.create({...e,message:r}),this.error=(r,e)=>this.create({...e,message:r,type:"error"}),this.success=(r,e)=>this.create({...e,type:"success",message:r}),this.info=(r,e)=>this.create({...e,type:"info",message:r}),this.warning=(r,e)=>this.create({...e,type:"warning",message:r}),this.loading=(r,e)=>this.create({...e,type:"loading",message:r}),this.promise=(r,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:r,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let s=r instanceof Promise?r:r(),n=t!==void 0,i,o=s.then(async l=>{if(i=["resolve",l],C.isValidElement(l))n=!1,this.create({id:t,type:"default",message:l});else if(Rh(l)&&!l.ok){n=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:t,type:"error",message:c,description:u})}else if(e.success!==void 0){n=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:t,type:"success",message:c,description:u})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){n=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:t,type:"error",message:c,description:u})}}).finally(()=>{var l;n&&(this.dismiss(t),t=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof t!="string"&&typeof t!="number"?{unwrap:a}:Object.assign(t,{unwrap:a})},this.custom=(r,e)=>{let t=(e==null?void 0:e.id)||$n++;return this.create({jsx:r(t),id:t,...e}),t},this.getActiveToasts=()=>this.toasts.filter(r=>!this.dismissedToasts.has(r.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ie=new Th,Ph=(r,e)=>{let t=(e==null?void 0:e.id)||$n++;return Ie.addToast({title:r,...e,id:t}),t},Rh=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",Ah=Ph,Oh=()=>Ie.toasts,Dh=()=>Ie.getActiveToasts();Object.assign(Ah,{success:Ie.success,info:Ie.info,warning:Ie.warning,error:Ie.error,custom:Ie.custom,message:Ie.message,promise:Ie.promise,dismiss:Ie.dismiss,loading:Ie.loading},{getHistory:Oh,getToasts:Dh});function jh(r,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s),s.styleSheet?s.styleSheet.cssText=r:s.appendChild(document.createTextNode(r))}jh(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Es(r){return r.label!==void 0}var Ih=3,Uh="32px",$h="16px",qi=4e3,Lh=356,Mh=14,Fh=20,Vh=200;function qe(...r){return r.filter(Boolean).join(" ")}function Bh(r){let[e,t]=r.split("-"),s=[];return e&&s.push(e),t&&s.push(t),s}var Wh=r=>{var e,t,s,n,i,o,a,l,c,u,d;let{invert:f,toast:h,unstyled:_,interacting:v,setHeights:p,visibleToasts:w,heights:m,index:y,toasts:E,expanded:T,removeToast:N,defaultRichColors:A,closeButton:I,style:O,cancelButtonStyle:D,actionButtonStyle:q,className:j="",descriptionClassName:K="",duration:R,position:Z,gap:le,loadingIcon:he,expandByDefault:xe,classNames:L,icons:fe,closeButtonAriaLabel:ye="Close toast",pauseWhenPageIsHidden:J}=r,[X,re]=C.useState(null),[Ee,Xe]=C.useState(null),[ne,bt]=C.useState(!1),[lt,ct]=C.useState(!1),[$t,sr]=C.useState(!1),[ds,sn]=C.useState(!1),[nr,yt]=C.useState(!1),[hs,ir]=C.useState(0),[or,fs]=C.useState(0),Lt=C.useRef(h.duration||R||qi),ar=C.useRef(null),ut=C.useRef(null),nn=y===0,ps=y+1<=w,Se=h.type,Le=h.dismissible!==!1,on=h.className||"",ms=h.descriptionClassName||"",Mt=C.useMemo(()=>m.findIndex(V=>V.toastId===h.id)||0,[m,h.id]),Ur=C.useMemo(()=>{var V;return(V=h.closeButton)!=null?V:I},[h.closeButton,I]),vs=C.useMemo(()=>h.duration||R||qi,[h.duration,R]),$r=C.useRef(0),wt=C.useRef(0),gs=C.useRef(0),_t=C.useRef(null),[an,ln]=Z.split("-"),lr=C.useMemo(()=>m.reduce((V,ee,ie)=>ie>=Mt?V:V+ee.height,0),[m,Mt]),Lr=Nh(),xt=h.invert||f,Ft=Se==="loading";wt.current=C.useMemo(()=>Mt*le+lr,[Mt,lr]),C.useEffect(()=>{Lt.current=vs},[vs]),C.useEffect(()=>{bt(!0)},[]),C.useEffect(()=>{let V=ut.current;if(V){let ee=V.getBoundingClientRect().height;return fs(ee),p(ie=>[{toastId:h.id,height:ee,position:h.position},...ie]),()=>p(ie=>ie.filter(Re=>Re.toastId!==h.id))}},[p,h.id]),C.useLayoutEffect(()=>{if(!ne)return;let V=ut.current,ee=V.style.height;V.style.height="auto";let ie=V.getBoundingClientRect().height;V.style.height=ee,fs(ie),p(Re=>Re.find(Ae=>Ae.toastId===h.id)?Re.map(Ae=>Ae.toastId===h.id?{...Ae,height:ie}:Ae):[{toastId:h.id,height:ie,position:h.position},...Re])},[ne,h.title,h.description,p,h.id]);let Me=C.useCallback(()=>{ct(!0),ir(wt.current),p(V=>V.filter(ee=>ee.toastId!==h.id)),setTimeout(()=>{N(h)},Vh)},[h,N,p,wt]);C.useEffect(()=>{if(h.promise&&Se==="loading"||h.duration===1/0||h.type==="loading")return;let V;return T||v||J&&Lr?(()=>{if(gs.current<$r.current){let ee=new Date().getTime()-$r.current;Lt.current=Lt.current-ee}gs.current=new Date().getTime()})():Lt.current!==1/0&&($r.current=new Date().getTime(),V=setTimeout(()=>{var ee;(ee=h.onAutoClose)==null||ee.call(h,h),Me()},Lt.current)),()=>clearTimeout(V)},[T,v,h,Se,J,Lr,Me]),C.useEffect(()=>{h.delete&&Me()},[Me,h.delete]);function bs(){var V,ee,ie;return fe!=null&&fe.loading?C.createElement("div",{className:qe(L==null?void 0:L.loader,(V=h==null?void 0:h.classNames)==null?void 0:V.loader,"sonner-loader"),"data-visible":Se==="loading"},fe.loading):he?C.createElement("div",{className:qe(L==null?void 0:L.loader,(ee=h==null?void 0:h.classNames)==null?void 0:ee.loader,"sonner-loader"),"data-visible":Se==="loading"},he):C.createElement(_h,{className:qe(L==null?void 0:L.loader,(ie=h==null?void 0:h.classNames)==null?void 0:ie.loader),visible:Se==="loading"})}return C.createElement("li",{tabIndex:0,ref:ut,className:qe(j,on,L==null?void 0:L.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[Se],(t=h==null?void 0:h.classNames)==null?void 0:t[Se]),"data-sonner-toast":"","data-rich-colors":(s=h.richColors)!=null?s:A,"data-styled":!(h.jsx||h.unstyled||_),"data-mounted":ne,"data-promise":!!h.promise,"data-swiped":nr,"data-removed":lt,"data-visible":ps,"data-y-position":an,"data-x-position":ln,"data-index":y,"data-front":nn,"data-swiping":$t,"data-dismissible":Le,"data-type":Se,"data-invert":xt,"data-swipe-out":ds,"data-swipe-direction":Ee,"data-expanded":!!(T||xe&&ne),style:{"--index":y,"--toasts-before":y,"--z-index":E.length-y,"--offset":`${lt?hs:wt.current}px`,"--initial-height":xe?"auto":`${or}px`,...O,...h.style},onDragEnd:()=>{sr(!1),re(null),_t.current=null},onPointerDown:V=>{Ft||!Le||(ar.current=new Date,ir(wt.current),V.target.setPointerCapture(V.pointerId),V.target.tagName!=="BUTTON"&&(sr(!0),_t.current={x:V.clientX,y:V.clientY}))},onPointerUp:()=>{var V,ee,ie,Re;if(ds||!Le)return;_t.current=null;let Ae=Number(((V=ut.current)==null?void 0:V.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ze=Number(((ee=ut.current)==null?void 0:ee.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),dt=new Date().getTime()-((ie=ar.current)==null?void 0:ie.getTime()),Oe=X==="x"?Ae:Ze,et=Math.abs(Oe)/dt;if(Math.abs(Oe)>=Fh||et>.11){ir(wt.current),(Re=h.onDismiss)==null||Re.call(h,h),Xe(X==="x"?Ae>0?"right":"left":Ze>0?"down":"up"),Me(),sn(!0),yt(!1);return}sr(!1),re(null)},onPointerMove:V=>{var ee,ie,Re,Ae;if(!_t.current||!Le||((ee=window.getSelection())==null?void 0:ee.toString().length)>0)return;let Ze=V.clientY-_t.current.y,dt=V.clientX-_t.current.x,Oe=(ie=r.swipeDirections)!=null?ie:Bh(Z);!X&&(Math.abs(dt)>1||Math.abs(Ze)>1)&&re(Math.abs(dt)>Math.abs(Ze)?"x":"y");let et={x:0,y:0};X==="y"?(Oe.includes("top")||Oe.includes("bottom"))&&(Oe.includes("top")&&Ze<0||Oe.includes("bottom")&&Ze>0)&&(et.y=Ze):X==="x"&&(Oe.includes("left")||Oe.includes("right"))&&(Oe.includes("left")&&dt<0||Oe.includes("right")&&dt>0)&&(et.x=dt),(Math.abs(et.x)>0||Math.abs(et.y)>0)&&yt(!0),(Re=ut.current)==null||Re.style.setProperty("--swipe-amount-x",`${et.x}px`),(Ae=ut.current)==null||Ae.style.setProperty("--swipe-amount-y",`${et.y}px`)}},Ur&&!h.jsx?C.createElement("button",{"aria-label":ye,"data-disabled":Ft,"data-close-button":!0,onClick:Ft||!Le?()=>{}:()=>{var V;Me(),(V=h.onDismiss)==null||V.call(h,h)},className:qe(L==null?void 0:L.closeButton,(n=h==null?void 0:h.classNames)==null?void 0:n.closeButton)},(i=fe==null?void 0:fe.close)!=null?i:Sh):null,h.jsx||g.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:C.createElement(C.Fragment,null,Se||h.icon||h.promise?C.createElement("div",{"data-icon":"",className:qe(L==null?void 0:L.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||bs():null,h.type!=="loading"?h.icon||(fe==null?void 0:fe[Se])||yh(Se):null):null,C.createElement("div",{"data-content":"",className:qe(L==null?void 0:L.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},C.createElement("div",{"data-title":"",className:qe(L==null?void 0:L.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?C.createElement("div",{"data-description":"",className:qe(K,ms,L==null?void 0:L.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),g.isValidElement(h.cancel)?h.cancel:h.cancel&&Es(h.cancel)?C.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||D,onClick:V=>{var ee,ie;Es(h.cancel)&&Le&&((ie=(ee=h.cancel).onClick)==null||ie.call(ee,V),Me())},className:qe(L==null?void 0:L.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,g.isValidElement(h.action)?h.action:h.action&&Es(h.action)?C.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||q,onClick:V=>{var ee,ie;Es(h.action)&&((ie=(ee=h.action).onClick)==null||ie.call(ee,V),!V.defaultPrevented&&Me())},className:qe(L==null?void 0:L.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function zi(){if(typeof window>"u"||typeof document>"u")return"ltr";let r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function qh(r,e){let t={};return[r,e].forEach((s,n)=>{let i=n===1,o=i?"--mobile-offset":"--offset",a=i?$h:Uh;function l(c){["top","right","bottom","left"].forEach(u=>{t[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof s=="number"||typeof s=="string"?l(s):typeof s=="object"?["top","right","bottom","left"].forEach(c=>{s[c]===void 0?t[`${o}-${c}`]=a:t[`${o}-${c}`]=typeof s[c]=="number"?`${s[c]}px`:s[c]}):l(a)}),t}var zh=g.forwardRef(function(r,e){let{invert:t,position:s="bottom-right",hotkey:n=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:f,style:h,visibleToasts:_=Ih,toastOptions:v,dir:p=zi(),gap:w=Mh,loadingIcon:m,icons:y,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:T}=r,[N,A]=C.useState([]),I=C.useMemo(()=>Array.from(new Set([s].concat(N.filter(J=>J.position).map(J=>J.position)))),[N,s]),[O,D]=C.useState([]),[q,j]=C.useState(!1),[K,R]=C.useState(!1),[Z,le]=C.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),he=C.useRef(null),xe=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=C.useRef(null),fe=C.useRef(!1),ye=C.useCallback(J=>{A(X=>{var re;return(re=X.find(Ee=>Ee.id===J.id))!=null&&re.delete||Ie.dismiss(J.id),X.filter(({id:Ee})=>Ee!==J.id)})},[]);return C.useEffect(()=>Ie.subscribe(J=>{if(J.dismiss){A(X=>X.map(re=>re.id===J.id?{...re,delete:!0}:re));return}setTimeout(()=>{Gl.flushSync(()=>{A(X=>{let re=X.findIndex(Ee=>Ee.id===J.id);return re!==-1?[...X.slice(0,re),{...X[re],...J},...X.slice(re+1)]:[J,...X]})})})}),[]),C.useEffect(()=>{if(u!=="system"){le(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?le("dark"):le("light")),typeof window>"u")return;let J=window.matchMedia("(prefers-color-scheme: dark)");try{J.addEventListener("change",({matches:X})=>{le(X?"dark":"light")})}catch{J.addListener(({matches:re})=>{try{le(re?"dark":"light")}catch(Ee){console.error(Ee)}})}},[u]),C.useEffect(()=>{N.length<=1&&j(!1)},[N]),C.useEffect(()=>{let J=X=>{var re,Ee;n.every(Xe=>X[Xe]||X.code===Xe)&&(j(!0),(re=he.current)==null||re.focus()),X.code==="Escape"&&(document.activeElement===he.current||(Ee=he.current)!=null&&Ee.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[n]),C.useEffect(()=>{if(he.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,fe.current=!1)}},[he.current]),C.createElement("section",{ref:e,"aria-label":`${E} ${xe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((J,X)=>{var re;let[Ee,Xe]=J.split("-");return N.length?C.createElement("ol",{key:J,dir:p==="auto"?zi():p,tabIndex:-1,ref:he,className:a,"data-sonner-toaster":!0,"data-theme":Z,"data-y-position":Ee,"data-lifted":q&&N.length>1&&!i,"data-x-position":Xe,style:{"--front-toast-height":`${((re=O[0])==null?void 0:re.height)||0}px`,"--width":`${Lh}px`,"--gap":`${w}px`,...h,...qh(l,c)},onBlur:ne=>{fe.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(fe.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||fe.current||(fe.current=!0,L.current=ne.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{K||j(!1)},onDragEnd:()=>j(!1),onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},N.filter(ne=>!ne.position&&X===0||ne.position===J).map((ne,bt)=>{var lt,ct;return C.createElement(Wh,{key:ne.id,icons:y,index:bt,toast:ne,defaultRichColors:d,duration:(lt=v==null?void 0:v.duration)!=null?lt:f,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:t,visibleToasts:_,closeButton:(ct=v==null?void 0:v.closeButton)!=null?ct:o,interacting:K,position:J,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:ye,toasts:N.filter($t=>$t.position==ne.position),heights:O.filter($t=>$t.position==ne.position),setHeights:D,expandByDefault:i,gap:w,loadingIcon:m,expanded:q,pauseWhenPageIsHidden:T,swipeDirections:r.swipeDirections})})):null}))});const Hh=({...r})=>{const{theme:e="system"}=bh();return x.jsxDEV(zh,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...r},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/sonner.tsx",lineNumber:10,columnNumber:5},void 0)};var[Gs]=ti("Tooltip",[Lo]),fi=Lo(),Ba="TooltipProvider",Kh=700,Hi="tooltip.open",[Gh,Wa]=Gs(Ba),qa=r=>{const{__scopeTooltip:e,delayDuration:t=Kh,skipDelayDuration:s=300,disableHoverableContent:n=!1,children:i}=r,o=g.useRef(!0),a=g.useRef(!1),l=g.useRef(0);return g.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),F.jsx(Gh,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:g.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:a,onPointerInTransitChange:g.useCallback(c=>{a.current=c},[]),disableHoverableContent:n,children:i})};qa.displayName=Ba;var za="Tooltip",[Eg,Js]=Gs(za),Ln="TooltipTrigger",Jh=g.forwardRef((r,e)=>{const{__scopeTooltip:t,...s}=r,n=Js(Ln,t),i=Wa(Ln,t),o=fi(t),a=g.useRef(null),l=Bs(e,a,n.onTriggerChange),c=g.useRef(!1),u=g.useRef(!1),d=g.useCallback(()=>c.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),F.jsx(ac,{asChild:!0,...o,children:F.jsx(ot.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...s,ref:l,onPointerMove:Ce(r.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(n.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ce(r.onPointerLeave,()=>{n.onTriggerLeave(),u.current=!1}),onPointerDown:Ce(r.onPointerDown,()=>{n.open&&n.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Ce(r.onFocus,()=>{c.current||n.onOpen()}),onBlur:Ce(r.onBlur,n.onClose),onClick:Ce(r.onClick,n.onClose)})})});Jh.displayName=Ln;var Yh="TooltipPortal",[kg,Qh]=Gs(Yh,{forceMount:void 0}),Rr="TooltipContent",Ha=g.forwardRef((r,e)=>{const t=Qh(Rr,r.__scopeTooltip),{forceMount:s=t.forceMount,side:n="top",...i}=r,o=Js(Rr,r.__scopeTooltip);return F.jsx($o,{present:s||o.open,children:o.disableHoverableContent?F.jsx(Ka,{side:n,...i,ref:e}):F.jsx(Xh,{side:n,...i,ref:e})})}),Xh=g.forwardRef((r,e)=>{const t=Js(Rr,r.__scopeTooltip),s=Wa(Rr,r.__scopeTooltip),n=g.useRef(null),i=Bs(e,n),[o,a]=g.useState(null),{trigger:l,onClose:c}=t,u=n.current,{onPointerInTransitChange:d}=s,f=g.useCallback(()=>{a(null),d(!1)},[d]),h=g.useCallback((_,v)=>{const p=_.currentTarget,w={x:_.clientX,y:_.clientY},m=sf(w,p.getBoundingClientRect()),y=nf(w,m),E=of(v.getBoundingClientRect()),T=lf([...y,...E]);a(T),d(!0)},[d]);return g.useEffect(()=>()=>f(),[f]),g.useEffect(()=>{if(l&&u){const _=p=>h(p,u),v=p=>h(p,l);return l.addEventListener("pointerleave",_),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",_),u.removeEventListener("pointerleave",v)}}},[l,u,h,f]),g.useEffect(()=>{if(o){const _=v=>{const p=v.target,w={x:v.clientX,y:v.clientY},m=(l==null?void 0:l.contains(p))||(u==null?void 0:u.contains(p)),y=!af(w,o);m?f():y&&(f(),c())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[l,u,o,c,f]),F.jsx(Ka,{...r,ref:i})}),[Zh,ef]=Gs(za,{isInside:!1}),tf=oc("TooltipContent"),Ka=g.forwardRef((r,e)=>{const{__scopeTooltip:t,children:s,"aria-label":n,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=r,l=Js(Rr,t),c=fi(t),{onClose:u}=l;return g.useEffect(()=>(document.addEventListener(Hi,u),()=>document.removeEventListener(Hi,u)),[u]),g.useEffect(()=>{if(l.trigger){const d=f=>{const h=f.target;h!=null&&h.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),F.jsx(nc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:F.jsxs(ic,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[F.jsx(tf,{children:s}),F.jsx(Zh,{scope:t,isInside:!0,children:F.jsx(Hd,{id:l.contentId,role:"tooltip",children:n||s})})]})})});Ha.displayName=Rr;var Ga="TooltipArrow",rf=g.forwardRef((r,e)=>{const{__scopeTooltip:t,...s}=r,n=fi(t);return ef(Ga,t).isInside?null:F.jsx(lc,{...n,...s,ref:e})});rf.displayName=Ga;function sf(r,e){const t=Math.abs(e.top-r.y),s=Math.abs(e.bottom-r.y),n=Math.abs(e.right-r.x),i=Math.abs(e.left-r.x);switch(Math.min(t,s,n,i)){case i:return"left";case n:return"right";case t:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function nf(r,e,t=5){const s=[];switch(e){case"top":s.push({x:r.x-t,y:r.y+t},{x:r.x+t,y:r.y+t});break;case"bottom":s.push({x:r.x-t,y:r.y-t},{x:r.x+t,y:r.y-t});break;case"left":s.push({x:r.x+t,y:r.y-t},{x:r.x+t,y:r.y+t});break;case"right":s.push({x:r.x-t,y:r.y-t},{x:r.x-t,y:r.y+t});break}return s}function of(r){const{top:e,right:t,bottom:s,left:n}=r;return[{x:n,y:e},{x:t,y:e},{x:t,y:s},{x:n,y:s}]}function af(r,e){const{x:t,y:s}=r;let n=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,u=a.y,d=l.x,f=l.y;u>s!=f>s&&t<(d-c)*(s-u)/(f-u)+c&&(n=!n)}return n}function lf(r){const e=r.slice();return e.sort((t,s)=>t.x<s.x?-1:t.x>s.x?1:t.y<s.y?-1:t.y>s.y?1:0),cf(e)}function cf(r){if(r.length<=1)return r.slice();const e=[];for(let s=0;s<r.length;s++){const n=r[s];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(n.y-o.y)>=(i.y-o.y)*(n.x-o.x))e.pop();else break}e.push(n)}e.pop();const t=[];for(let s=r.length-1;s>=0;s--){const n=r[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(n.y-o.y)>=(i.y-o.y)*(n.x-o.x))t.pop();else break}t.push(n)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var uf=qa,Ja=Ha;const df=uf,hf=g.forwardRef(({className:r,sideOffset:e=4,...t},s)=>x.jsxDEV(Ja,{ref:s,sideOffset:e,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...t},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/tooltip.tsx",lineNumber:16,columnNumber:3},void 0));hf.displayName=Ja.displayName;var Ys=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ff={setTimeout:(r,e)=>setTimeout(r,e),clearTimeout:r=>clearTimeout(r),setInterval:(r,e)=>setInterval(r,e),clearInterval:r=>clearInterval(r)},rt,Jt,No,pf=(No=class{constructor(){G(this,rt,ff);G(this,Jt,!1)}setTimeoutProvider(r){k(this,Jt)&&r!==k(this,rt)&&console.error("[timeoutManager]: Switching provider after calls to previous provider might result in unexpected behavior.",{previous:k(this,rt),provider:r}),$(this,rt,r),$(this,Jt,!1)}setTimeout(r,e){return $(this,Jt,!0),k(this,rt).setTimeout(r,e)}clearTimeout(r){k(this,rt).clearTimeout(r)}setInterval(r,e){return $(this,Jt,!0),k(this,rt).setInterval(r,e)}clearInterval(r){k(this,rt).clearInterval(r)}},rt=new WeakMap,Jt=new WeakMap,No),Mn=new pf;function mf(r){setTimeout(r,0)}var Qs=typeof window>"u"||"Deno"in globalThis;function He(){}function vf(r,e){return typeof r=="function"?r(e):r}function gf(r){return typeof r=="number"&&r>=0&&r!==1/0}function bf(r,e){return Math.max(r+(e||0)-Date.now(),0)}function Fn(r,e){return typeof r=="function"?r(e):r}function yf(r,e){return typeof r=="function"?r(e):r}function Ki(r,e){const{type:t="all",exact:s,fetchStatus:n,predicate:i,queryKey:o,stale:a}=r;if(o){if(s){if(e.queryHash!==pi(o,e.options))return!1}else if(!Xr(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||n&&n!==e.state.fetchStatus||i&&!i(e))}function Gi(r,e){const{exact:t,status:s,predicate:n,mutationKey:i}=r;if(i){if(!e.options.mutationKey)return!1;if(t){if(Qr(e.options.mutationKey)!==Qr(i))return!1}else if(!Xr(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||n&&!n(e))}function pi(r,e){return((e==null?void 0:e.queryKeyHashFn)||Qr)(r)}function Qr(r){return JSON.stringify(r,(e,t)=>Bn(t)?Object.keys(t).sort().reduce((s,n)=>(s[n]=t[n],s),{}):t)}function Xr(r,e){return r===e?!0:typeof r!=typeof e?!1:r&&e&&typeof r=="object"&&typeof e=="object"?Object.keys(e).every(t=>Xr(r[t],e[t])):!1}var wf=Object.prototype.hasOwnProperty;function Vn(r,e){if(r===e)return r;const t=Ji(r)&&Ji(e);if(!t&&!(Bn(r)&&Bn(e)))return e;const n=(t?r:Object.keys(r)).length,i=t?e:Object.keys(e),o=i.length,a=t?new Array(o):{};let l=0;for(let c=0;c<o;c++){const u=t?c:i[c],d=r[u],f=e[u];if(d===f){a[u]=d,(t?c<n:wf.call(r,u))&&l++;continue}if(d===null||f===null||typeof d!="object"||typeof f!="object"){a[u]=f;continue}const h=Vn(d,f);a[u]=h,h===d&&l++}return n===o&&l===n?r:a}function Ji(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function Bn(r){if(!Yi(r))return!1;const e=r.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!Yi(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function Yi(r){return Object.prototype.toString.call(r)==="[object Object]"}function _f(r){return new Promise(e=>{Mn.setTimeout(e,r)})}function xf(r,e,t){if(typeof t.structuralSharing=="function")return t.structuralSharing(r,e);if(t.structuralSharing!==!1){try{return Vn(r,e)}catch(s){throw console.error(`Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${t.queryHash}]: ${s}`),s}return Vn(r,e)}return e}function Ef(r,e,t=0){const s=[...r,e];return t&&s.length>t?s.slice(1):s}function kf(r,e,t=0){const s=[e,...r];return t&&s.length>t?s.slice(0,-1):s}var Is=Symbol();function Ya(r,e){return r.queryFn===Is&&console.error(`Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${r.queryHash}'`),!r.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!r.queryFn||r.queryFn===Is?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}var Yt,Pt,wr,To,Cf=(To=class extends Ys{constructor(){super();G(this,Yt);G(this,Pt);G(this,wr);$(this,wr,e=>{if(!Qs&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){k(this,Pt)||this.setEventListener(k(this,wr))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,Pt))==null||e.call(this),$(this,Pt,void 0))}setEventListener(e){var t;$(this,wr,e),(t=k(this,Pt))==null||t.call(this),$(this,Pt,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){k(this,Yt)!==e&&($(this,Yt,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof k(this,Yt)=="boolean"?k(this,Yt):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Yt=new WeakMap,Pt=new WeakMap,wr=new WeakMap,To),Qa=new Cf;function Sf(){let r,e;const t=new Promise((n,i)=>{r=n,e=i});t.status="pending",t.catch(()=>{});function s(n){Object.assign(t,n),delete t.resolve,delete t.reject}return t.resolve=n=>{s({status:"fulfilled",value:n}),r(n)},t.reject=n=>{s({status:"rejected",reason:n}),e(n)},t}var Nf=mf;function Tf(){let r=[],e=0,t=a=>{a()},s=a=>{a()},n=Nf;const i=a=>{e?r.push(a):n(()=>{t(a)})},o=()=>{const a=r;r=[],a.length&&n(()=>{s(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{s=a},setScheduler:a=>{n=a}}}var Pe=Tf(),_r,Rt,xr,Po,Pf=(Po=class extends Ys{constructor(){super();G(this,_r,!0);G(this,Rt);G(this,xr);$(this,xr,e=>{if(!Qs&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){k(this,Rt)||this.setEventListener(k(this,xr))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,Rt))==null||e.call(this),$(this,Rt,void 0))}setEventListener(e){var t;$(this,xr,e),(t=k(this,Rt))==null||t.call(this),$(this,Rt,e(this.setOnline.bind(this)))}setOnline(e){k(this,_r)!==e&&($(this,_r,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return k(this,_r)}},_r=new WeakMap,Rt=new WeakMap,xr=new WeakMap,Po),Us=new Pf;function Rf(r){return Math.min(1e3*2**r,3e4)}function Xa(r){return(r??"online")==="online"?Us.isOnline():!0}var Wn=class extends Error{constructor(r){super("CancelledError"),this.revert=r==null?void 0:r.revert,this.silent=r==null?void 0:r.silent}};function Za(r){let e=!1,t=0,s;const n=Sf(),i=()=>n.status!=="pending",o=v=>{var p;if(!i()){const w=new Wn(v);f(w),(p=r.onCancel)==null||p.call(r,w)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>Qa.isFocused()&&(r.networkMode==="always"||Us.isOnline())&&r.canRun(),u=()=>Xa(r.networkMode)&&r.canRun(),d=v=>{i()||(s==null||s(),n.resolve(v))},f=v=>{i()||(s==null||s(),n.reject(v))},h=()=>new Promise(v=>{var p;s=w=>{(i()||c())&&v(w)},(p=r.onPause)==null||p.call(r)}).then(()=>{var v;s=void 0,i()||(v=r.onContinue)==null||v.call(r)}),_=()=>{if(i())return;let v;const p=t===0?r.initialPromise:void 0;try{v=p??r.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(d).catch(w=>{var N;if(i())return;const m=r.retry??(Qs?0:3),y=r.retryDelay??Rf,E=typeof y=="function"?y(t,w):y,T=m===!0||typeof m=="number"&&t<m||typeof m=="function"&&m(t,w);if(e||!T){f(w);return}t++,(N=r.onFail)==null||N.call(r,t,w),_f(E).then(()=>c()?void 0:h()).then(()=>{e?f(w):_()})})};return{promise:n,status:()=>n.status,cancel:o,continue:()=>(s==null||s(),n),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?_():h().then(_),n)}}var Qt,Ro,el=(Ro=class{constructor(){G(this,Qt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gf(this.gcTime)&&$(this,Qt,Mn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(Qs?1/0:5*60*1e3))}clearGcTimeout(){k(this,Qt)&&(Mn.clearTimeout(k(this,Qt)),$(this,Qt,void 0))}},Qt=new WeakMap,Ro),Xt,Er,Ve,Zt,we,ts,er,Ke,ft,Ao,Af=(Ao=class extends el{constructor(e){super();G(this,Ke);G(this,Xt);G(this,Er);G(this,Ve);G(this,Zt);G(this,we);G(this,ts);G(this,er);$(this,er,!1),$(this,ts,e.defaultOptions),this.setOptions(e.options),this.observers=[],$(this,Zt,e.client),$(this,Ve,k(this,Zt).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,$(this,Xt,Qi(this.options)),this.state=e.state??k(this,Xt),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=k(this,we))==null?void 0:e.promise}setOptions(e){if(this.options={...k(this,ts),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Qi(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),$(this,Xt,t))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,Ve).remove(this)}setData(e,t){const s=xf(this.state.data,e,this.options);return ke(this,Ke,ft).call(this,{data:s,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),s}setState(e,t){ke(this,Ke,ft).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var s,n;const t=(s=k(this,we))==null?void 0:s.promise;return(n=k(this,we))==null||n.cancel(e),t?t.then(He).catch(He):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,Xt))}isActive(){return this.observers.some(e=>yf(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Is||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Fn(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!bf(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=k(this,we))==null||t.continue()}onOnline(){var t;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=k(this,we))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),k(this,Ve).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(k(this,we)&&(k(this,er)?k(this,we).cancel({revert:!0}):k(this,we).cancelRetry()),this.scheduleGc()),k(this,Ve).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ke(this,Ke,ft).call(this,{type:"invalidate"})}async fetch(e,t){var l,c,u,d,f,h,_,v,p,w,m,y;if(this.state.fetchStatus!=="idle"&&((l=k(this,we))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(k(this,we))return k(this,we).continueRetry(),k(this,we).promise}if(e&&this.setOptions(e),!this.options.queryFn){const E=this.observers.find(T=>T.options.queryFn);E&&this.setOptions(E.options)}Array.isArray(this.options.queryKey)||console.error("As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']");const s=new AbortController,n=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>($(this,er,!0),s.signal)})},i=()=>{const E=Ya(this.options,t),N=(()=>{const A={client:k(this,Zt),queryKey:this.queryKey,meta:this.meta};return n(A),A})();return $(this,er,!1),this.options.persister?this.options.persister(E,N,this):E(N)},a=(()=>{const E={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:k(this,Zt),state:this.state,fetchFn:i};return n(E),E})();(c=this.options.behavior)==null||c.onFetch(a,this),$(this,Er,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&ke(this,Ke,ft).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta}),$(this,we,Za({initialPromise:t==null?void 0:t.initialPromise,fn:a.fetchFn,onCancel:E=>{E instanceof Wn&&E.revert&&this.setState({...k(this,Er),fetchStatus:"idle"}),s.abort()},onFail:(E,T)=>{ke(this,Ke,ft).call(this,{type:"failed",failureCount:E,error:T})},onPause:()=>{ke(this,Ke,ft).call(this,{type:"pause"})},onContinue:()=>{ke(this,Ke,ft).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const E=await k(this,we).start();if(E===void 0)throw console.error(`Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`),new Error(`${this.queryHash} data is undefined`);return this.setData(E),(h=(f=k(this,Ve).config).onSuccess)==null||h.call(f,E,this),(v=(_=k(this,Ve).config).onSettled)==null||v.call(_,E,this.state.error,this),E}catch(E){if(E instanceof Wn){if(E.silent)return k(this,we).promise;if(E.revert){if(this.state.data===void 0)throw E;return this.state.data}}throw ke(this,Ke,ft).call(this,{type:"error",error:E}),(w=(p=k(this,Ve).config).onError)==null||w.call(p,E,this),(y=(m=k(this,Ve).config).onSettled)==null||y.call(m,this.state.data,E,this),E}finally{this.scheduleGc()}}},Xt=new WeakMap,Er=new WeakMap,Ve=new WeakMap,Zt=new WeakMap,we=new WeakMap,ts=new WeakMap,er=new WeakMap,Ke=new WeakSet,ft=function(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Of(s.data,this.options),fetchMeta:e.meta??null};case"success":const n={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return $(this,Er,e.manual?n:void 0),n;case"error":const i=e.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),Pe.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),k(this,Ve).notify({query:this,type:"updated",action:e})})},Ao);function Of(r,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Xa(e.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function Qi(r){const e=typeof r.initialData=="function"?r.initialData():r.initialData,t=e!==void 0,s=t?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}function Xi(r){return{onFetch:(e,t)=>{var u,d,f,h,_;const s=e.options,n=(f=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,i=((h=e.state.data)==null?void 0:h.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const p=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},w=Ya(e.options,e.fetchOptions),m=async(y,E,T)=>{if(v)return Promise.reject();if(E==null&&y.pages.length)return Promise.resolve(y);const A=(()=>{const q={client:e.client,queryKey:e.queryKey,pageParam:E,direction:T?"backward":"forward",meta:e.options.meta};return p(q),q})(),I=await w(A),{maxPages:O}=e.options,D=T?kf:Ef;return{pages:D(y.pages,I,O),pageParams:D(y.pageParams,E,O)}};if(n&&i.length){const y=n==="backward",E=y?Df:Zi,T={pages:i,pageParams:o},N=E(s,T);a=await m(T,N,y)}else{const y=r??i.length;do{const E=l===0?o[0]??s.initialPageParam:Zi(s,a);if(l>0&&E==null)break;a=await m(a,E),l++}while(l<y)}return a};e.options.persister?e.fetchFn=()=>{var v,p;return(p=(v=e.options).persister)==null?void 0:p.call(v,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=c}}}function Zi(r,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?r.getNextPageParam(e[s],e,t[s],t):void 0}function Df(r,{pages:e,pageParams:t}){var s;return e.length>0?(s=r.getPreviousPageParam)==null?void 0:s.call(r,e[0],e,t[0],t):void 0}var rs,st,Te,tr,nt,St,Oo,jf=(Oo=class extends el{constructor(e){super();G(this,nt);G(this,rs);G(this,st);G(this,Te);G(this,tr);$(this,rs,e.client),this.mutationId=e.mutationId,$(this,Te,e.mutationCache),$(this,st,[]),this.state=e.state||If(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){k(this,st).includes(e)||(k(this,st).push(e),this.clearGcTimeout(),k(this,Te).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){$(this,st,k(this,st).filter(t=>t!==e)),this.scheduleGc(),k(this,Te).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){k(this,st).length||(this.state.status==="pending"?this.scheduleGc():k(this,Te).remove(this))}continue(){var e;return((e=k(this,tr))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,c,u,d,f,h,_,v,p,w,m,y,E,T,N,A,I,O;const t=()=>{ke(this,nt,St).call(this,{type:"continue"})},s={client:k(this,rs),meta:this.options.meta,mutationKey:this.options.mutationKey};$(this,tr,Za({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(D,q)=>{ke(this,nt,St).call(this,{type:"failed",failureCount:D,error:q})},onPause:()=>{ke(this,nt,St).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,Te).canRun(this)}));const n=this.state.status==="pending",i=!k(this,tr).canStart();try{if(n)t();else{ke(this,nt,St).call(this,{type:"pending",variables:e,isPaused:i}),await((a=(o=k(this,Te).config).onMutate)==null?void 0:a.call(o,e,this,s));const q=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e,s));q!==this.state.context&&ke(this,nt,St).call(this,{type:"pending",context:q,variables:e,isPaused:i})}const D=await k(this,tr).start();return await((d=(u=k(this,Te).config).onSuccess)==null?void 0:d.call(u,D,e,this.state.context,this,s)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,D,e,this.state.context,s)),await((v=(_=k(this,Te).config).onSettled)==null?void 0:v.call(_,D,null,this.state.variables,this.state.context,this,s)),await((w=(p=this.options).onSettled)==null?void 0:w.call(p,D,null,e,this.state.context,s)),ke(this,nt,St).call(this,{type:"success",data:D}),D}catch(D){try{throw await((y=(m=k(this,Te).config).onError)==null?void 0:y.call(m,D,e,this.state.context,this,s)),await((T=(E=this.options).onError)==null?void 0:T.call(E,D,e,this.state.context,s)),await((A=(N=k(this,Te).config).onSettled)==null?void 0:A.call(N,void 0,D,this.state.variables,this.state.context,this,s)),await((O=(I=this.options).onSettled)==null?void 0:O.call(I,void 0,D,e,this.state.context,s)),D}finally{ke(this,nt,St).call(this,{type:"error",error:D})}}finally{k(this,Te).runNext(this)}}},rs=new WeakMap,st=new WeakMap,Te=new WeakMap,tr=new WeakMap,nt=new WeakSet,St=function(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Pe.batch(()=>{k(this,st).forEach(s=>{s.onMutationUpdate(e)}),k(this,Te).notify({mutation:this,type:"updated",action:e})})},Oo);function If(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mt,Ge,ss,Do,Uf=(Do=class extends Ys{constructor(e={}){super();G(this,mt);G(this,Ge);G(this,ss);this.config=e,$(this,mt,new Set),$(this,Ge,new Map),$(this,ss,0)}build(e,t,s){const n=new jf({client:e,mutationCache:this,mutationId:++ws(this,ss)._,options:e.defaultMutationOptions(t),state:s});return this.add(n),n}add(e){k(this,mt).add(e);const t=ks(e);if(typeof t=="string"){const s=k(this,Ge).get(t);s?s.push(e):k(this,Ge).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(k(this,mt).delete(e)){const t=ks(e);if(typeof t=="string"){const s=k(this,Ge).get(t);if(s)if(s.length>1){const n=s.indexOf(e);n!==-1&&s.splice(n,1)}else s[0]===e&&k(this,Ge).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=ks(e);if(typeof t=="string"){const s=k(this,Ge).get(t),n=s==null?void 0:s.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){var s;const t=ks(e);if(typeof t=="string"){const n=(s=k(this,Ge).get(t))==null?void 0:s.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Pe.batch(()=>{k(this,mt).forEach(e=>{this.notify({type:"removed",mutation:e})}),k(this,mt).clear(),k(this,Ge).clear()})}getAll(){return Array.from(k(this,mt))}find(e){const t={exact:!0,...e};return this.getAll().find(s=>Gi(t,s))}findAll(e={}){return this.getAll().filter(t=>Gi(e,t))}notify(e){Pe.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Pe.batch(()=>Promise.all(e.map(t=>t.continue().catch(He))))}},mt=new WeakMap,Ge=new WeakMap,ss=new WeakMap,Do);function ks(r){var e;return(e=r.options.scope)==null?void 0:e.id}var it,jo,$f=(jo=class extends Ys{constructor(e={}){super();G(this,it);this.config=e,$(this,it,new Map)}build(e,t,s){const n=t.queryKey,i=t.queryHash??pi(n,t);let o=this.get(i);return o||(o=new Af({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){k(this,it).has(e.queryHash)||(k(this,it).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=k(this,it).get(e.queryHash);t&&(e.destroy(),t===e&&k(this,it).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Pe.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return k(this,it).get(e)}getAll(){return[...k(this,it).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>Ki(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>Ki(e,s)):t}notify(e){Pe.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Pe.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Pe.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},it=new WeakMap,jo),ue,At,Ot,kr,Cr,Dt,Sr,Nr,Io,Lf=(Io=class{constructor(r={}){G(this,ue);G(this,At);G(this,Ot);G(this,kr);G(this,Cr);G(this,Dt);G(this,Sr);G(this,Nr);$(this,ue,r.queryCache||new $f),$(this,At,r.mutationCache||new Uf),$(this,Ot,r.defaultOptions||{}),$(this,kr,new Map),$(this,Cr,new Map),$(this,Dt,0)}mount(){ws(this,Dt)._++,k(this,Dt)===1&&($(this,Sr,Qa.subscribe(async r=>{r&&(await this.resumePausedMutations(),k(this,ue).onFocus())})),$(this,Nr,Us.subscribe(async r=>{r&&(await this.resumePausedMutations(),k(this,ue).onOnline())})))}unmount(){var r,e;ws(this,Dt)._--,k(this,Dt)===0&&((r=k(this,Sr))==null||r.call(this),$(this,Sr,void 0),(e=k(this,Nr))==null||e.call(this),$(this,Nr,void 0))}isFetching(r){return k(this,ue).findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return k(this,At).findAll({...r,status:"pending"}).length}getQueryData(r){var t;const e=this.defaultQueryOptions({queryKey:r});return(t=k(this,ue).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(r){const e=this.defaultQueryOptions(r),t=k(this,ue).build(this,e),s=t.state.data;return s===void 0?this.fetchQuery(r):(r.revalidateIfStale&&t.isStaleByTime(Fn(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(r){return k(this,ue).findAll(r).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(r,e,t){const s=this.defaultQueryOptions({queryKey:r}),n=k(this,ue).get(s.queryHash),i=n==null?void 0:n.state.data,o=vf(e,i);if(o!==void 0)return k(this,ue).build(this,s).setData(o,{...t,manual:!0})}setQueriesData(r,e,t){return Pe.batch(()=>k(this,ue).findAll(r).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(r){var t;const e=this.defaultQueryOptions({queryKey:r});return(t=k(this,ue).get(e.queryHash))==null?void 0:t.state}removeQueries(r){const e=k(this,ue);Pe.batch(()=>{e.findAll(r).forEach(t=>{e.remove(t)})})}resetQueries(r,e){const t=k(this,ue);return Pe.batch(()=>(t.findAll(r).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...r},e)))}cancelQueries(r,e={}){const t={revert:!0,...e},s=Pe.batch(()=>k(this,ue).findAll(r).map(n=>n.cancel(t)));return Promise.all(s).then(He).catch(He)}invalidateQueries(r,e={}){return Pe.batch(()=>(k(this,ue).findAll(r).forEach(t=>{t.invalidate()}),(r==null?void 0:r.refetchType)==="none"?Promise.resolve():this.refetchQueries({...r,type:(r==null?void 0:r.refetchType)??(r==null?void 0:r.type)??"active"},e)))}refetchQueries(r,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},s=Pe.batch(()=>k(this,ue).findAll(r).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,t);return t.throwOnError||(i=i.catch(He)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(He)}fetchQuery(r){const e=this.defaultQueryOptions(r);e.retry===void 0&&(e.retry=!1);const t=k(this,ue).build(this,e);return t.isStaleByTime(Fn(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(He).catch(He)}fetchInfiniteQuery(r){return r.behavior=Xi(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(He).catch(He)}ensureInfiniteQueryData(r){return r.behavior=Xi(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return Us.isOnline()?k(this,At).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,ue)}getMutationCache(){return k(this,At)}getDefaultOptions(){return k(this,Ot)}setDefaultOptions(r){$(this,Ot,r)}setQueryDefaults(r,e){k(this,kr).set(Qr(r),{queryKey:r,defaultOptions:e})}getQueryDefaults(r){const e=[...k(this,kr).values()],t={};return e.forEach(s=>{Xr(r,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(r,e){k(this,Cr).set(Qr(r),{mutationKey:r,defaultOptions:e})}getMutationDefaults(r){const e=[...k(this,Cr).values()],t={};return e.forEach(s=>{Xr(r,s.mutationKey)&&Object.assign(t,s.defaultOptions)}),t}defaultQueryOptions(r){if(r._defaulted)return r;const e={...k(this,Ot).queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return e.queryHash||(e.queryHash=pi(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Is&&(e.enabled=!1),e}defaultMutationOptions(r){return r!=null&&r._defaulted?r:{...k(this,Ot).mutations,...(r==null?void 0:r.mutationKey)&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){k(this,ue).clear(),k(this,At).clear()}},ue=new WeakMap,At=new WeakMap,Ot=new WeakMap,kr=new WeakMap,Cr=new WeakMap,Dt=new WeakMap,Sr=new WeakMap,Nr=new WeakMap,Io),Mf=g.createContext(void 0),Ff=({client:r,children:e})=>(g.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),F.jsx(Mf.Provider,{value:r,children:e}));const Vf=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>z(async()=>{const{default:s}=await Promise.resolve().then(()=>jr);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)};class mi extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class eo extends mi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class to extends mi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ro extends mi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qn;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(qn||(qn={}));var Bf=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};class Wf{constructor(e,{headers:t={},customFetch:s,region:n=qn.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=Vf(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Bf(this,arguments,void 0,function*(t,s={}){var n;try{const{headers:i,method:o,body:a,signal:l}=s;let c={},{region:u}=s;u||(u=this.region);const d=new URL(`${this.url}/${t}`);u&&u!=="any"&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let f;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(c["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(c["Content-Type"]="application/json",f=JSON.stringify(a)));const h=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:f,signal:l}).catch(w=>{throw w.name==="AbortError"?w:new eo(w)}),_=h.headers.get("x-relay-error");if(_&&_==="true")throw new to(h);if(!h.ok)throw new ro(h);let v=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return v==="application/json"?p=yield h.json():v==="application/octet-stream"?p=yield h.blob():v==="text/event-stream"?p=h:v==="multipart/form-data"?p=yield h.formData():p=yield h.text(),{data:p,error:null,response:h}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new eo(i)}:{data:null,error:i,response:i instanceof ro||i instanceof to?i.context:void 0}}})}}var Ue={},vi={},Xs={},cs={},Zs={},en={},qf=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ar=qf();const zf=Ar.fetch,tl=Ar.fetch.bind(Ar),rl=Ar.Headers,Hf=Ar.Request,Kf=Ar.Response,jr=Object.freeze(Object.defineProperty({__proto__:null,Headers:rl,Request:Hf,Response:Kf,default:tl,fetch:zf},Symbol.toStringTag,{value:"Module"})),Gf=Jl(jr);var tn={};Object.defineProperty(tn,"__esModule",{value:!0});let Jf=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};tn.default=Jf;var sl=Be&&Be.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(en,"__esModule",{value:!0});const Yf=sl(Gf),Qf=sl(tn);let Xf=class{constructor(e){var t,s;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(s=e.isMaybeSingle)!==null&&s!==void 0?s:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Yf.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let n=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,c;let u=null,d=null,f=null,h=i.status,_=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?d=m:d=JSON.parse(m))}const p=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,_="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const p=await i.text();try{u=JSON.parse(p),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,_="OK")}catch{i.status===404&&p===""?(h=204,_="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,_="OK"),u&&this.shouldThrowOnError)throw new Qf.default(u)}return{error:u,data:d,count:f,status:h,statusText:_}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}};en.default=Xf;var Zf=Be&&Be.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zs,"__esModule",{value:!0});const ep=Zf(en);let tp=class extends ep.default{select(e){let t=!1;const s=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:s,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:s=t}={}){const n=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:s=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,s?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Zs.default=tp;var rp=Be&&Be.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(cs,"__esModule",{value:!0});const sp=rp(Zs);let np=class extends sp.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const s=Array.from(new Set(t)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:s,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(e,t,s){return this.url.searchParams.append(e,`not.${t}.${s}`),this}or(e,{foreignTable:t,referencedTable:s=t}={}){const n=s?`${s}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,s){return this.url.searchParams.append(e,`${t}.${s}`),this}};cs.default=np;var ip=Be&&Be.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xs,"__esModule",{value:!0});const Vr=ip(cs);let op=class{constructor(e,{headers:t={},schema:s,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=s,this.fetch=n}select(e,t){const{head:s=!1,count:n}=t??{},i=s?"HEAD":"GET";let o=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),n&&this.headers.append("Prefer",`count=${n}`),new Vr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:s=!0}={}){var n;const i="POST";if(t&&this.headers.append("Prefer",`count=${t}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Vr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:s=!1,count:n,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Vr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var s;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Vr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:e}={}){var t;const s="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Vr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}};Xs.default=op;var nl=Be&&Be.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vi,"__esModule",{value:!0});const ap=nl(Xs),lp=nl(cs);let cp=class il{constructor(e,{headers:t={},schema:s,fetch:n}={}){this.url=e,this.headers=new Headers(t),this.schemaName=s,this.fetch=n}from(e){const t=new URL(`${this.url}/${e}`);return new ap.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new il(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:s=!1,get:n=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;s||n?(a=s?"HEAD":"GET",Object.entries(t).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=t);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new lp.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};vi.default=cp;var Ir=Be&&Be.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.PostgrestError=Ue.PostgrestBuilder=Ue.PostgrestTransformBuilder=Ue.PostgrestFilterBuilder=Ue.PostgrestQueryBuilder=Ue.PostgrestClient=void 0;const ol=Ir(vi);Ue.PostgrestClient=ol.default;const al=Ir(Xs);Ue.PostgrestQueryBuilder=al.default;const ll=Ir(cs);Ue.PostgrestFilterBuilder=ll.default;const cl=Ir(Zs);Ue.PostgrestTransformBuilder=cl.default;const ul=Ir(en);Ue.PostgrestBuilder=ul.default;const dl=Ir(tn);Ue.PostgrestError=dl.default;var up=Ue.default={PostgrestClient:ol.default,PostgrestQueryBuilder:al.default,PostgrestFilterBuilder:ll.default,PostgrestTransformBuilder:cl.default,PostgrestBuilder:ul.default,PostgrestError:dl.default};const{PostgrestClient:dp,PostgrestQueryBuilder:Rg,PostgrestFilterBuilder:Ag,PostgrestTransformBuilder:Og,PostgrestBuilder:Dg,PostgrestError:jg}=up;class hp{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const s=t.node,n=parseInt(s.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const s=this.getWebSocketConstructor();return new s(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const fp="2.75.0",pp=`realtime-js/${fp}`,mp="1.0.0",zn=1e4,vp=1e3,gp=100;var qr;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(qr||(qr={}));var be;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(be||(be={}));var Je;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Je||(Je={}));var Hn;(function(r){r.websocket="websocket"})(Hn||(Hn={}));var zt;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(zt||(zt={}));class bp{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const n=t.getUint8(1),i=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+n));o=o+n;const l=s.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class hl{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var oe;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(oe||(oe={}));const so=(r,e,t={})=>{var s;const n=(s=t.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=yp(o,r,e,n),i),{}):{}},yp=(r,e,t,s)=>{const n=e.find(a=>a.name===r),i=n==null?void 0:n.type,o=t[r];return i&&!s.includes(i)?fl(i,o):Kn(o)},fl=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return Ep(e,t)}switch(r){case oe.bool:return wp(e);case oe.float4:case oe.float8:case oe.int2:case oe.int4:case oe.int8:case oe.numeric:case oe.oid:return _p(e);case oe.json:case oe.jsonb:return xp(e);case oe.timestamp:return kp(e);case oe.abstime:case oe.date:case oe.daterange:case oe.int4range:case oe.int8range:case oe.money:case oe.reltime:case oe.text:case oe.time:case oe.timestamptz:case oe.timetz:case oe.tsrange:case oe.tstzrange:return Kn(e);default:return Kn(e)}},Kn=r=>r,wp=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},_p=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},xp=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},Ep=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,s=r[t];if(r[0]==="{"&&s==="}"){let i;const o=r.slice(1,t);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>fl(e,a))}return r},kp=r=>typeof r=="string"?r.replace(" ","T"):r,pl=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class yn{constructor(e,t,s={},n=zn){this.channel=e,this.event=t,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var no;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(no||(no={}));class zr{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zr.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=zr.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=zr.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,n){const i=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const f=u.map(p=>p.presence_ref),h=d.map(p=>p.presence_ref),_=u.filter(p=>h.indexOf(p.presence_ref)<0),v=d.filter(p=>f.indexOf(p.presence_ref)<0);_.length>0&&(a[c]=_),v.length>0&&(l[c]=v)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},s,n)}static syncDiff(e,t,s,n){const{joins:i,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);e[a].unshift(...f)}s(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,n(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const n=e[s];return"metas"in n?t[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[s]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var io;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(io||(io={}));var Hr;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Hr||(Hr={}));var pt;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(pt||(pt={}));class gi{constructor(e,t={config:{}},s){var n,i;if(this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new yn(this,Je.join,this.params,this.timeout),this.rejoinTimer=new hl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=be.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Je.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new zr(this),this.broadcastEndpointURL=pl(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var s,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==be.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(h=>h.filter))!==null&&n!==void 0?n:[],u=!!this.bindings[Hr.PRESENCE]&&this.bindings[Hr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(pt.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(pt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:h})=>{var _;if(this.socket.setAuth(),h===void 0){e==null||e(pt.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,p=(_=v==null?void 0:v.length)!==null&&_!==void 0?_:0,w=[];for(let m=0;m<p;m++){const y=v[m],{filter:{event:E,schema:T,table:N,filter:A}}=y,I=h&&h[m];if(I&&I.event===E&&I.schema===T&&I.table===N&&I.filter===A)w.push(Object.assign(Object.assign({},y),{id:I.id}));else{this.unsubscribe(),this.state=be.errored,e==null||e(pt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(pt.SUBSCRIBED);return}}).receive("error",h=>{this.state=be.errored,e==null||e(pt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(pt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this.state===be.joined&&e===Hr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,s)}async send(e,t={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=be.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Je.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(n=>{s=new yn(this,Je.leave,{},e),s.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=be.closed,this.bindings={}}async _fetchWithTimeout(e,t,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(i),o}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new yn(this,e,t,s);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>gp){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Je;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let f=this._onMessage(o,t,s);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(h=>{var _,v,p;return((_=h.filter)===null||_===void 0?void 0:_.event)==="*"||((p=(v=h.filter)===null||v===void 0?void 0:v.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===o}).map(h=>h.callback(f,s)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var _,v,p,w,m,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const E=h.id,T=(_=h.filter)===null||_===void 0?void 0:_.event;return E&&((v=t.ids)===null||v===void 0?void 0:v.includes(E))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((p=t.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const E=(m=(w=h==null?void 0:h.filter)===null||w===void 0?void 0:w.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return E==="*"||E===((y=t==null?void 0:t.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const _=f.data,{schema:v,table:p,commit_timestamp:w,type:m,errors:y}=_;f=Object.assign(Object.assign({},{schema:v,table:p,commit_timestamp:w,eventType:m,new:{},old:{},errors:y}),this._getPayloadRecords(_))}h.callback(f,s)})}_isClosed(){return this.state===be.closed}_isJoined(){return this.state===be.joined}_isJoining(){return this.state===be.joining}_isLeaving(){return this.state===be.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const n=e.toLocaleLowerCase(),i={type:n,filter:t,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&gi.isEqual(n.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Je.close,{},e)}_onError(e){this._on(Je.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=be.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=so(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=so(e.columns,e.old_record)),t}}const wn=()=>{},Cs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Cp=[1e3,2e3,5e3,1e4],Sp=1e4,Np=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Tp{constructor(e,t){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zn,this.transport=null,this.heartbeatIntervalMs=Cs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wn,this.ref=0,this.reconnectTimer=null,this.logger=wn,this.conn=null,this.sendBuffer=[],this.serializer=new bp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let i;return n?i=n:typeof fetch>"u"?i=(...o)=>z(async()=>{const{default:a}=await Promise.resolve().then(()=>jr);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((s=t==null?void 0:t.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Hn.websocket}`,this.httpEndpoint=pl(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hp.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mp}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case qr.connecting:return zt.Connecting;case qr.open:return zt.Open;case qr.closing:return zt.Closing;default:return zt.Closed}}isConnected(){return this.connectionState()===zt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const s=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===s);if(n)return n;{const i=new gi(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){const{topic:t,event:s,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${s} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(vp,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Cs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:n,payload:i,ref:o}=t,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${s} ${n} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(n,i,o)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Je.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${s}${n}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([Np],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(s=>{const n={access_token:t,version:pp};t&&s.updateJoinPayload(n),s.joinedOnce&&s._isJoined()&&s._push(Je.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(t)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new hl(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Cs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,s,n,i,o,a,l,c,u;if(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:zn,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:Cs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:wn,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>Cp[d-1]||Sp,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(d,f)=>f(JSON.stringify(d)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class bi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ge(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Pp extends bi{constructor(e,t,s){super(e),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gn extends bi{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Rp=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};const ml=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>z(async()=>{const{default:s}=await Promise.resolve().then(()=>jr);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},Ap=()=>Rp(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield z(()=>Promise.resolve().then(()=>jr),void 0)).Response:Response}),Jn=r=>{if(Array.isArray(r))return r.map(t=>Jn(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,s])=>{const n=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Jn(s)}),e},Op=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var rr=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};const _n=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Dp=(r,e,t)=>rr(void 0,void 0,void 0,function*(){const s=yield Ap();r instanceof s&&!(t!=null&&t.noResolveJson)?r.json().then(n=>{const i=r.status||500,o=(n==null?void 0:n.statusCode)||i+"";e(new Pp(_n(n),i,o))}).catch(n=>{e(new Gn(_n(n),n))}):e(new Gn(_n(r),r))}),jp=(r,e,t,s)=>{const n={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"||!s?n:(Op(s)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(s)):n.body=s,e!=null&&e.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),t))};function us(r,e,t,s,n,i){return rr(this,void 0,void 0,function*(){return new Promise((o,a)=>{r(t,jp(e,s,n,i)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Dp(l,a,s))})})}function $s(r,e,t,s){return rr(this,void 0,void 0,function*(){return us(r,"GET",e,t,s)})}function tt(r,e,t,s,n){return rr(this,void 0,void 0,function*(){return us(r,"POST",e,s,n,t)})}function Yn(r,e,t,s,n){return rr(this,void 0,void 0,function*(){return us(r,"PUT",e,s,n,t)})}function Ip(r,e,t,s){return rr(this,void 0,void 0,function*(){return us(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),s)})}function vl(r,e,t,s,n){return rr(this,void 0,void 0,function*(){return us(r,"DELETE",e,s,n,t)})}var Up=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};class $p{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return Up(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ge(e))return{data:null,error:e};throw e}})}}var Lp=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};class Mp{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}asStream(){return new $p(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.execute().then(e,t)}execute(){return Lp(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ge(e))return{data:null,error:e};throw e}})}}var je=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};const Fp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},oo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Vp{constructor(e,t={},s,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=s,this.fetch=ml(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,s,n){return je(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},oo),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),d=yield(e=="PUT"?Yn:tt)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ge(i))return{data:null,error:i};throw i}})}upload(e,t,s){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,n){return je(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:oo.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield Yn(this.fetch,a.toString(),l,{headers:u});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ge(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return je(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=Object.assign({},this.headers);t!=null&&t.upsert&&(n["x-upsert"]="true");const i=yield tt(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new bi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}update(e,t,s){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return je(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}copy(e,t,s){return je(this,void 0,void 0,function*(){try{return{data:{path:(yield tt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,s){return je(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield tt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,s){return je(this,void 0,void 0,function*(){try{const n=yield tt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>$s(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new Mp(l,this.shouldThrowOnError)}info(e){return je(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const s=yield $s(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Jn(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}exists(e){return je(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Ip(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s)&&s instanceof Gn){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(e){return je(this,void 0,void 0,function*(){try{return{data:yield vl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ge(t))return{data:null,error:t};throw t}})}list(e,t,s){return je(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Fp),t),{prefix:e||""});return{data:yield tt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}listV2(e,t){return je(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield tt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},t),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Bp="2.75.0",Wp={"X-Client-Info":`storage-js/${Bp}`};var ur=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};class qp{constructor(e,t={},s,n){this.shouldThrowOnError=!1;const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wp),t),this.fetch=ml(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ur(this,void 0,void 0,function*(){try{return{data:yield $s(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ge(e))return{data:null,error:e};throw e}})}getBucket(e){return ur(this,void 0,void 0,function*(){try{return{data:yield $s(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ge(t))return{data:null,error:t};throw t}})}createBucket(e){return ur(this,arguments,void 0,function*(t,s={public:!1}){try{return{data:yield tt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return ur(this,void 0,void 0,function*(){try{return{data:yield Yn(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}})}emptyBucket(e){return ur(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ge(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ur(this,void 0,void 0,function*(){try{return{data:yield vl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ge(t))return{data:null,error:t};throw t}})}}class zp extends qp{constructor(e,t={},s,n){super(e,t,s,n)}from(e){return new Vp(this.url,this.headers,e,this.fetch)}}const Hp="2.75.0";let Br="";typeof Deno<"u"?Br="deno":typeof document<"u"?Br="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Br="react-native":Br="node";const Kp={"X-Client-Info":`supabase-js-${Br}/${Hp}`},Gp={headers:Kp},Jp={schema:"public"},Yp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Qp={};var Xp=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};const Zp=r=>{let e;return r?e=r:typeof fetch>"u"?e=tl:e=fetch,(...t)=>e(...t)},em=()=>typeof Headers>"u"?rl:Headers,tm=(r,e,t)=>{const s=Zp(t),n=em();return(i,o)=>Xp(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:r;let c=new n(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",r),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(i,Object.assign(Object.assign({},o),{headers:c}))})};var rm=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};function sm(r){return r.endsWith("/")?r:r+"/"}function nm(r,e){var t,s;const{db:n,auth:i,realtime:o,global:a}=r,{db:l,auth:c,realtime:u,global:d}=e,f={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(t=d==null?void 0:d.headers)!==null&&t!==void 0?t:{}),(s=a==null?void 0:a.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>rm(this,void 0,void 0,function*(){return""})};return r.accessToken?f.accessToken=r.accessToken:delete f.accessToken,f}function im(r){const e=r==null?void 0:r.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(sm(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const gl="2.75.0",vr=30*1e3,Qn=3,xn=Qn*vr,om="http://localhost:9999",am="supabase.auth.token",lm={"X-Client-Info":`gotrue-js/${gl}`},Xn="X-Supabase-Api-Version",bl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cm=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,um=10*60*1e3;class Zr extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function U(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class dm extends Zr{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}function hm(r){return U(r)&&r.name==="AuthApiError"}class Ht extends Zr{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ut extends Zr{constructor(e,t,s,n){super(e,s,n),this.name=t,this.status=s}}class Nt extends Ut{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fm(r){return U(r)&&r.name==="AuthSessionMissingError"}class dr extends Ut{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ss extends Ut{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ns extends Ut{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pm(r){return U(r)&&r.name==="AuthImplicitGrantRedirectError"}class ao extends Ut{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zn extends Ut{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function En(r){return U(r)&&r.name==="AuthRetryableFetchError"}class lo extends Ut{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class ei extends Ut{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ls="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),co=` 	
\r=`.split(""),mm=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<co.length;e+=1)r[co[e].charCodeAt(0)]=-2;for(let e=0;e<Ls.length;e+=1)r[Ls[e].charCodeAt(0)]=e;return r})();function uo(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(Ls[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(Ls[s]),e.queuedBits-=6}}function yl(r,e,t){const s=mm[r];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function ho(r){const e=[],t=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{bm(o,s,t)};for(let o=0;o<r.length;o+=1)yl(r.charCodeAt(o),n,i);return e.join("")}function vm(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function gm(r,e){for(let t=0;t<r.length;t+=1){let s=r.charCodeAt(t);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(r.charCodeAt(t+1)-56320&65535|n)+65536,t+=1}vm(s,e)}}function bm(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let s=1;s<6;s+=1)if(!(r>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function yr(r){const e=[],t={queue:0,queuedBits:0},s=n=>{e.push(n)};for(let n=0;n<r.length;n+=1)yl(r.charCodeAt(n),t,s);return new Uint8Array(e)}function ym(r){const e=[];return gm(r,t=>e.push(t)),new Uint8Array(e)}function Gt(r){const e=[],t={queue:0,queuedBits:0},s=n=>{e.push(n)};return r.forEach(n=>uo(n,t,s)),uo(null,t,s),e.join("")}function wm(r){return Math.round(Date.now()/1e3)+r}function _m(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const $e=()=>typeof window<"u"&&typeof document<"u",Bt={tested:!1,writable:!1},wl=()=>{if(!$e())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bt.tested)return Bt.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Bt.tested=!0,Bt.writable=!0}catch{Bt.tested=!0,Bt.writable=!1}return Bt.writable};function xm(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return t.searchParams.forEach((s,n)=>{e[n]=s}),e}const _l=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>z(async()=>{const{default:s}=await Promise.resolve().then(()=>jr);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},Em=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",gr=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},Wt=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Ct=async(r,e)=>{await r.removeItem(e)};class rn{constructor(){this.promise=new rn.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}rn.promiseConstructor=Promise;function kn(r){const e=r.split(".");if(e.length!==3)throw new ei("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!cm.test(e[s]))throw new ei("JWT not in base64url format");return{header:JSON.parse(ho(e[0])),payload:JSON.parse(ho(e[1])),signature:yr(e[2]),raw:{header:e[0],payload:e[1]}}}async function km(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function Cm(r,e){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await r(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Sm(r){return("0"+r.toString(16)).substr(-2)}function Nm(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let n="";for(let i=0;i<56;i++)n+=t.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,Sm).join("")}async function Tm(r){const t=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function Pm(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await Tm(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hr(r,e,t=!1){const s=Nm();let n=s;t&&(n+="/PASSWORD_RECOVERY"),await gr(r,`${e}-code-verifier`,n);const i=await Pm(s);return[i,s===i?"plain":"s256"]}const Rm=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Am(r){const e=r.headers.get(Xn);if(!e||!e.match(Rm))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Om(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function Dm(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jm=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fr(r){if(!jm.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cn(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const s=t.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function fo(r){return JSON.parse(JSON.stringify(r))}var Im=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t};const qt=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Um=[502,503,504];async function po(r){var e;if(!Em(r))throw new Zn(qt(r),0);if(Um.includes(r.status))throw new Zn(qt(r),r.status);let t;try{t=await r.json()}catch(i){throw new Ht(qt(i),i)}let s;const n=Am(r);if(n&&n.getTime()>=bl["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new lo(qt(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Nt}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new lo(qt(t),r.status,t.weak_password.reasons);throw new dm(qt(t),r.status||500,s)}const $m=(r,e,t,s)=>{const n={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),t))};async function B(r,e,t,s){var n;const i=Object.assign({},s==null?void 0:s.headers);i[Xn]||(i[Xn]=bl["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Lm(r,e,t+a,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function Lm(r,e,t,s,n,i){const o=$m(e,s,n,i);let a;try{a=await r(t,Object.assign({},o))}catch(l){throw console.error(l),new Zn(qt(l),0)}if(a.ok||await po(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await po(l)}}function ze(r){var e;let t=null;Vm(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=wm(r.expires_in)));const s=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:s},error:null}}function mo(r){const e=ze(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Tt(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Mm(r){return{data:r,error:null}}function Fm(r){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:n,verification_type:i}=r,o=Im(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:s,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function vo(r){return r}function Vm(r){return r.access_token&&r.refresh_token&&r.expires_in}const Sn=["global","local","others"];var Bm=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t};class Wm{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=_l(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Sn[0]){if(Sn.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Sn.join(", ")}`);try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(U(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Tt})}catch(s){if(U(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=Bm(e,["options"]),n=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Fm,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(U(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Tt})}catch(t){if(U(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:vo});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(_=>{const v=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(_.split(";")[1].split("=")[1]);c[`${p}Page`]=v}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(U(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){fr(e);try{return await B(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Tt})}catch(t){if(U(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){fr(e);try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Tt})}catch(s){if(U(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){fr(e);try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Tt})}catch(s){if(U(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){fr(e.userId);try{const{data:t,error:s}=await B(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:t,error:s}}catch(t){if(U(t))return{data:null,error:t};throw t}}async _deleteFactor(e){fr(e.userId),fr(e.id);try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(U(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,s,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await B(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:vo});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(_=>{const v=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(_.split(";")[1].split("=")[1]);c[`${p}Page`]=v}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(U(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await B(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(U(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await B(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(U(t))return{data:null,error:t};throw t}}async _deleteOAuthClient(e){try{return await B(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(U(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await B(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(U(t))return{data:null,error:t};throw t}}}function go(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}const pr={debug:!!(globalThis&&wl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xl extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class qm extends xl{}async function zm(r,e,t){pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),pr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,n.name);try{return await t()}finally{pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,n.name)}}else{if(e===0)throw pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new qm(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(pr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function Hm(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function El(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function Km(r){return parseInt(r,16)}function Gm(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function Jm(r){var e;const{chainId:t,domain:s,expirationTime:n,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:f}=r;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const h=El(r.address),_=u?`${u}://${s}`:s,v=r.statement?`${r.statement}
`:"",p=`${_} wants you to sign in with your Ethereum account:
${h}

${v}`;let w=`URI: ${d}
Version: ${f}
Chain ID: ${t}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(n&&(w+=`
Expiration Time: ${n.toISOString()}`),a&&(w+=`
Not Before: ${a.toISOString()}`),l&&(w+=`
Request ID: ${l}`),c){let m=`
Resources:`;for(const y of c){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);m+=`
- ${y}`}w+=m}return`${p}
${w}`}class ve extends Error{constructor({message:e,code:t,cause:s,name:n}){var i;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=n??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=t}}class Ms extends ve{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Ym({error:r,options:e}){var t,s,n;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ve({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((t=i.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new ve({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ve({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ve({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new ve({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new ve({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ve({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new ve({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const o=window.location.hostname;if(Cl(o)){if(i.rp.id!==o)return new ve({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ve({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new ve({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function Qm({error:r,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ve({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new ve({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const s=window.location.hostname;if(Cl(s)){if(t.rpId!==s)return new ve({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new ve({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}var kl=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t};class Xm{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Zm=new Xm;function ev(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:t,excludeCredentials:s}=r,n=kl(r,["challenge","user","excludeCredentials"]),i=yr(e).buffer,o=Object.assign(Object.assign({},t),{id:yr(t.id).buffer}),a=Object.assign(Object.assign({},n),{challenge:i,user:o});if(s&&s.length>0){a.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const c=s[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:yr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function tv(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:t}=r,s=kl(r,["challenge","allowCredentials"]),n=yr(e).buffer,i=Object.assign(Object.assign({},s),{challenge:n});if(t&&t.length>0){i.allowCredentials=new Array(t.length);for(let o=0;o<t.length;o++){const a=t[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:yr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function rv(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r;return{id:r.id,rawId:r.id,response:{attestationObject:Gt(new Uint8Array(r.response.attestationObject)),clientDataJSON:Gt(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function sv(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r,s=r.getClientExtensionResults(),n=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Gt(new Uint8Array(n.authenticatorData)),clientDataJSON:Gt(new Uint8Array(n.clientDataJSON)),signature:Gt(new Uint8Array(n.signature)),userHandle:n.userHandle?Gt(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Cl(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function bo(){var r,e;return!!($e()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function nv(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ms("Browser returned unexpected credential type",e)}:{data:null,error:new Ms("Empty credential response",e)}}catch(e){return{data:null,error:Ym({error:e,options:r})}}}async function iv(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ms("Browser returned unexpected credential type",e)}:{data:null,error:new Ms("Empty credential response",e)}}catch(e){return{data:null,error:Qm({error:e,options:r})}}}const ov={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},av={userVerification:"preferred",hints:["security-key"]};function Fs(...r){const e=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),t=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),s={};for(const n of r)if(n)for(const i in n){const o=n[i];if(o!==void 0)if(Array.isArray(o))s[i]=o;else if(t(o))s[i]=o;else if(e(o)){const a=s[i];e(a)?s[i]=Fs(a,o):s[i]=Fs(o)}else s[i]=o}return s}function lv(r,e){return Fs(ov,r,e||{})}function cv(r,e){return Fs(av,r,e||{})}class uv{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:s,signal:n},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!o)return{data:null,error:a};const l=n??Zm.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${s}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=lv(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:d}=await nv({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=cv(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:d}=await iv(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(o){return U(o)?{data:null,error:o}:{data:null,error:new Ht("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:t,webauthn:s}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}},i){if(!t)return{data:null,error:new Zr("rpId is required for WebAuthn authentication")};try{if(!bo())return{data:null,error:new Ht("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:s},signal:n},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:t,rpOrigins:s,credential_response:l.credential_response}})}catch(o){return U(o)?{data:null,error:o}:{data:null,error:new Ht("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n},i){if(!t)return{data:null,error:new Zr("rpId is required for WebAuthn registration")};try{if(!bo())return{data:null,error:new Ht("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:t,rpOrigins:s},signal:n},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:t,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return U(o)?{data:null,error:o}:{data:null,error:new Ht("Unexpected error in register",o)}}}}Hm();const dv={url:om,storageKey:am,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function yo(r,e,t){return await t()}const mr={};class es{get jwks(){var e,t;return(t=(e=mr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){mr[this.storageKey]=Object.assign(Object.assign({},mr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=mr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){mr[this.storageKey]=Object.assign(Object.assign({},mr[this.storageKey]),{cachedAt:e})}constructor(e){var t,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=es.nextInstanceID,es.nextInstanceID+=1,this.instanceID>0&&$e()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},dv),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Wm({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=_l(n.fetch),this.lock=n.lock||yo,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:$e()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=zm:this.lock=yo,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new uv(this)},this.persistSession?(n.storage?this.storage=n.storage:wl()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=go(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=go(this.memoryStorage)),$e()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${gl}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=xm(window.location.href);let s="none";if(this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce"),$e()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:i}=await this._getSessionFromURL(t,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),pm(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return U(t)?{error:t}:{error:new Ht("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,n;try{const i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:ze}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,s,n;try{let i;if("email"in e){const{email:u,password:d,options:f}=e;let h=null,_=null;this.flowType==="pkce"&&([h,_]=await hr(this.storage,this.storageKey)),i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:_},xform:ze})}else if("phone"in e){const{phone:u,password:d,options:f}=e;i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ze})}else throw new Ss("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:o,options:a}=e;t=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:mo})}else if("phone"in e){const{phone:i,password:o,options:a}=e;t=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:mo})}else throw new Ss("You must provide either an email or phone number and a password");const{data:s,error:n}=t;return n?{data:{user:null,session:null},error:n}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new dr}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(t){if(U(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,s,n,i,o,a,l,c,u,d,f;let h,_;if("message"in e)h=e.message,_=e.signature;else{const{chain:v,wallet:p,statement:w,options:m}=e;let y;if($e())if(typeof p=="object")y=p;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")y=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=p}const E=new URL((t=m==null?void 0:m.url)!==null&&t!==void 0?t:window.location.href),T=await y.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=El(T[0]);let A=(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!A){const O=await y.request({method:"eth_chainId"});A=Km(O)}const I={domain:E.host,address:N,statement:w,uri:E.href,version:"1",chainId:A,nonce:(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(o=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.resources};h=Jm(I),_=await y.request({method:"personal_sign",params:[Gm(h),N]})}try{const{data:v,error:p}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:_},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ze});if(p)throw p;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new dr}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:p})}catch(v){if(U(v))return{data:{user:null,session:null},error:v};throw v}}async signInWithSolana(e){var t,s,n,i,o,a,l,c,u,d,f,h;let _,v;if("message"in e)_=e.message,v=e.signature;else{const{chain:p,wallet:w,statement:m,options:y}=e;let E;if($e())if(typeof w=="object")E=w;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))E=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=w}const T=new URL((t=y==null?void 0:y.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in E&&E.signIn){const N=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),m?{statement:m}:null));let A;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")A=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)A=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)_=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),v=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${T.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(n=(s=y==null?void 0:y.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((d=(u=y==null?void 0:y.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...y.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const N=await E.signMessage(new TextEncoder().encode(_),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=N}}try{const{data:p,error:w}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Gt(v)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ze});if(w)throw w;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new dr}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:w})}catch(p){if(U(p))return{data:{user:null,session:null},error:p};throw p}}async _exchangeCodeForSession(e){const t=await Wt(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(t??"").split("/");try{const{data:i,error:o}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:ze});if(await Ct(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new dr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(U(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:s,token:n,access_token:i,nonce:o}=e,a=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:ze}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new dr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(U(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await hr(this.storage,this.storageKey));const{error:d}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Ss("You must provide either an email or phone number.")}catch(a){if(U(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,s;try{let n,i;"options"in e&&(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:ze});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(U(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var t,s,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await hr(this.storage,this.storageKey)),await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Mm})}catch(i){if(U(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new Nt;const{error:n}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(U(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:i}=e,{error:o}=await B(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:n,options:i}=e,{data:o,error:a}=await B(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ss("You must provide either an email or phone number and a type")}catch(t){if(U(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Wt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<xn:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await Wt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Cn()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Tt}):await this._useSession(async t=>{var s,n,i;const{data:o,error:a}=t;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nt}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Tt})})}catch(t){if(U(t))return fm(t)&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new Nt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await hr(this.storage,this.storageKey));const{data:c,error:u}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Tt});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(U(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Nt;const t=Date.now()/1e3;let s=t,n=!0,i=null;const{payload:o}=kn(e.access_token);if(o.exp&&(s=o.exp,n=s<=t),n){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(U(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Nt;const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(U(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!$e())throw new Ns("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ns(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new ao("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ns("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ao("No code detected.");const{data:m,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new Ns("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const h=f-u;h*1e3<=vr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const _=f-d;u-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,f,u):u-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,f,u);const{data:v,error:p}=await this._getUser(i);if(p)throw p;const w={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(s){if(U(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Wt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:n,error:i}=t;if(i)return{error:i};const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(hm(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=_m(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,n;try{const{data:{session:i},error:o}=t;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await hr(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(U(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(U(t))return{data:null,error:t};throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:s,error:n}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:f}=i;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return $e()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(U(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var s;try{const{error:n,data:{session:i}}=t;if(n)throw n;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,d=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i==null?void 0:i.access_token)!==null&&s!==void 0?s:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ze}),{data:f,error:h}=d;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new dr}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:h})}catch(n){if(U(n))return{data:{user:null,session:null},error:n};throw n}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,n;const{data:i,error:o}=t;if(o)throw o;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(t){if(U(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await Cm(async n=>(n>0&&await km(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ze})),(n,i)=>{const o=200*Math.pow(2,n);return i&&En(i)&&Date.now()+o-s<vr})}catch(s){if(this._debug(t,"error",s),U(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),$e()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await Wt(this.storage,this.storageKey);if(n&&this.userStorage){let o=await Wt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await gr(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Cn()}else if(n&&!n.user&&!n.user){const o=await Wt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await Ct(this.storage,this.storageKey+"-user"),await gr(this.storage,this.storageKey,n)):n.user=Cn()}if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<xn;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${xn}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),En(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(n.access_token);!a&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new Nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new rn;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Nt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),U(i)){const o={data:null,error:i};return En(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,t)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),s=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&t.user&&await gr(this.userStorage,this.storageKey+"-user",{user:t.user});const n=Object.assign({},t);delete n.user;const i=fo(n);await gr(this.storage,this.storageKey,i)}else{const n=fo(t);await gr(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Ct(this.storage,this.storageKey),await Ct(this.storage,this.storageKey+"-code-verifier"),await Ct(this.storage,this.storageKey+"-user"),this.userStorage&&await Ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$e()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),vr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/vr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${vr}ms, refresh threshold is ${Qn} ticks`),n<=Qn&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof xl)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$e()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const n=[`provider=${encodeURIComponent(t)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await hr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;return i?{data:null,error:i}:await B(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(U(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,n;const{data:i,error:o}=t;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await B(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(U(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?rv(e.webauthn.credential_response):sv(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await B(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(t){if(U(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;if(i)return{data:null,error:i};const o=await B(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:ev(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:tv(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(U(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=kn(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(a=>a.kid===e);if(s)return s;const n=Date.now();if(s=this.jwks.keys.find(a=>a.kid===e),s&&this.jwks_cached_at+um>n)return s;const{data:i,error:o}=await B(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,s=i.keys.find(a=>a.kid===e),!s)?null:s}async getClaims(e,t={}){try{let s=e;if(!s){const{data:h,error:_}=await this.getSession();if(_||!h.session)return{data:null,error:_};s=h.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=kn(s);t!=null&&t.allowExpired||Om(i.exp);const c=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!c){const{error:h}=await this.getUser(s);if(h)throw h;return{data:{claims:i,header:n,signature:o},error:null}}const u=Dm(n.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,ym(`${a}.${l}`)))throw new ei("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(s){if(U(s))return{data:null,error:s};throw s}}}es.nextInstanceID=0;const hv=es;class fv extends hv{constructor(e){super(e)}}var pv=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};class mv{constructor(e,t,s){var n,i,o;this.supabaseUrl=e,this.supabaseKey=t;const a=im(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:Jp,realtime:Qp,auth:Object.assign(Object.assign({},Yp),{storageKey:l}),global:Gp},u=nm(s??{},c);this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=tm(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new dp(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new zp(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Wf(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return pv(this,void 0,void 0,function*(){var e,t;if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(t=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fv({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,userStorage:i,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Tp(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,s)=>{this._handleTokenChanged(t,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vv=(r,e,t)=>new mv(r,e,t);function gv(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}gv()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const bv="https://iuhitcjimtdjffdumptw.supabase.co",yv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml1aGl0Y2ppbXRkamZmZHVtcHR3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU5Mjg5MTIsImV4cCI6MjA3MTUwNDkxMn0.prg9z8ao84L9Z3xs7LYmGnqD-cCMmeL1KfcfoUAxSW4",_e=vv(bv,yv,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),wv=_e,_v=Object.freeze(Object.defineProperty({__proto__:null,supabase:_e,supabaseAny:wv},Symbol.toStringTag,{value:"Module"}));class xv{constructor(){ys(this,"registration",null)}async initialize(){if("serviceWorker"in navigator&&"PushManager"in window)try{return this.registration=await navigator.serviceWorker.register("/sw.js"),console.log("Service Worker registered successfully"),!0}catch(e){return console.error("Service Worker registration failed:",e),!1}return!1}async requestPermission(){return"Notification"in window?Notification.permission==="granted"?!0:Notification.permission==="denied"?!1:await Notification.requestPermission()==="granted":(console.warn("This browser does not support notifications"),!1)}async showNotification(e){if(!await this.requestPermission()){console.warn("Notification permission denied");return}if(this.registration)try{await this.registration.showNotification(e.title,{body:e.body,icon:e.icon||"/farmers.jpg",badge:e.badge||"/farmers.jpg",tag:e.tag||"farmers-bracket",data:e.data,requireInteraction:!0})}catch(s){console.error("Failed to show notification via service worker:",s),this.fallbackNotification(e)}else this.fallbackNotification(e)}fallbackNotification(e){new Notification(e.title,{body:e.body,icon:e.icon||"/farmers.jpg",tag:e.tag||"farmers-bracket",data:e.data})}async subscribeToRealTimeUpdates(e){const t=_e.channel("order-updates").on("postgres_changes",{event:"*",schema:"public",table:"orders",filter:`user_id=eq.${e}`},n=>{this.handleOrderUpdate(n)}).subscribe(),s=_e.channel("chat-updates").on("postgres_changes",{event:"INSERT",schema:"public",table:"chats",filter:`receiver_id=eq.${e}`},n=>{this.handleChatMessage(n)}).subscribe();return{orderChannel:t,chatChannel:s}}async handleOrderUpdate(e){const t=e.new||e.old;if(e.eventType==="INSERT")await this.showNotification({title:"New Order Placed!",body:`Your order #${t.id.slice(-6)} has been placed successfully.`,tag:`order-${t.id}`,data:{type:"order",orderId:t.id}});else if(e.eventType==="UPDATE"){const n={processing:"Your order is being processed",shipped:"Your order has been shipped",delivered:"Your order has been delivered",cancelled:"Your order has been cancelled"}[t.status]||"Your order status has been updated";await this.showNotification({title:"Order Update",body:`Order #${t.id.slice(-6)}: ${n}`,tag:`order-${t.id}`,data:{type:"order",orderId:t.id}})}}async handleChatMessage(e){const t=e.new;await this.showNotification({title:"New Message",body:t.message.slice(0,50)+(t.message.length>50?"...":""),tag:"new-message",data:{type:"message",senderId:t.sender_id}})}async unsubscribe(){_e.removeAllChannels()}}const Nn=new xv,Sl=g.createContext(void 0);function yi(){const r=g.useContext(Sl);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}const Ev=({children:r})=>{const[e,t]=g.useState(null),[s,n]=g.useState(!0),[i,o]=g.useState(!1),{toast:a}=ga();g.useEffect(()=>{console.time("auth.getSession"),_e.auth.getSession().then(({data:{session:m}})=>{console.timeEnd("auth.getSession"),t((m==null?void 0:m.user)??null),n(!1),m!=null&&m.user&&(console.time("initializeNotifications"),l(m.user.id).finally(()=>console.timeEnd("initializeNotifications")),o(m.user.email_confirmed_at!==null))}).catch(m=>{console.timeEnd("auth.getSession"),console.error("getSession error",m),n(!1)});const{data:{subscription:w}}=_e.auth.onAuthStateChange(async(m,y)=>{var E;if(console.time("auth.onAuthStateChange"),t((y==null?void 0:y.user)??null),n(!1),y!=null&&y.user){o(y.user.email_confirmed_at!==null),console.time("initializeNotifications"),await l(y.user.id).finally(()=>console.timeEnd("initializeNotifications"));try{const T=localStorage.getItem("pending_profile");if(T){const N=JSON.parse(T);if(N&&(N.username||N.email)){const A={id:y.user.id,email:N.email||y.user.email||null,name:N.username||((E=y.user.user_metadata)==null?void 0:E.name)||null,first_name:N.firstName||null,last_name:N.lastName||null,phone:N.phone||null,bio:N.bio||null};console.time("pending_profile_upsert");let I;try{I=await _e.from("profiles").upsert(A)}finally{console.timeEnd("pending_profile_upsert")}const{error:O}=I??{};if(O){console.error("Failed to upsert pending profile. Payload:",A),console.error("Supabase upsert error object:",O);const D=O,q=typeof(D==null?void 0:D.details)=="string"?D.details:void 0;a({title:"Profile creation failed",description:q||O.message||"Unable to create profile",variant:"destructive"})}else{try{localStorage.removeItem("pending_profile")}catch(D){console.error("clear pending_profile failed",D)}a({title:"Profile created",description:"Your profile has been completed."})}}}}catch(T){console.error("Failed parsing or upserting pending profile:",T);try{localStorage.removeItem("pending_profile")}catch(N){console.error("clear pending_profile failed",N)}}}else await Nn.unsubscribe();console.timeEnd("auth.onAuthStateChange")});return()=>w.unsubscribe()},[a]);const l=async w=>{try{await Nn.initialize(),await Nn.subscribeToRealTimeUpdates(w)}catch(m){console.error("Failed to initialize notifications:",m)}},p={user:e,loading:s,signIn:async(w,m)=>{console.time("auth.signIn"),n(!0);try{const{error:y}=await _e.auth.signInWithPassword({email:w,password:m});return console.timeEnd("auth.signIn"),y?(a({title:"Login Failed",description:y.message,variant:"destructive"}),n(!1),{error:y}):(a({title:"Welcome back!",description:"Successfully logged in to FarmersBracket"}),n(!1),{})}catch(y){return console.timeEnd("auth.signIn"),n(!1),{error:y instanceof Error?y:new Error("Unknown error")}}},signUp:async(w,m,y)=>{try{const{error:E}=await _e.auth.signUp({email:w,password:m,options:{data:{name:y},emailRedirectTo:`${window.location.origin}/auth/callback`}});return E?(a({title:"Registration Failed",description:E.message,variant:"destructive"}),{error:E}):(a({title:"Welcome to FarmersBracket!",description:"Your account has been created successfully. Please check your email for verification."}),{})}catch(E){return{error:E instanceof Error?E:new Error("Unknown error")}}},signOut:async()=>{const{error:w}=await _e.auth.signOut();w||a({title:"Goodbye!",description:"You have been logged out successfully"})},resetPassword:async w=>{try{const{error:m}=await _e.auth.resetPasswordForEmail(w,{redirectTo:`${window.location.origin}/auth/reset`});return m?(a({title:"Password Reset Failed",description:m.message,variant:"destructive"}),{error:m}):(a({title:"Password Reset Email Sent",description:"Check your email for password reset instructions"}),{})}catch(m){return{error:m instanceof Error?m:new Error("Unknown error")}}},resendVerification:async w=>{try{const{error:m}=await _e.auth.resend({type:"signup",email:w});return m?(a({title:"Verification Email Failed",description:m.message,variant:"destructive"}),{error:m}):(a({title:"Verification Email Sent",description:"Check your email for verification instructions"}),{})}catch(m){return{error:m instanceof Error?m:new Error("Unknown error")}}},deleteAccount:async()=>{try{if(!e)return{error:new Error("No user logged in")};const{error:w}=await _e.from("profiles").delete().eq("id",e.id);w&&console.error("Error deleting profile:",w);const{error:m}=await _e.auth.admin.deleteUser(e.id);return m?(a({title:"Account Deletion Failed",description:m.message,variant:"destructive"}),{error:m}):(a({title:"Account Deleted",description:"Your account has been permanently deleted"}),{})}catch(w){return{error:w instanceof Error?w:new Error("Unknown error")}}},exportUserData:async()=>{try{if(!e)return{error:new Error("No user logged in")};const[{data:w},{data:m},{data:y}]=await Promise.all([_e.from("profiles").select("*").eq("id",e.id).single(),_e.from("orders").select("*").eq("user_id",e.id),_e.from("reviews").select("*").eq("user_id",e.id)]);return{data:{account:{id:e.id,email:e.email,created_at:e.created_at,email_confirmed_at:e.email_confirmed_at},profile:w,orders:m||[],reviews:y||[],exportedAt:new Date().toISOString()}}}catch(w){return{error:w instanceof Error?w:new Error("Unknown error")}}},isEmailVerified:i};return x.jsxDEV(Sl.Provider,{value:p,children:r},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/contexts/AuthContext.tsx",lineNumber:371,columnNumber:10},void 0)},Nl=g.createContext(void 0),kv=()=>{const r=g.useContext(Nl);if(!r)throw new Error("useCart must be used within a CartProvider");return r},Cv=({children:r})=>{const[e,t]=g.useState([]);g.useEffect(()=>{const _=localStorage.getItem("farmersCart");if(_)try{const v=JSON.parse(_);t(v)}catch(v){console.error("Error loading cart from localStorage:",v),localStorage.removeItem("farmersCart")}},[]),g.useEffect(()=>{localStorage.setItem("farmersCart",JSON.stringify(e))},[e]);const s=_=>{t(v=>v.find(w=>w.id===_.id)?v.map(w=>w.id===_.id?{...w,quantity:w.quantity+1}:w):[...v,{..._,quantity:1}])},n=(_,v)=>{if(v<=0){i(_);return}t(p=>p.map(w=>w.id===_?{...w,quantity:v}:w))},i=_=>{t(v=>v.filter(p=>p.id!==_))},h={cartItems:e,addToCart:s,updateQuantity:n,removeItem:i,clearCart:()=>{t([])},clearFarmCart:_=>{t(v=>v.filter(p=>p.farmName!==_))},getTotalPrice:()=>e.reduce((_,v)=>_+v.price*v.quantity,0),getTotalItems:()=>e.reduce((_,v)=>_+v.quantity,0),getFarmGroups:()=>{const _=new Map;return e.forEach(v=>{const p=v.farmName||"Unknown Farm";_.has(p)||_.set(p,[]),_.get(p).push(v)}),Array.from(_.entries()).map(([v,p])=>{var E;const w=p.reduce((T,N)=>T+N.price*N.quantity,0),m=p.reduce((T,N)=>T+N.quantity,0),y=100;return{farmName:v,farmId:(E=p[0])==null?void 0:E.farmId,items:p,totalPrice:w,totalItems:m,minimumOrder:y,canCheckout:w>=y}})},getFarmTotal:_=>e.filter(v=>v.farmName===_).reduce((v,p)=>v+p.price*p.quantity,0),getFarmItemCount:_=>e.filter(v=>v.farmName===_).reduce((v,p)=>v+p.quantity,0)};return x.jsxDEV(Nl.Provider,{value:h,children:r},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/contexts/CartContext.tsx",lineNumber:183,columnNumber:5},void 0)},Tl=g.createContext(void 0),Ig=()=>{const r=g.useContext(Tl);if(!r)throw new Error("useAppState must be used within an AppStateProvider");return r},Sv=({children:r})=>{const{user:e}=yi(),t=(e==null?void 0:e.id)||"guest",[s,n]=g.useState(()=>{const p=localStorage.getItem(`checkoutData_${t}`);return p?JSON.parse(p):{address:"",paymentMethod:"",bankingDetails:"",deliveryFee:0}}),[i,o]=g.useState(()=>{const p=localStorage.getItem(`notifications_${t}`);let w=p?JSON.parse(p).map(y=>({...y,timestamp:new Date(y.timestamp)})):[];return localStorage.getItem(`hasCompletedWelcome_${t}`)==="true"?w=w.filter(y=>y.id!=="1"&&y.title!=="Welcome!"):w.some(E=>E.id==="1"||E.title==="Welcome!")||(w=[{id:"1",title:"Welcome!",message:"Welcome to Fresh Market. Start exploring fresh products from local farms.",type:"order",read:!1,timestamp:new Date},...w]),w}),[a,l]=g.useState(()=>localStorage.getItem(`hasCompletedWelcome_${t}`)==="true");g.useEffect(()=>{localStorage.setItem(`checkoutData_${t}`,JSON.stringify(s))},[s,t]),g.useEffect(()=>{localStorage.setItem(`notifications_${t}`,JSON.stringify(i))},[i,t]),g.useEffect(()=>{localStorage.setItem(`hasCompletedWelcome_${t}`,a.toString())},[a,t]);const v={checkoutData:s,updateCheckoutData:p=>{n(w=>({...w,...p}))},clearCheckoutData:()=>{n({address:"",paymentMethod:"",bankingDetails:"",deliveryFee:0})},notifications:i,addNotification:p=>{const w={...p,id:Date.now().toString(),timestamp:new Date};o(m=>[w,...m])},markNotificationAsRead:p=>{o(w=>w.map(m=>m.id===p?{...m,read:!0}:m)),p==="1"&&l(!0)},markAllNotificationsAsRead:()=>{o(w=>w.map(m=>({...m,read:!0}))),i.some(w=>w.id==="1")&&l(!0)},getUnreadCount:()=>i.filter(p=>!p.read).length,hasCompletedWelcome:a,setHasCompletedWelcome:l};return x.jsxDEV(Tl.Provider,{value:v,children:r},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/contexts/AppStateContext.tsx",lineNumber:181,columnNumber:5},void 0)},Pl=g.createContext(void 0),Ug=()=>{const r=g.useContext(Pl);if(!r)throw new Error("useWishlist must be used within a WishlistProvider");return r},Nv=({children:r})=>{const{user:e}=yi(),[t,s]=g.useState([]);g.useEffect(()=>{if(e){const u=localStorage.getItem(`wishlist_${e.id}`);if(u)try{const d=JSON.parse(u).map(f=>({...f,addedAt:new Date(f.addedAt)}));s(d)}catch(d){console.error("Error parsing wishlist from localStorage:",d)}}else s([])},[e]),g.useEffect(()=>{e&&localStorage.setItem(`wishlist_${e.id}`,JSON.stringify(t))},[t,e]);const c={wishlistItems:t,addToWishlist:u=>{s(d=>d.some(f=>f.id===u.id)?d:[...d,{...u,addedAt:new Date}])},removeFromWishlist:u=>{s(d=>d.filter(f=>f.id!==u))},isInWishlist:u=>t.some(d=>d.id===u),clearWishlist:()=>{s([])},getTotalWishlistItems:()=>t.length};return x.jsxDEV(Pl.Provider,{value:c,children:r},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/contexts/WishlistContext.tsx",lineNumber:105,columnNumber:5},void 0)},Tv=dc,$g=hc,Pv=cc,Rl=g.forwardRef(({className:r,...e},t)=>x.jsxDEV(Mo,{ref:t,className:de("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...e},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/dialog.tsx",lineNumber:19,columnNumber:3},void 0));Rl.displayName=Mo.displayName;const Al=g.forwardRef(({className:r,children:e,...t},s)=>x.jsxDEV(Pv,{children:[x.jsxDEV(Rl,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/dialog.tsx",lineNumber:35,columnNumber:5},void 0),x.jsxDEV(Fo,{ref:s,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...t,children:[e,x.jsxDEV(uc,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[x.jsxDEV(va,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/dialog.tsx",lineNumber:46,columnNumber:9},void 0),x.jsxDEV("span",{className:"sr-only",children:"Close"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/dialog.tsx",lineNumber:47,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/dialog.tsx",lineNumber:45,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/dialog.tsx",lineNumber:36,columnNumber:5},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/dialog.tsx",lineNumber:34,columnNumber:3},void 0));Al.displayName=Fo.displayName;const Ol=({className:r,...e})=>x.jsxDEV("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",r),...e},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/dialog.tsx",lineNumber:55,columnNumber:3},void 0);Ol.displayName="DialogHeader";const Dl=({className:r,...e})=>x.jsxDEV("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...e},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/dialog.tsx",lineNumber:60,columnNumber:3},void 0);Dl.displayName="DialogFooter";const jl=g.forwardRef(({className:r,...e},t)=>x.jsxDEV(Vo,{ref:t,className:de("text-lg font-semibold leading-none tracking-tight",r),...e},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/dialog.tsx",lineNumber:68,columnNumber:3},void 0));jl.displayName=Vo.displayName;const Il=g.forwardRef(({className:r,...e},t)=>x.jsxDEV(Bo,{ref:t,className:de("text-sm text-muted-foreground",r),...e},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/dialog.tsx",lineNumber:80,columnNumber:3},void 0));Il.displayName=Bo.displayName;const Rv=li("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Av({className:r,variant:e,...t}){return x.jsxDEV("div",{className:de(Rv({variant:e}),r),...t},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/badge.tsx",lineNumber:26,columnNumber:10},this)}var wi="Progress",_i=100,[Ov]=ti(wi),[Dv,jv]=Ov(wi),Ul=g.forwardRef((r,e)=>{const{__scopeProgress:t,value:s=null,max:n,getValueLabel:i=Iv,...o}=r;(n||n===0)&&!wo(n)&&console.error(Uv(`${n}`,"Progress"));const a=wo(n)?n:_i;s!==null&&!_o(s,a)&&console.error($v(`${s}`,"Progress"));const l=_o(s,a)?s:null,c=Vs(l)?i(l,a):void 0;return F.jsx(Dv,{scope:t,value:l,max:a,children:F.jsx(ot.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Vs(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":Ml(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});Ul.displayName=wi;var $l="ProgressIndicator",Ll=g.forwardRef((r,e)=>{const{__scopeProgress:t,...s}=r,n=jv($l,t);return F.jsx(ot.div,{"data-state":Ml(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...s,ref:e})});Ll.displayName=$l;function Iv(r,e){return`${Math.round(r/e*100)}%`}function Ml(r,e){return r==null?"indeterminate":r===e?"complete":"loading"}function Vs(r){return typeof r=="number"}function wo(r){return Vs(r)&&!isNaN(r)&&r>0}function _o(r,e){return Vs(r)&&!isNaN(r)&&r<=e&&r>=0}function Uv(r,e){return`Invalid prop \`max\` of value \`${r}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${_i}\`.`}function $v(r,e){return`Invalid prop \`value\` of value \`${r}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${_i} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Fl=Ul,Lv=Ll;const Vl=g.forwardRef(({className:r,value:e,...t},s)=>x.jsxDEV(Fl,{ref:s,className:de("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...t,children:x.jsxDEV(Lv,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/progress.tsx",lineNumber:15,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/ui/progress.tsx",lineNumber:10,columnNumber:3},void 0));Vl.displayName=Fl.displayName;const Mv=[{icon:Rd,label:"Home",path:"/dashboard"},{icon:Id,label:"Cart",path:"/cart"},{icon:ci,label:"Track",path:"/track-order"},{icon:jd,label:"Browse",path:"/all-farms"},{icon:Od,label:"Messages",path:"/messages"}],Fv=["pending","processing","shipped","out_for_delivery","preparing","ready","confirmed"];function Vv(r){switch(r==null?void 0:r.toLowerCase()){case"pending":return 25;case"confirmed":case"processing":return 50;case"preparing":case"ready":return 75;case"out_for_delivery":case"shipped":return 90;case"delivered":return 100;case"cancelled":return 0;default:return 25}}function Bv(r){switch(r==null?void 0:r.toLowerCase()){case"delivered":return"bg-green-500";case"cancelled":return"bg-red-500";case"out_for_delivery":case"shipped":return"bg-blue-500";case"processing":case"preparing":return"bg-yellow-500";default:return"bg-gray-500"}}function Wv(r){switch(r==null?void 0:r.toLowerCase()){case"delivered":return Td;case"out_for_delivery":case"shipped":return $d;case"processing":case"preparing":return ci;default:return Pd}}const qv=()=>{const r=Ws(),e=gt(),{user:t}=yi(),{getTotalItems:s}=kv(),[n,i]=g.useState(!1),[o,a]=g.useState([]),[l,c]=g.useState(!1);g.useEffect(()=>{n&&(t!=null&&t.id)&&(c(!0),z(async()=>{const{supabase:f}=await Promise.resolve().then(()=>_v);return{supabase:f}},void 0).then(({supabase:f})=>{f.from("orders").select("id, status, total, created_at, order_items (products (name, images)), payment_status, shipping_address").eq("user_id",t.id).order("created_at",{ascending:!1}).then(({data:h})=>{a(h||[]),c(!1)})}))},[n,t]);const u=o.filter(f=>Fv.includes(f.status));return new Set(["/","/login","/register","/reset-password","/forgot-password","/auth/reset"]).has(e.pathname)?null:x.jsxDEV(x.Fragment,{children:[x.jsxDEV("nav",{className:"fixed bottom-0 left-0 right-0 bg-card border-t shadow-strong safe-area-bottom-nav",role:"navigation","aria-label":"Main navigation",children:x.jsxDEV("div",{className:"flex items-center justify-around py-2",children:Mv.map(f=>{const h=window.location.pathname===f.path;return f.label==="Track"?x.jsxDEV(Kt,{variant:n||h?"default":"ghost",size:"sm",className:"flex flex-col items-center px-3 py-2 h-auto text-muted-foreground",onClick:()=>i(!0),"aria-label":"Track Orders",children:[x.jsxDEV("div",{className:"relative flex items-center justify-center transition-all",children:x.jsxDEV(f.icon,{className:`h-5 w-5 mb-1 ${n||h?"text-green-600":"text-current"}`},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:135,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:134,columnNumber:21},void 0),x.jsxDEV("span",{className:`text-xs transition-colors ${n||h?"text-green-600 font-semibold":""}`,children:"Track"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:137,columnNumber:21},void 0)]},f.path,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:126,columnNumber:19},void 0):x.jsxDEV(Kt,{variant:h?"default":"ghost",size:"sm",className:"flex flex-col items-center px-3 py-2 h-auto text-muted-foreground",onClick:()=>r(f.path),"aria-label":`Navigate to ${f.label}`,children:[x.jsxDEV("div",{className:"relative flex items-center justify-center transition-all",children:[x.jsxDEV(f.icon,{className:`h-5 w-5 mb-1 ${h?"text-green-600":"text-current"}`},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:151,columnNumber:19},void 0),f.label==="Cart"&&s()>0&&x.jsxDEV(Av,{className:"absolute -top-2 -right-2 text-xs px-1 py-0.5 rounded-full bg-primary text-white",children:s()},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:153,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:150,columnNumber:17},void 0),x.jsxDEV("span",{className:`text-xs transition-colors ${h?"text-green-600 font-semibold":""}`,children:f.label},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:158,columnNumber:17},void 0)]},f.path,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:142,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:121,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:120,columnNumber:7},void 0),x.jsxDEV(Tv,{open:n,onOpenChange:i,children:x.jsxDEV(Al,{className:"max-w-lg",children:[x.jsxDEV(Ol,{children:[x.jsxDEV(jl,{children:"Track Orders"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:167,columnNumber:13},void 0),x.jsxDEV(Il,{children:"View and track your undelivered orders"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:168,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:166,columnNumber:11},void 0),l?x.jsxDEV("div",{className:"flex items-center justify-center py-8",children:x.jsxDEV(Ad,{className:"h-6 w-6 animate-spin text-muted-foreground"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:172,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:171,columnNumber:13},void 0):u.length===0?x.jsxDEV("div",{className:"text-center py-8",children:[x.jsxDEV(ci,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:176,columnNumber:15},void 0),x.jsxDEV("p",{className:"text-muted-foreground",children:"No undelivered orders to track."},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:177,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:175,columnNumber:13},void 0):x.jsxDEV("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:u.map(f=>{const h=Wv(f.status);return x.jsxDEV("div",{className:"bg-card rounded-lg shadow p-4 flex items-center gap-4",children:[x.jsxDEV("div",{className:`p-2 rounded-full ${Bv(f.status)}`,children:[" ",x.jsxDEV(h,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:185,columnNumber:90},void 0)," "]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:185,columnNumber:21},void 0),x.jsxDEV("div",{className:"flex-1 min-w-0",children:[x.jsxDEV("h3",{className:"font-semibold text-foreground",children:["Order #",f.id.slice(0,8)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:187,columnNumber:23},void 0),x.jsxDEV("p",{className:"text-sm text-muted-foreground",children:f.status.charAt(0).toUpperCase()+f.status.slice(1)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:188,columnNumber:23},void 0),x.jsxDEV(Vl,{value:Vv(f.status),className:"h-1 mt-2"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:189,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:186,columnNumber:21},void 0),x.jsxDEV(Kt,{size:"sm",variant:"outline",onClick:()=>{i(!1),r(`/track-order?orderId=${f.id}`)},children:"View Details"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:191,columnNumber:21},void 0)]},f.id,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:184,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:180,columnNumber:13},void 0),x.jsxDEV(Dl,{children:x.jsxDEV(Kt,{variant:"outline",onClick:()=>i(!1),children:"Close"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:198,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:197,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:165,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:164,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/components/BottomNavBar.tsx",lineNumber:119,columnNumber:5},void 0)};C.lazy(()=>z(()=>import("./Index-NsYCKWzw.js"),__vite__mapDeps([4,1,2])));const zv=C.lazy(()=>z(()=>import("./AllFarms-BvREb3eX.js"),__vite__mapDeps([5,1,6,7,8,9,2]))),Hv=C.lazy(()=>z(()=>import("./Welcome-Dq-clIEc.js"),__vite__mapDeps([10,1,11,2,12,13,14,15,16,7,17,8,18,19,20,21,22,23,24,25,26,27]))),xo=C.lazy(()=>z(()=>import("./Login-CQ5hvq5o.js"),__vite__mapDeps([28,1,29,30,2,11,12,13,17,31,32,33,22]))),Kv=C.lazy(()=>z(()=>import("./Register-BFfvyOHb.js"),__vite__mapDeps([34,1,29,30,2,17,33,22,13]))),Eo=C.lazy(()=>z(()=>import("./Dashboard-DpJ8RcEt.js"),__vite__mapDeps([35,1,2,36,12,30,37,29,38,39,40,41,15,11,13,42,24,17,43,44,45,46,8,47,48,49,21,7,50,51,52,22,9,53,54,23,55,56]))),Gv=C.lazy(()=>z(()=>import("./Cart-DBBjbHXs.js"),__vite__mapDeps([57,1,38,2,6,58,51,59,32]))),ko=C.lazy(()=>z(()=>import("./TrackOrder-fVOvPd-f.js"),__vite__mapDeps([60,1,38,2,61,29,30,37,62,63,6,55,7,64]))),Jv=C.lazy(()=>z(()=>import("./BrowseProducts-Cr0l-8aR.js"),__vite__mapDeps([65,1,29,37,66,40,2,12,44,13,42,24,36,6,8,17,67,7,22]))),Yv=C.lazy(()=>z(()=>import("./ProductDetail-B6NkSjFQ.js"),__vite__mapDeps([68,1,69,2,37,6,70,7,8,58,51,24,19]))),Qv=C.lazy(()=>z(()=>import("./FarmDetail-BvQPhRAj.js"),__vite__mapDeps([71,1,6,70,24,17,8,7,18,64,72,67,14,22,51,2]))),Xv=C.lazy(()=>z(()=>import("./Checkout-CPcjXoQ4.js"),__vite__mapDeps([73,1,29,30,2,37,12,38,74,6,32,7,49,53,75]))),Co=C.lazy(()=>z(()=>import("./UpdateProfile-DSyDjKKo.js"),__vite__mapDeps([76,1,29,30,2,37,77,69,41,19,6,49,78,16,14,79,80,62,63]))),Zv=C.lazy(()=>z(()=>import("./Subscriptions-B_kFb0JP.js"),__vite__mapDeps([81,1,69,2,61,29,30,37,6,82,13,53,20,55,23,62,63]))),eg=C.lazy(()=>z(()=>import("./Messages-Csqb0DXE.js"),__vite__mapDeps([83,1,29,39,2,40,69,6,78,82,64,84,85,59,63,62,86,87]))),tg=C.lazy(()=>z(()=>import("./RequireSubscription-Boj-lGq2.js"),__vite__mapDeps([88,1,2]))),rg=C.lazy(()=>z(()=>import("./NotFound-DJogrlmA.js"),__vite__mapDeps([89,1,29,37,30,2,66,40,12,44,13,61,49,90,24,55,7,20,70,52,50,14,67,46,64,72,8]))),sg=C.lazy(()=>z(()=>import("./HowItWorks-zD9fe23A.js"),__vite__mapDeps([91,1,69,2,29,37,30,66,40,12,44,13,17,55,31,80,53,6,90,18,67,52,25,47,8,9,26,27,85]))),ng=C.lazy(()=>z(()=>import("./CustomerSupport-DIML4qMi.js"),__vite__mapDeps([92,1,29,37,66,40,2,12,44,13,30,6,46,49,85,51]))),ig=C.lazy(()=>z(()=>import("./Wishlist-2b9Xb0zM.js"),__vite__mapDeps([93,1,29,30,2,36,12,69,66,40,44,13,6,70,79,59,15,24,8,32,48]))),og=C.lazy(()=>z(()=>import("./OrderHistory-DfHFcYEM.js"),__vite__mapDeps([94,1,29,69,2,11,12,13,62,63,86,87,6,79,52,8,55,7,22,43,95,18,67,24,96]))),ag=C.lazy(()=>z(()=>import("./PaymentSuccess-BZ4XaaTW.js"),__vite__mapDeps([97,1,74,38,2,98,87,63,24,50,6,79,72,7,80,23,27,8,70]))),lg=C.lazy(()=>z(()=>import("./PaymentCancelled-DVY3xKbc.js"),__vite__mapDeps([99,1,29,37,30,2,69,38,6,54,96,23,72,75,19,31,80,64]))),cg=C.lazy(()=>z(()=>import("./PayFastTest-CFZ2WgSP.js"),__vite__mapDeps([100,1,98,53,13,2]))),ug=C.lazy(()=>z(()=>import("./ProductReviews-nnca5O9W.js"),__vite__mapDeps([101,1,29,66,40,2,12,44,13,37,30,77,45,46,8,47,6,95,19,25,49,16,84,75,85,62,63]))),dg=C.lazy(()=>z(()=>import("./FarmerProfile-Cwn4k83G.js"),__vite__mapDeps([102,1,77,2,6,18,72,64,55,17,7,8]))),So=C.lazy(()=>z(()=>import("./PasswordReset-5LLuzmIr.js"),__vite__mapDeps([103,1,29,30,2,6,72,78,33,22]))),hg=C.lazy(()=>z(()=>import("./AuthCallback-Dx8Zyc3_.js"),__vite__mapDeps([104,1,32,2]))),fg=C.lazy(()=>z(()=>import("./ResetPassword-DzuhIYj6.js"),__vite__mapDeps([105,1,29,30,2]))),pg=C.lazy(()=>z(()=>import("./MobilePayReturn-Bk2GAn7w.js"),__vite__mapDeps([106,1,2]))),mg=new Lf,vg=()=>{const r=Ws();return g.useEffect(()=>{if(!js.isNativePlatform())return;let e=null;const t=async({url:s})=>{try{const n=String(s).match(/^([a-z0-9+.-]+):\/\/([^?]+)(?:\?(.*))?$/i);if(!n)return;const i=n[2],o=n[3]?`?${n[3]}`:"";if(i==="payment-success"){try{await pn.close()}catch{}r(`/payment-success${o}`)}else if(i==="payment-cancelled"||i==="payment-cancel"){try{await pn.close()}catch{}r(`/payment-cancelled${o}`)}}catch{if(String(s).startsWith("farmersbracket://payment-success")){try{await pn.close()}catch{}r("/payment-success")}}};return Wu.addListener("appUrlOpen",t).then(s=>{e=s}),()=>{e&&e.remove&&e.remove()}},[r]),null},gg=()=>{const r=gt(),e=new Set(["/","/login","/register","/reset-password","/forgot-password","/auth/reset"]);return C.useEffect(()=>{try{const t=localStorage.getItem("theme");t==="dark"?document.documentElement.classList.add("dark"):t==="light"&&document.documentElement.classList.remove("dark")}catch(t){console.warn("Could not apply persisted theme",t)}},[]),x.jsxDEV(Ff,{client:mg,children:x.jsxDEV(df,{children:x.jsxDEV(Ev,{children:x.jsxDEV(Sv,{children:x.jsxDEV(Cv,{children:x.jsxDEV(Nv,{children:[x.jsxDEV(ph,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:129,columnNumber:7},void 0),x.jsxDEV(Hh,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:130,columnNumber:7},void 0),x.jsxDEV("div",{className:"pb-[calc(72px+env(safe-area-inset-bottom))]",children:x.jsxDEV(Ld,{children:[x.jsxDEV(vg,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:134,columnNumber:19},void 0),x.jsxDEV(g.Suspense,{fallback:x.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center",children:x.jsxDEV("div",{className:"text-center",children:[x.jsxDEV("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:138,columnNumber:25},void 0),x.jsxDEV("p",{className:"text-muted-foreground",children:"Loading..."},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:139,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:137,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:136,columnNumber:21},void 0),children:x.jsxDEV(iu,{children:[x.jsxDEV(Q,{path:"/",element:x.jsxDEV(xo,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:144,columnNumber:48},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:144,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/welcome",element:x.jsxDEV(Hv,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:145,columnNumber:55},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:145,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/login",element:x.jsxDEV(xo,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:146,columnNumber:53},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:146,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/register",element:x.jsxDEV(Kv,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:147,columnNumber:56},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:147,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/reset-password",element:x.jsxDEV(So,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:148,columnNumber:62},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:148,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/forgot-password",element:x.jsxDEV(So,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:149,columnNumber:63},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:149,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/auth/reset",element:x.jsxDEV(fg,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:150,columnNumber:58},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:150,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/auth/callback",element:x.jsxDEV(hg,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:151,columnNumber:61},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:151,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/dashboard",element:x.jsxDEV(Eo,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:152,columnNumber:57},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:152,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/home",element:x.jsxDEV(Eo,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:154,columnNumber:52},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:154,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/cart",element:x.jsxDEV(Gv,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:155,columnNumber:52},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:155,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/track-order",element:x.jsxDEV(ko,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:156,columnNumber:59},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:156,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/track-order/:orderId",element:x.jsxDEV(ko,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:157,columnNumber:68},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:157,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/browse-products",element:x.jsxDEV(Jv,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:158,columnNumber:63},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:158,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/all-farms",element:x.jsxDEV(zv,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:159,columnNumber:57},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:159,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/farms/:farmId",element:x.jsxDEV(Qv,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:160,columnNumber:61},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:160,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/product/:productId",element:x.jsxDEV(Yv,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:161,columnNumber:66},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:161,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/checkout",element:x.jsxDEV(Xv,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:162,columnNumber:56},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:162,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/profile",element:x.jsxDEV(Co,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:163,columnNumber:55},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:163,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/update-profile",element:x.jsxDEV(Co,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:164,columnNumber:62},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:164,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/subscriptions",element:x.jsxDEV(Zv,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:165,columnNumber:61},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:165,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/messages",element:x.jsxDEV(tg,{children:x.jsxDEV(eg,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:168,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:167,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:166,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/wishlist",element:x.jsxDEV(ig,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:171,columnNumber:56},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:171,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/order-history",element:x.jsxDEV(og,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:172,columnNumber:61},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:172,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/how-it-works",element:x.jsxDEV(sg,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:173,columnNumber:60},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:173,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/customer-support",element:x.jsxDEV(ng,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:174,columnNumber:64},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:174,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/product/:productId/reviews",element:x.jsxDEV(ug,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:176,columnNumber:74},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:176,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/farmer/:farmerId",element:x.jsxDEV(dg,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:177,columnNumber:64},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:177,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/payment-success",element:x.jsxDEV(ag,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:178,columnNumber:63},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:178,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/payment-cancelled",element:x.jsxDEV(lg,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:179,columnNumber:65},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:179,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/mobile-pay-return",element:x.jsxDEV(pg,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:180,columnNumber:65},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:180,columnNumber:23},void 0),x.jsxDEV(Q,{path:"/payfast-test",element:x.jsxDEV(cg,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:181,columnNumber:60},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:181,columnNumber:23},void 0),x.jsxDEV(Q,{path:"*",element:x.jsxDEV(rg,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:183,columnNumber:48},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:183,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:143,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:135,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:133,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:132,columnNumber:3},void 0),!e.has(r.pathname)&&x.jsxDEV(qv,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:191,columnNumber:50},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:128,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:127,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:126,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:125,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:124,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/App.tsx",lineNumber:123,columnNumber:5},void 0)};qo(document.getElementById("root")).render(x.jsxDEV(_u,{children:x.jsxDEV(gg,{},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/main.tsx",lineNumber:8,columnNumber:3},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/main.tsx",lineNumber:7,columnNumber:2},void 0));export{Dl as A,Kt as B,da as C,Tv as D,Ld as E,Id as F,Ad as G,wv as H,_g as I,xg as J,js as K,ta as L,Od as M,pn as N,Ud as O,Vl as P,kd as Q,Dd as R,jd as S,$d as T,gt as U,Rd as V,qd as W,va as X,sa as Y,z as _,yi as a,Ig as b,ha as c,fa as d,pa as e,qv as f,We as g,ga as h,Td as i,x as j,$g as k,Al as l,Ol as m,jl as n,Il as o,Pd as p,xd as q,de as r,_e as s,li as t,Ws as u,zs as v,Av as w,kv as x,Ug as y,ci as z};
