import{I as U,u as V,s as d,j as e,C as i,e as t,B as g,w as c,c as p,d as x,q as w}from"./index-cM6hlhfj.js";import{r as o}from"./vendor-Gsz-jK4b.js";import{A as y,b as _,a as S}from"./avatar-CNoUiUVj.js";import{A as b}from"./arrow-left-DjF5G2qn.js";import{U as A}from"./users-BTDWqynY.js";import{M as L}from"./mail-DPZzi_yN.js";import{P as q}from"./phone-CQIu9Kpr.js";import{C as B}from"./calendar-D-pImfms.js";import{L as h}from"./leaf-Lr4USLAX.js";import{M}from"./map-pin-DADrLx4s.js";import{S as I}from"./star-DqtE3D7l.js";import"./ui-CAx9UBAP.js";function Y(){const{farmerId:a}=U(),m=V(),[l,D]=o.useState(null),[s,C]=o.useState(null),[n,F]=o.useState([]),[k,u]=o.useState(!0);o.useEffect(()=>{a&&E()},[a]);const E=async()=>{if(a)try{u(!0);const{data:r,error:f}=await d.from("profiles").select("*").eq("id",a).single();if(f){console.error("Error fetching profile:",f);return}D(r);const{data:P,error:N}=await d.from("farms").select("*").eq("farmer_id",a).single();N?console.error("Error fetching farm:",N):C(P);const{data:j,error:v}=await d.from("products").select("*").eq("farmer_id",a).order("created_at",{ascending:!1});v?console.error("Error fetching products:",v):F(j||[])}catch(r){console.error("Error loading farmer profile:",r)}finally{u(!1)}};return k?e.jsxDEV("div",{className:"min-h-screen bg-background p-4",children:e.jsxDEV("div",{className:"max-w-4xl mx-auto",children:e.jsxDEV("div",{className:"text-center py-12",children:[e.jsxDEV("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:124,columnNumber:13},this),e.jsxDEV("p",{className:"text-muted-foreground",children:"Loading farmer profile..."},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:125,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:123,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:122,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:121,columnNumber:7},this):l?e.jsxDEV("div",{className:"min-h-screen bg-background p-4",children:e.jsxDEV("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxDEV("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxDEV(g,{variant:"outline",size:"sm",onClick:()=>m(-1),children:[e.jsxDEV(b,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:161,columnNumber:13},this),"Back"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:156,columnNumber:11},this),e.jsxDEV("h1",{className:"text-2xl font-bold",children:"Farmer Profile"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:164,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:155,columnNumber:9},this),e.jsxDEV(i,{children:e.jsxDEV(t,{className:"pt-6",children:e.jsxDEV("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsxDEV(y,{className:"h-24 w-24 mx-auto md:mx-0",children:[e.jsxDEV(_,{src:l.image_url||void 0},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:172,columnNumber:17},this),e.jsxDEV(S,{className:"text-xl",children:l.name?l.name.split(" ").map(r=>r[0]).join("").toUpperCase():"F"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:173,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:171,columnNumber:15},this),e.jsxDEV("div",{className:"flex-1 space-y-4",children:[e.jsxDEV("div",{className:"text-center md:text-left",children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-card-foreground",children:l.name||"Unknown Farmer"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:180,columnNumber:19},this),e.jsxDEV(c,{variant:"secondary",className:"mt-2",children:[e.jsxDEV(A,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:182,columnNumber:21},this),"Farmer"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:181,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:179,columnNumber:17},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[l.email&&e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(L,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:190,columnNumber:23},this),e.jsxDEV("span",{className:"text-muted-foreground break-words",children:l.email},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:191,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:189,columnNumber:21},this),l.phone&&e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(q,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:196,columnNumber:23},this),e.jsxDEV("span",{className:"text-muted-foreground",children:l.phone},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:197,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:195,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(B,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:201,columnNumber:21},this),e.jsxDEV("span",{className:"text-muted-foreground",children:["Joined ",new Date(l.created_at).toLocaleDateString()]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:202,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:200,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:187,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:178,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:170,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:169,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:168,columnNumber:9},this),s&&e.jsxDEV(i,{children:[e.jsxDEV(p,{children:e.jsxDEV(x,{className:"flex items-center gap-2",children:[e.jsxDEV(h,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:215,columnNumber:17},this),"Farm Details"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:214,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:213,columnNumber:13},this),e.jsxDEV(t,{children:e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-semibold text-lg",children:s.name},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:222,columnNumber:19},this),s.description&&e.jsxDEV("p",{className:"text-gray-600 mt-1",children:s.description},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:224,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:221,columnNumber:17},this),s.location&&e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(M,{className:"h-4 w-4 text-gray-500"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:230,columnNumber:21},this),e.jsxDEV("span",{children:s.location},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:231,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:229,columnNumber:19},this),(s.rating||s.reviews_count)&&e.jsxDEV("div",{className:"flex items-center gap-4",children:[s.rating&&e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(I,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:239,columnNumber:25},this),e.jsxDEV("span",{className:"font-medium",children:s.rating},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:240,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:238,columnNumber:23},this),s.reviews_count&&e.jsxDEV("span",{className:"text-gray-600",children:[s.reviews_count," reviews"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:244,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:236,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:220,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:219,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:212,columnNumber:11},this),e.jsxDEV(i,{children:[e.jsxDEV(p,{children:[e.jsxDEV(x,{children:["Products (",n.length,")"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:258,columnNumber:13},this),e.jsxDEV(w,{children:"Fresh produce available from this farm"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:259,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:257,columnNumber:11},this),e.jsxDEV(t,{children:n.length===0?e.jsxDEV("div",{className:"text-center py-8",children:e.jsxDEV("p",{className:"text-gray-600 mb-4",children:"No products available at the moment"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:266,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:265,columnNumber:15},this):e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(r=>e.jsxDEV(i,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>m(`/product/${r.id}`),children:e.jsxDEV(t,{className:"pt-4",children:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:r.images[0]?e.jsxDEV("img",{src:r.images[0],alt:r.name,className:"w-full h-full object-cover"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:277,columnNumber:29},this):e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center",children:e.jsxDEV(h,{className:"h-12 w-12 text-gray-400"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:284,columnNumber:31},this)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:283,columnNumber:29},this)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:275,columnNumber:25},this),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-semibold",children:r.name},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:290,columnNumber:27},this),e.jsxDEV("p",{className:"text-green-600 font-bold",children:["R",r.price.toFixed(2)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:291,columnNumber:27},this),e.jsxDEV("div",{className:"flex gap-1 mt-1",children:[e.jsxDEV(c,{variant:"outline",className:"text-xs",children:r.category},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:293,columnNumber:29},this),r.is_organic&&e.jsxDEV(c,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:"Organic"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:297,columnNumber:31},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:292,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:289,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:274,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:273,columnNumber:21},this)},r.id,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:271,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:269,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:263,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:256,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:153,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:152,columnNumber:5},this):e.jsxDEV("div",{className:"min-h-screen bg-background p-4",children:e.jsxDEV("div",{className:"max-w-4xl mx-auto",children:e.jsxDEV(i,{children:e.jsxDEV(t,{className:"pt-6 text-center",children:[e.jsxDEV("h2",{className:"text-xl font-semibold mb-2 text-card-foreground",children:"Farmer Not Found"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:138,columnNumber:15},this),e.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"The farmer profile you're looking for doesn't exist."},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:139,columnNumber:15},this),e.jsxDEV(g,{onClick:()=>m("/dashboard"),children:[e.jsxDEV(b,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:141,columnNumber:17},this),"Back to Dashboard"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:140,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:137,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:136,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:135,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/FarmerProfile.tsx",lineNumber:134,columnNumber:7},this)}export{Y as default};
