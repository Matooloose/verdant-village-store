import{u as Le,a as qe,x as ze,h as Be,s as K,j as e,B as x,C as D,e as h,z as W,c as T,w as Z,P as fe,T as J,S as Ye,F as ve,d as _,R as ee,D as We,l as Ze,m as Je,n as Qe,A as Xe,p as re,i as pe}from"./index-cM6hlhfj.js";import{r as k}from"./vendor-Gsz-jK4b.js";import{I as Ge}from"./input-lvqziEey.js";import{T as Ke,a as er,b as P,c as R}from"./tabs-BISYs8ua.js";import{C as rr}from"./checkbox-ZoeZ6z8C.js";import{m as be,a as De,f as $}from"./format-CF2rwVyB.js";import{s as Q}from"./subDays-Ch0RWqvG.js";import{A as ge}from"./arrow-left-DjF5G2qn.js";import{D as xe}from"./download-CiFqjrg9.js";import{T as sr}from"./trending-up-Mu4453bt.js";import{S as se}from"./star-DqtE3D7l.js";import{C as tr}from"./calendar-D-pImfms.js";import{M as lr}from"./map-pin-DADrLx4s.js";import{E as ar}from"./eye-ByvufGnD.js";import{R as ir}from"./rotate-ccw-CisrTovW.js";import{C as dr}from"./chart-column-DKWwrv52.js";import{U as nr}from"./users-BTDWqynY.js";import{A as or}from"./award-DP1zsFEK.js";import{H as mr}from"./heart-DuimZQCb.js";import{C as ur}from"./circle-x-CncUPBm0.js";import"./ui-CAx9UBAP.js";import"./index-CDAgKskh.js";import"./check-DidQSGY2.js";import"./constructFrom-rJN6zrQ_.js";import"./addDays-DUX3p28w.js";function cr(d,s){const i=pr(d);let o;if(i.date){const v=gr(i.date,2);o=xr(v.restDateString,v.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);const C=o.getTime();let H=0,O;if(i.time&&(H=br(i.time),isNaN(H)))return new Date(NaN);if(i.timezone){if(O=Dr(i.timezone),isNaN(O))return new Date(NaN)}else{const v=new Date(C+H),V=new Date(0);return V.setFullYear(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()),V.setHours(v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds(),v.getUTCMilliseconds()),V}return new Date(C+H+O)}const X={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Nr=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,fr=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,vr=/^([+-])(\d{2})(?::?(\d{2}))?$/;function pr(d){const s={},u=d.split(X.dateTimeDelimiter);let i;if(u.length>2)return s;if(/:/.test(u[0])?i=u[0]:(s.date=u[0],i=u[1],X.timeZoneDelimiter.test(s.date)&&(s.date=d.split(X.timeZoneDelimiter)[0],i=d.substr(s.date.length,d.length))),i){const o=X.timezone.exec(i);o?(s.time=i.replace(o[1],""),s.timezone=o[1]):s.time=i}return s}function gr(d,s){const u=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+s)+"})|(\\d{2}|[+-]\\d{"+(2+s)+"})$)"),i=d.match(u);if(!i)return{year:NaN,restDateString:""};const o=i[1]?parseInt(i[1]):null,C=i[2]?parseInt(i[2]):null;return{year:C===null?o:C*100,restDateString:d.slice((i[1]||i[2]).length)}}function xr(d,s){if(s===null)return new Date(NaN);const u=d.match(Nr);if(!u)return new Date(NaN);const i=!!u[4],o=L(u[1]),C=L(u[2])-1,H=L(u[3]),O=L(u[4]),v=L(u[5])-1;if(i)return Or(s,O,v)?yr(s,O,v):new Date(NaN);{const V=new Date(0);return!Cr(s,C,H)||!kr(s,o)?new Date(NaN):(V.setUTCFullYear(s,C,Math.max(o,H)),V)}}function L(d){return d?parseInt(d):1}function br(d){const s=d.match(fr);if(!s)return NaN;const u=te(s[1]),i=te(s[2]),o=te(s[3]);return Er(u,i,o)?u*be+i*De+o*1e3:NaN}function te(d){return d&&parseFloat(d.replace(",","."))||0}function Dr(d){if(d==="Z")return 0;const s=d.match(vr);if(!s)return 0;const u=s[1]==="+"?-1:1,i=parseInt(s[2]),o=s[3]&&parseInt(s[3])||0;return jr(i,o)?u*(i*be+o*De):NaN}function yr(d,s,u){const i=new Date(0);i.setUTCFullYear(d,0,4);const o=i.getUTCDay()||7,C=(s-1)*7+u+1-o;return i.setUTCDate(i.getUTCDate()+C),i}const hr=[31,null,31,30,31,30,31,31,30,31,30,31];function ye(d){return d%400===0||d%4===0&&d%100!==0}function Cr(d,s,u){return s>=0&&s<=11&&u>=1&&u<=(hr[s]||(ye(d)?29:28))}function kr(d,s){return s>=1&&s<=(ye(d)?366:365)}function Or(d,s,u){return s>=1&&s<=53&&u>=0&&u<=6}function Er(d,s,u){return d===24?s===0&&u===0:u>=0&&u<60&&s>=0&&s<60&&d>=0&&d<25}function jr(d,s){return s>=0&&s<=59}const Kr=()=>{const d=Le(),{user:s}=qe(),{addToCart:u}=ze(),{toast:i}=Be(),[o,C]=k.useState([]),[H,O]=k.useState(!0),[v,V]=k.useState(""),[q,he]=k.useState("all"),[z,Ce]=k.useState("all"),[F,G]=k.useState([]),[y,le]=k.useState(null),[ae,ke]=k.useState([]),[ie,Oe]=k.useState([]),[Ee,je]=k.useState("orders"),Ue=["pending","processing","shipped","out_for_delivery","preparing","ready","confirmed"],de=o.filter(r=>Ue.includes(r.status)),He=r=>{switch(r.toLowerCase()){case"pending":return 25;case"confirmed":case"processing":return 50;case"preparing":case"ready":return 75;case"out_for_delivery":case"shipped":return 90;case"delivered":return 100;case"cancelled":return 0;default:return 25}},ne=r=>{switch(r.toLowerCase()){case"delivered":return"bg-green-500";case"cancelled":return"bg-red-500";case"out_for_delivery":case"shipped":return"bg-blue-500";case"processing":case"preparing":return"bg-yellow-500";default:return"bg-gray-500"}},Ve=r=>{switch(r.toLowerCase()){case"delivered":return pe;case"out_for_delivery":case"shipped":return J;case"processing":case"preparing":return W;default:return re}},[we,B]=k.useState(!1);k.useEffect(()=>{s&&Se()},[s]),k.useEffect(()=>{o.length>0&&(Te(),Fe(),Me())},[o]);const Se=async()=>{try{if(O(!0),!(s!=null&&s.id)){i({title:"User Error",description:"User ID is required to load orders",variant:"destructive"}),console.error("User ID is required to load orders"),O(!1);return}const{data:r,error:m,status:l}=await K.from("orders").select(`
          *,
          order_items (
            *,
            products (
              id,
              name,
              category,
              images,
              farmer_id,
              price
            )
          )
        `).eq("user_id",s.id).order("created_at",{ascending:!1});if(m||l===400){i({title:"Order Fetch Error",description:(m==null?void 0:m.message)||"Failed to fetch orders. Please try again.",variant:"destructive"}),console.error("Supabase orders error:",m),O(!1);return}const a=[...new Set((r||[]).flatMap(f=>{var E;return((E=f.order_items)==null?void 0:E.map(p=>{var U;return(U=p.products)==null?void 0:U.farmer_id}).filter(Boolean))||[]}))],{data:n,error:t,status:g}=await K.from("farms").select("id, name, farmer_id").in("farmer_id",a);if(t||g===400){i({title:"Farm Fetch Error",description:(t==null?void 0:t.message)||"Failed to fetch farm names.",variant:"destructive"}),console.error("Supabase farms error:",t),O(!1);return}const j=new Map;(n||[]).forEach(f=>{j.set(f.farmer_id,f.name)});const S=(r||[]).map(f=>{var Y,c,N;const E=(Y=f.order_items)==null?void 0:Y[0],p=(c=E==null?void 0:E.products)==null?void 0:c.farmer_id,U=p&&j.get(p)||"Unknown Farm";return{id:f.id,orderNumber:f.id.substring(0,8).toUpperCase(),status:f.status,total:f.total,createdAt:f.created_at,farmName:U,farmerId:p||"",itemCount:((N=f.order_items)==null?void 0:N.reduce((b,M)=>b+M.quantity,0))||0,items:(f.order_items||[]).map(b=>{var I,me,ue,ce,Ne;const M=(I=b.products)==null?void 0:I.farmer_id,A=M&&j.get(M)||"Unknown Farm";return{id:b.id,productId:b.product_id,productName:((me=b.products)==null?void 0:me.name)||"Unknown Product",quantity:b.quantity,unitPrice:b.unit_price,total:b.quantity*b.unit_price,category:((ue=b.products)==null?void 0:ue.category)||"other",farmName:A,image:((Ne=(ce=b.products)==null?void 0:ce.images)==null?void 0:Ne[0])||"/placeholder.svg"}}),paymentStatus:f.payment_status,shippingAddress:f.shipping_address||"",estimatedDelivery:f.updated_at,actualDelivery:f.status==="delivered"?f.updated_at:void 0,deliveryPerformance:f.status==="delivered"?"on-time":void 0}});C(S)}catch(r){console.error("Error loading orders:",r),C([]),i({title:"Error Loading Orders",description:"Could not load your order history. Please try again later.",variant:"destructive"})}finally{O(!1)}},Te=async()=>{try{if(o.length===0){le(null);return}const r=o.reduce((c,N)=>c+N.total,0),m=o.length,l=r/m,a={};o.forEach(c=>{c.items.forEach(N=>{a[N.category]=(a[N.category]||0)+N.quantity})});const n=Object.values(a).reduce((c,N)=>c+N,0),t=Object.entries(a).map(([c,N])=>({category:c,count:N,percentage:Math.round(N/n*100*10)/10})).sort((c,N)=>N.count-c.count).slice(0,5),g={};o.forEach(c=>{c.items.forEach(N=>{g[N.productName]||(g[N.productName]={orders:0,totalSpent:0}),g[N.productName].orders+=1,g[N.productName].totalSpent+=N.total})});const j=Object.entries(g).map(([c,N])=>({productName:c,...N})).sort((c,N)=>N.totalSpent-c.totalSpent).slice(0,5),S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],f=new Date().getMonth(),E=Array.from({length:6},(c,N)=>{const b=(f-5+N+12)%12,M=o.filter(A=>new Date(A.createdAt).getMonth()===b);return{month:S[b],amount:M.reduce((A,I)=>A+I.total,0)}}),p={};o.forEach(c=>{p[c.farmName]||(p[c.farmName]={orders:0,totalSpent:0}),p[c.farmName].orders+=1,p[c.farmName].totalSpent+=c.total});const U=Object.entries(p).map(([c,N])=>({farmName:c,...N,rating:4.5+Math.random()*.5})).sort((c,N)=>N.totalSpent-c.totalSpent).slice(0,5),Y={totalSpent:r,totalOrders:m,averageOrderValue:l,favoriteCategories:t,favoriteProducts:j,spendingTrend:E,deliveryPerformance:{onTime:o.filter(c=>c.deliveryPerformance==="on-time").length,early:o.filter(c=>c.deliveryPerformance==="early").length,late:o.filter(c=>c.deliveryPerformance==="late").length,averageRating:4.5},topFarmers:U,seasonalPatterns:[]};le(Y)}catch(r){console.error("Error calculating analytics:",r)}},Fe=async()=>{try{if(o.length===0)return;const r={};[...o].sort((a,n)=>new Date(a.createdAt).getTime()-new Date(n.createdAt).getTime()).forEach(a=>{a.items.forEach(n=>{r[n.productId]||(r[n.productId]={lastOrder:a.createdAt,frequency:0,totalOrders:0,avgPrice:n.unitPrice,category:n.category,farmName:n.farmName}),r[n.productId].lastOrder=a.createdAt,r[n.productId].totalOrders+=1})});const l=Object.entries(r).filter(([a,n])=>n.totalOrders>=2).map(([a,n])=>{var j,S,f,E;const t=Math.floor((new Date().getTime()-new Date(n.lastOrder).getTime())/864e5),g=Math.max(50,100-t*2);return{productId:a,productName:((S=(j=o.find(p=>p.items.some(U=>U.productId===a)))==null?void 0:j.items.find(p=>p.productId===a))==null?void 0:S.productName)||"",farmName:n.farmName,lastOrderDate:n.lastOrder,frequency:Math.ceil(t/n.totalOrders),confidence:Math.min(95,g),reason:n.totalOrders>=3?"Frequently ordered item":"Previously ordered",price:n.avgPrice,category:n.category,image:(E=(f=o.find(p=>p.items.some(U=>U.productId===a)))==null?void 0:f.items.find(p=>p.productId===a))==null?void 0:E.image}}).sort((a,n)=>n.confidence-a.confidence).slice(0,6);ke(l)}catch(r){console.error("Error generating reorder suggestions:",r)}},Me=async()=>{try{const m=o.filter(l=>l.status==="delivered").map(l=>({orderId:l.id,farmName:l.farmName,estimatedDate:l.estimatedDelivery||l.createdAt,actualDate:l.actualDelivery||l.createdAt,performance:l.deliveryPerformance||"on-time",rating:l.deliveryRating||4+Math.random(),feedback:l.deliveryFeedback}));Oe(m)}catch(r){console.error("Error loading delivery performance:",r)}},Ae=async r=>{var m;try{const{data:l,error:a}=await K.from("orders").select(`
          *,
          order_items (
            *,
            products (
              id,
              name,
              price,
              images,
              farmer_id,
              category,
              unit
            )
          )
        `).eq("id",r).single();if(a){console.error("Error fetching order:",a),i({title:"Error",description:"Failed to fetch order details",variant:"destructive"});return}if(!((m=l==null?void 0:l.order_items)!=null&&m.length)){i({title:"Error",description:"No items found in this order",variant:"destructive"});return}let n=0;for(const t of l.order_items)if(t.products){const g={id:t.products.id,name:t.products.name,price:t.products.price,images:t.products.images,farmer_id:t.products.farmer_id,category:t.products.category,unit:t.products.unit||"kg",quantity:t.quantity};await u(g),n++}n>0?(i({title:"Success",description:`${n} items added to cart`}),d("/cart")):i({title:"Notice",description:"No items could be added",variant:"destructive"})}catch(l){console.error("Error reordering:",l),i({title:"Error",description:"Failed to reorder items",variant:"destructive"})}},w=o.filter(r=>{const m=r.orderNumber.toLowerCase().includes(v.toLowerCase())||r.farmName.toLowerCase().includes(v.toLowerCase())||r.items.some(n=>n.productName.toLowerCase().includes(v.toLowerCase())),l=q==="all"||r.status===q;let a=!0;if(z!=="all"){const n=cr(r.createdAt),t=new Date;switch(z){case"week":a=n>=Q(t,7);break;case"month":a=n>=Q(t,30);break;case"quarter":a=n>=Q(t,90);break;case"year":a=n>=Q(t,365);break}}return m&&l&&a}).slice(0,3),Ie=r=>{G(r?w.map(m=>m.id):[])},_e=async()=>{const m=o.filter(l=>F.includes(l.id)).flatMap(l=>l.items);for(const l of m){const a={id:l.productId,name:l.productName,price:l.unitPrice,images:[l.image||"/placeholder.svg"],farmer_id:"unknown",category:l.category,unit:"kg",quantity:l.quantity};try{await u(a)}catch(n){console.error("Error adding item to cart:",n)}}i({title:"Items added to cart",description:`${m.length} items from ${F.length} orders added to cart`}),G([]),B(!1),d("/cart")},Pe=async r=>{const m={id:r.productId,name:r.productName,price:r.price,images:[r.image||"/placeholder.svg"],farmer_id:"unknown",category:r.category,unit:"kg",quantity:1};try{await u(m),i({title:"Added to cart",description:`${r.productName} has been added to your cart`})}catch(l){console.error("Error adding suggestion to cart:",l),i({title:"Error",description:"Failed to add item to cart",variant:"destructive"})}},Re=r=>{switch(r){case"pending":return e.jsxDEV(re,{className:"h-4 w-4 text-yellow-500"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:660,columnNumber:16},void 0);case"processing":return e.jsxDEV(W,{className:"h-4 w-4 text-blue-500"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:662,columnNumber:16},void 0);case"shipped":return e.jsxDEV(J,{className:"h-4 w-4 text-purple-500"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:664,columnNumber:16},void 0);case"delivered":return e.jsxDEV(pe,{className:"h-4 w-4 text-green-500"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:666,columnNumber:16},void 0);case"cancelled":return e.jsxDEV(ur,{className:"h-4 w-4 text-red-500"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:668,columnNumber:16},void 0);default:return e.jsxDEV(re,{className:"h-4 w-4 text-gray-500"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:670,columnNumber:16},void 0)}},$e=r=>{switch(r){case"early":return"text-green-600";case"on-time":return"text-blue-600";case"late":return"text-red-600";default:return"text-gray-600"}},oe=async()=>{try{const r=document.createElement("div");r.innerHTML=`
        <div class="order-history-report" style="font-family: Arial, sans-serif; padding: 20px;">
          <h1 style="text-align: center; margin-bottom: 30px;">Order History Report</h1>
          ${w.map(a=>`
            <div class="order-history-order" style="border: 1px solid #ddd; margin: 20px 0; padding: 15px;">
              <h3>Order #${a.orderNumber}</h3>
              <p><strong>Date:</strong> ${new Date(a.createdAt).toLocaleDateString()}</p>
              <p><strong>Status:</strong> ${a.status}</p>
              <p><strong>Total:</strong> R${a.total.toFixed(2)}</p>
              <p><strong>Items:</strong> ${a.itemCount}</p>
            </div>
          `).join("")}
          ${y&&y.spendingTrend?`
            <h2 style="margin-top: 40px;">Spending Trend (Last 6 Months)</h2>
            <div class="order-history-spending-bars">
              ${(()=>{const a=Math.max(...y.spendingTrend.map(n=>n.amount));return y.spendingTrend.map(n=>`
                    <div class="spending-bar" style="height: auto;">
                      <div class="spending-bar" style="height: ${Math.max(20,n.amount/a*100)}px;"></div>
                      <span class="spending-bar-label">${n.month}</span>
                      <span class="spending-bar-value">R${n.amount.toFixed(0)}</span>
                    </div>
                  `).join("")})()}
            </div>
          `:""}
        </div>
      `;const m=document.createElement("style");m.textContent="@import url('order-history.css');",r.appendChild(m);const l=window.open("","_blank");l&&(l.document.write(r.innerHTML),l.document.close(),l.print()),i({title:"Success",description:"PDF export initiated"})}catch(r){console.error("Error exporting to PDF:",r),i({title:"Error",description:"Failed to export to PDF",variant:"destructive"})}};return H?e.jsxDEV("div",{className:"min-h-screen bg-background",children:[e.jsxDEV("header",{className:"page-topbar sticky top-0 z-50 bg-card border-b",children:e.jsxDEV("div",{className:"flex items-center px-4 py-3",children:[e.jsxDEV(x,{variant:"ghost",size:"sm",onClick:()=>d(-1),children:e.jsxDEV(ge,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:792,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:791,columnNumber:13},void 0),e.jsxDEV("h1",{className:"ml-2 text-lg font-semibold",children:"Order History"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:794,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:790,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:789,columnNumber:3},void 0),e.jsxDEV("main",{className:"p-4",children:e.jsxDEV("div",{className:"space-y-6 animate-pulse",children:[e.jsxDEV("div",{className:"h-32 bg-muted rounded-lg"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:799,columnNumber:13},void 0),e.jsxDEV("div",{className:"h-64 bg-muted rounded-lg"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:800,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:798,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:797,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:788,columnNumber:7},void 0):e.jsxDEV("div",{className:"min-h-screen bg-background",children:[e.jsxDEV("header",{className:"page-topbar sticky top-0 z-50 bg-card border-b shadow-sm",children:e.jsxDEV("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(x,{variant:"ghost",size:"sm",onClick:()=>d(-1),children:e.jsxDEV(ge,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:814,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:813,columnNumber:13},void 0),e.jsxDEV("h1",{className:"text-lg font-semibold",children:"Order History"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:816,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:812,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[F.length>0&&e.jsxDEV(x,{variant:"outline",onClick:()=>B(!0),children:["Bulk Actions (",F.length,")"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:821,columnNumber:15},void 0),e.jsxDEV(x,{variant:"outline",onClick:oe,children:[e.jsxDEV(xe,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:826,columnNumber:15},void 0),"Export"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:825,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:819,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:811,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:810,columnNumber:3},void 0),e.jsxDEV("main",{className:"container mx-auto px-4 py-6 max-w-6xl",children:[y&&e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxDEV(D,{children:e.jsxDEV(h,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Spent"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:841,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-2xl font-bold",children:["R",y.totalSpent.toFixed(2)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:842,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:840,columnNumber:19},void 0),e.jsxDEV("div",{className:"h-8 w-8 flex items-center justify-center text-green-600 font-bold",children:"R"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:844,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:839,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:838,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:837,columnNumber:13},void 0),e.jsxDEV(D,{children:e.jsxDEV(h,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Orders"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:853,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-2xl font-bold",children:y.totalOrders},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:854,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:852,columnNumber:19},void 0),e.jsxDEV(W,{className:"h-8 w-8 text-blue-600"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:856,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:851,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:850,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:849,columnNumber:13},void 0),e.jsxDEV(D,{children:e.jsxDEV(h,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Order Value"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:865,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-2xl font-bold",children:["R",y.averageOrderValue.toFixed(2)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:866,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:864,columnNumber:19},void 0),e.jsxDEV(sr,{className:"h-8 w-8 text-purple-600"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:868,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:863,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:862,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:861,columnNumber:13},void 0),e.jsxDEV(D,{children:e.jsxDEV(h,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-muted-foreground",children:"Delivery Rating"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:877,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-2xl font-bold",children:y.deliveryPerformance.averageRating.toFixed(1)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:878,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:876,columnNumber:19},void 0),e.jsxDEV(se,{className:"h-8 w-8 text-yellow-600"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:880,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:875,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:874,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:873,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:836,columnNumber:11},void 0),e.jsxDEV(Ke,{value:Ee,onValueChange:je,children:[e.jsxDEV(er,{className:"grid w-full grid-cols-2 md:grid-cols-5 gap-1 h-auto p-1",children:[e.jsxDEV(P,{value:"orders",className:"text-xs md:text-sm py-2 px-2 md:px-4",children:"Orders"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:890,columnNumber:13},void 0),e.jsxDEV(P,{value:"track",className:"text-xs md:text-sm py-2 px-2 md:px-4",children:"Track"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:891,columnNumber:13},void 0),e.jsxDEV(P,{value:"analytics",className:"text-xs md:text-sm py-2 px-2 md:px-4",children:"Analytics"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:892,columnNumber:13},void 0),e.jsxDEV(P,{value:"suggestions",className:"text-xs md:text-sm py-2 px-2 md:px-4",children:"Reorder"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:893,columnNumber:13},void 0),e.jsxDEV(P,{value:"delivery",className:"text-xs md:text-sm py-2 px-2 md:px-4 col-span-2 md:col-span-1",children:"Delivery"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:894,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:889,columnNumber:11},void 0),e.jsxDEV(R,{value:"track",className:"space-y-6",children:de.length>0?e.jsxDEV("div",{className:"space-y-4",children:de.map(r=>{const m=Ve(r.status),l=He(r.status);return e.jsxDEV(D,{className:"border-2 border-primary/30",children:[e.jsxDEV(T,{children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:`p-2 rounded-full ${ne(r.status)}`,children:[" ",e.jsxDEV(m,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:907,columnNumber:96},void 0)," "]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:907,columnNumber:27},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"font-bold text-lg text-primary",children:["Order #",r.orderNumber]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:909,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:r.farmName},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:910,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:$(new Date(r.createdAt),"MMM dd, yyyy")},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:911,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:908,columnNumber:27},void 0),e.jsxDEV(Z,{variant:r.status==="delivered"?"default":"secondary",children:r.status.charAt(0).toUpperCase()+r.status.slice(1)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:913,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:906,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:905,columnNumber:23},void 0),e.jsxDEV(h,{className:"space-y-2",children:[e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{children:"Order Progress"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:920,columnNumber:27},void 0),e.jsxDEV("span",{children:[l,"%"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:921,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:919,columnNumber:25},void 0),e.jsxDEV(fe,{value:l,className:"h-2"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:923,columnNumber:25},void 0),r.estimatedDelivery&&e.jsxDEV("div",{className:"flex items-center gap-3 p-2 bg-muted rounded-lg mt-2",children:[e.jsxDEV(tr,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:926,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium",children:"Estimated Delivery"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:928,columnNumber:31},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:r.estimatedDelivery},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:929,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:927,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:925,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex items-start gap-3 p-2 bg-muted rounded-lg",children:[e.jsxDEV(lr,{className:"h-5 w-5 text-primary mt-0.5"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:934,columnNumber:27},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium",children:"Delivery Address"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:936,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:r.shippingAddress||"No address provided"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:937,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:935,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:933,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-3 mt-2",children:r.items.map(a=>e.jsxDEV("div",{className:"flex flex-col items-center w-20",children:[e.jsxDEV("img",{src:a.image||"/placeholder.svg",alt:a.productName,className:"w-10 h-10 object-cover rounded"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:943,columnNumber:31},void 0),e.jsxDEV("span",{className:"text-xs text-center mt-1",children:a.productName},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:944,columnNumber:31},void 0)]},a.id,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:942,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:940,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex justify-between items-center text-lg font-semibold mt-2",children:[e.jsxDEV("span",{children:"Total"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:949,columnNumber:27},void 0),e.jsxDEV("span",{children:["R",r.total.toFixed(2)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:950,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:948,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex gap-2 mt-2",children:[e.jsxDEV(x,{variant:"outline",size:"sm",onClick:()=>d(`/track-order/${r.id}`),children:"View Details"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:953,columnNumber:27},void 0),e.jsxDEV(x,{variant:"outline",size:"sm",onClick:()=>d("/browse-products"),children:"Start Shopping"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:956,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:952,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:918,columnNumber:23},void 0)]},r.id,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:904,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:899,columnNumber:15},void 0):e.jsxDEV(D,{className:"text-center py-12",children:e.jsxDEV(h,{children:[e.jsxDEV(J,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:968,columnNumber:19},void 0),e.jsxDEV("h3",{className:"text-xl font-semibold mb-2",children:"No undelivered orders"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:969,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-muted-foreground mb-6",children:"All your orders have been delivered or cancelled."},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:970,columnNumber:19},void 0),e.jsxDEV(x,{onClick:()=>d("/browse-products"),children:"Start Shopping"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:971,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:967,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:966,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:897,columnNumber:11},void 0),e.jsxDEV(R,{value:"orders",className:"space-y-6",children:[e.jsxDEV(D,{children:e.jsxDEV(h,{className:"p-4",children:[e.jsxDEV("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(Ye,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:985,columnNumber:23},void 0),e.jsxDEV(Ge,{placeholder:"Search orders, products, or farms...",value:v,onChange:r=>V(r.target.value),className:"pl-10"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:986,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:984,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:983,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("select",{value:q,onChange:r=>he(r.target.value),className:"px-3 py-2 border rounded-md bg-background text-sm",title:"Filter orders by status","aria-label":"Filter orders by status",children:[e.jsxDEV("option",{value:"all",children:"All Status"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1003,columnNumber:23},void 0),e.jsxDEV("option",{value:"pending",children:"Pending"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1004,columnNumber:23},void 0),e.jsxDEV("option",{value:"processing",children:"Processing"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1005,columnNumber:23},void 0),e.jsxDEV("option",{value:"shipped",children:"Shipped"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1006,columnNumber:23},void 0),e.jsxDEV("option",{value:"delivered",children:"Delivered"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1007,columnNumber:23},void 0),e.jsxDEV("option",{value:"cancelled",children:"Cancelled"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1008,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:996,columnNumber:21},void 0),e.jsxDEV("select",{value:z,onChange:r=>Ce(r.target.value),className:"px-3 py-2 border rounded-md bg-background text-sm",title:"Filter orders by date range","aria-label":"Filter orders by date range",children:[e.jsxDEV("option",{value:"all",children:"All Time"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1018,columnNumber:23},void 0),e.jsxDEV("option",{value:"week",children:"Last Week"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1019,columnNumber:23},void 0),e.jsxDEV("option",{value:"month",children:"Last Month"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1020,columnNumber:23},void 0),e.jsxDEV("option",{value:"quarter",children:"Last Quarter"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1021,columnNumber:23},void 0),e.jsxDEV("option",{value:"year",children:"Last Year"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1022,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1011,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:995,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:982,columnNumber:17},void 0),w.length>0&&e.jsxDEV("div",{className:"flex items-center gap-2 mt-4",children:[e.jsxDEV(rr,{checked:F.length===w.length,onCheckedChange:Ie},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1029,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:["Select all (",w.length," orders)"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1033,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1028,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:981,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:980,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-4",children:[Array.from(new Set(w.map(r=>r.farmName))).map(r=>{var n;const m=w.filter(t=>t.farmName===r),l=((n=m[0])==null?void 0:n.farmerId)||"",a=m.flatMap(t=>t.items.filter(g=>g.farmName===r));return e.jsxDEV(D,{className:"border-2 border-primary/20 hover:border-primary/40 transition-all duration-200 shadow-sm hover:shadow-md",children:[e.jsxDEV(T,{className:"cursor-pointer hover:bg-muted/30 transition-colors duration-200",onClick:()=>d(`/farmer/${l}`),children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"font-bold text-lg text-primary hover:underline",children:r},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1055,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[m.length," order",m.length>1?"s":""," • R",m.reduce((t,g)=>t+g.total,0).toFixed(2)," total"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1056,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1054,columnNumber:25},void 0),e.jsxDEV(x,{variant:"outline",size:"sm",className:"hover:bg-primary hover:text-white transition-colors",onClick:t=>{t.stopPropagation(),d(`/farmer/${l}`)},children:"Visit Farm"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1061,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1053,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1052,columnNumber:21},void 0),e.jsxDEV(h,{className:"space-y-6",children:[a.length>0&&e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-semibold text-base mb-3 flex items-center gap-2",children:[e.jsxDEV(W,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1076,columnNumber:29},void 0),"Products from ",r]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1075,columnNumber:27},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-3",children:[a.slice(0,8).map((t,g)=>e.jsxDEV("div",{className:"group relative",children:[e.jsxDEV("div",{className:"aspect-square relative overflow-hidden rounded-lg border bg-muted",children:[e.jsxDEV("img",{src:t.image||"/placeholder.svg",alt:t.productName,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1083,columnNumber:35},void 0),e.jsxDEV("div",{className:"absolute top-1 right-1 bg-primary text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:m.filter(j=>j.items.some(S=>S.productName===t.productName)).length},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1088,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1082,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-xs text-center mt-1 line-clamp-2 font-medium",children:t.productName},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1092,columnNumber:33},void 0)]},`${t.id}-${g}`,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1081,columnNumber:31},void 0)),a.length>8&&e.jsxDEV("div",{className:"aspect-square rounded-lg border border-dashed border-muted-foreground/30 flex items-center justify-center",children:e.jsxDEV("span",{className:"text-xs text-muted-foreground text-center",children:["+",a.length-8," more"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1097,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1096,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1079,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1074,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-semibold text-base mb-3 flex items-center gap-2",children:[e.jsxDEV(ve,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1109,columnNumber:27},void 0),"Order History"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1108,columnNumber:25},void 0),e.jsxDEV("div",{className:"space-y-3",children:m.map(t=>e.jsxDEV("div",{className:"border rounded-lg p-4 hover:bg-muted/30 transition-colors duration-200",children:[e.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:`p-2 rounded-full ${ne(t.status)}`,children:Re(t.status)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1117,columnNumber:35},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium",children:["Order #",t.orderNumber]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1121,columnNumber:37},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[$(new Date(t.createdAt),"MMM dd, yyyy")," • ",t.itemCount," items"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1122,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1120,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1116,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(Z,{variant:t.status==="delivered"?"default":"secondary",className:"whitespace-nowrap",children:t.status.charAt(0).toUpperCase()+t.status.slice(1)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1129,columnNumber:35},void 0),e.jsxDEV("p",{className:"font-bold text-lg",children:["R",t.total.toFixed(2)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1132,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1128,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1115,columnNumber:31},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-2 mt-3",children:[e.jsxDEV(x,{variant:"outline",size:"sm",onClick:()=>d(`/track-order/${t.id}`),children:[e.jsxDEV(ar,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1138,columnNumber:35},void 0),"View Details"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1137,columnNumber:33},void 0),t.status==="delivered"&&e.jsxDEV(x,{variant:"outline",size:"sm",onClick:()=>Ae(t.id),children:[e.jsxDEV(ir,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1143,columnNumber:37},void 0),"Reorder"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1142,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1136,columnNumber:31},void 0)]},t.id,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1114,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1112,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1107,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1071,columnNumber:21},void 0)]},r,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1051,columnNumber:19},void 0)}),w.length===0&&e.jsxDEV(D,{className:"text-center py-12",children:e.jsxDEV(h,{children:[e.jsxDEV(ve,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1159,columnNumber:21},void 0),e.jsxDEV("h3",{className:"text-xl font-semibold mb-2",children:"No orders found"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1160,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-muted-foreground mb-6",children:v||q!=="all"||z!=="all"?"Try adjusting your search or filter criteria":"Start shopping to see your orders here"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1161,columnNumber:21},void 0),e.jsxDEV(x,{onClick:()=>d("/browse-products"),children:"Start Shopping"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1167,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1158,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1157,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1042,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:978,columnNumber:11},void 0),e.jsxDEV(R,{value:"analytics",className:"space-y-6",children:y&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(D,{children:[e.jsxDEV(T,{children:e.jsxDEV(_,{className:"flex items-center gap-2",children:[e.jsxDEV(dr,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1184,columnNumber:23},void 0),"Spending Trend (Last 6 Months)"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1183,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1182,columnNumber:19},void 0),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"grid grid-cols-6 gap-4",children:y.spendingTrend.map((r,m)=>e.jsxDEV("div",{className:"text-center",children:[(()=>{const l=Math.max(...y.spendingTrend.map(n=>n.amount)),a=Math.max(20,r.amount/l*100);return e.jsxDEV("div",{className:"bg-primary/10 rounded-t bar-chart-bar",style:{"--bar-height":`${a}px`},title:`${r.month}: R${r.amount.toFixed(2)}`},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1196,columnNumber:31},void 0)})(),e.jsxDEV("p",{className:"text-xs mt-2",children:r.month},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1203,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-xs font-medium",children:["R",r.amount.toFixed(0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1204,columnNumber:27},void 0)]},r.month,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1191,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1189,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1188,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1181,columnNumber:17},void 0),e.jsxDEV(D,{children:[e.jsxDEV(T,{children:e.jsxDEV(_,{children:"Favorite Categories"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1214,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1213,columnNumber:19},void 0),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"space-y-3",children:y.favoriteCategories.map((r,m)=>e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"capitalize",children:r.category},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1220,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(fe,{value:r.percentage,className:"w-20"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1222,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-sm text-muted-foreground w-12",children:[r.percentage,"%"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1223,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1221,columnNumber:27},void 0)]},r.category,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1219,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1217,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1216,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1212,columnNumber:17},void 0),e.jsxDEV(D,{children:[e.jsxDEV(T,{children:e.jsxDEV(_,{className:"flex items-center gap-2",children:[e.jsxDEV(nr,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1237,columnNumber:23},void 0),"Top Farmers"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1236,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1235,columnNumber:19},void 0),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"space-y-3",children:y.topFarmers.map((r,m)=>e.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium",children:r.farmName},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1246,columnNumber:29},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[r.orders," orders • R",r.totalSpent.toFixed(2)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1247,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1245,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(se,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1252,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-sm",children:r.rating.toFixed(1)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1253,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1251,columnNumber:27},void 0)]},r.farmName,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1244,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1242,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1241,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1234,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1179,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1177,columnNumber:11},void 0),e.jsxDEV(R,{value:"suggestions",className:"space-y-6",children:e.jsxDEV(D,{children:[e.jsxDEV(T,{children:[e.jsxDEV(_,{className:"flex items-center gap-2",children:[e.jsxDEV(ee,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1269,columnNumber:19},void 0),"Smart Reorder Suggestions"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1268,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Based on your order history and preferences"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1272,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1267,columnNumber:15},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ae.map(r=>e.jsxDEV(D,{className:"p-4",children:[e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV("img",{src:r.image||"/placeholder.svg",alt:r.productName,className:"w-16 h-16 object-cover rounded-lg"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1281,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h4",{className:"font-medium",children:r.productName},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1287,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:r.farmName},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1288,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["Last ordered: ",$(new Date(r.lastOrderDate),"MMM dd")]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1289,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxDEV(Z,{variant:"outline",className:"text-xs",children:[r.confidence,"% confidence"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1293,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-sm font-medium",children:["R",r.price.toFixed(2)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1296,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1292,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1286,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1280,columnNumber:23},void 0),e.jsxDEV(x,{className:"w-full mt-3",variant:"outline",onClick:()=>Pe(r),children:"Add to Cart"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1300,columnNumber:23},void 0)]},r.productId,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1279,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1277,columnNumber:17},void 0),ae.length===0&&e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV(ee,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1313,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-muted-foreground",children:"No reorder suggestions available. Place more orders to see personalized recommendations."},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1314,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1312,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1276,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1266,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1265,columnNumber:11},void 0),e.jsxDEV(R,{value:"delivery",className:"space-y-6",children:e.jsxDEV(D,{children:[e.jsxDEV(T,{children:[e.jsxDEV(_,{className:"flex items-center gap-2",children:[e.jsxDEV(or,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1328,columnNumber:19},void 0),"Delivery Performance"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1327,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Track delivery times and rate your experience"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1331,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1326,columnNumber:15},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"space-y-4",children:ie.map(r=>e.jsxDEV("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-medium",children:r.farmName},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1340,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["Order #",r.orderId.substring(0,8)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1341,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["Expected: ",$(new Date(r.estimatedDate),"MMM dd")," • Delivered: ",$(new Date(r.actualDate),"MMM dd")]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1344,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1339,columnNumber:23},void 0),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV(Z,{variant:"outline",className:$e(r.performance),children:r.performance.charAt(0).toUpperCase()+r.performance.slice(1)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1351,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-1 mt-1",children:[e.jsxDEV(se,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1358,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-sm",children:r.rating.toFixed(1)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1359,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1357,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1350,columnNumber:23},void 0)]},r.orderId,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1338,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1336,columnNumber:17},void 0),ie.length===0&&e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV(J,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1368,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-muted-foreground",children:"No delivery data available yet."},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1369,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1367,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1335,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1325,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1324,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:888,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:833,columnNumber:7},void 0),e.jsxDEV(We,{open:we,onOpenChange:B,children:e.jsxDEV(Ze,{children:[e.jsxDEV(Je,{children:e.jsxDEV(Qe,{children:"Bulk Actions"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1384,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1383,columnNumber:11},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["You have selected ",F.length," orders. What would you like to do?"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1388,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(x,{className:"w-full justify-start",onClick:_e,children:[e.jsxDEV(ee,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1394,columnNumber:17},void 0),"Reorder All Items"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1393,columnNumber:15},void 0),e.jsxDEV(x,{variant:"outline",className:"w-full justify-start",onClick:oe,children:[e.jsxDEV(xe,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1399,columnNumber:17},void 0),"Export Selected Orders"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1398,columnNumber:15},void 0),e.jsxDEV(x,{variant:"outline",className:"w-full justify-start",children:[e.jsxDEV(mr,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1404,columnNumber:17},void 0),"Add All to Favorites"]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1403,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1392,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1387,columnNumber:11},void 0),e.jsxDEV(Xe,{children:e.jsxDEV(x,{variant:"outline",onClick:()=>B(!1),children:"Cancel"},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1411,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1410,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1382,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:1381,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/dell/Desktop/verdant-village-store/src/pages/OrderHistory.tsx",lineNumber:808,columnNumber:5},void 0)};export{Kr as default};
